(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"5Uy/":function(e,t,o){"use strict";o.d(t,"a",(function(){return A}));var n=o("cxbk"),i=o("p9xo"),r=o("m8mU"),s=o("iX7+"),a=o("YHXK"),c=o("DnI1"),l=o("Gs5E"),u=o("PkRB"),d=o("fXoL"),g=o("TEn/"),p=o("ofXK"),b=o("6f/U"),f=o("bv9b"),h=o("oNBn"),m=o("sYmb");function y(e,t){if(1&e&&(d.gc(0,"ion-title"),d.ed(1),d.fc()),2&e){const e=d.sc();d.Lb(1),d.hd(" ",e.course.name," - ",e.course.subject," ")}}function v(e,t){1&e&&d.bc(0,"mat-progress-bar",9)}function x(e,t){if(1&e&&d.bc(0,"app-course-books",10),2&e){const e=d.sc();d.Ac("course",e.course)("force_show_books",!0)("allow_my_role",1)("course_id",e.course.uuid)}}let A=(()=>{class e{constructor(e,t,o,i,r,s,a,c){this.courseService=e,this.navParams=t,this.modalCtrl=o,this.controlErroresService=i,this.toastService=r,this.loadingService=s,this.bookRegisterEventService=a,this.redirectService=c,this.scrollbarStyle=n.a.scrollbarStyle,this.countMyBooks=0,this.countCourseBooks=0,this.rxjsGlobal=null,this.course=this.navParams.data.course,s.get$().subscribe(e=>{console.log("L-SERV",e),this.loading=e}),this.rxjsGlobal=a.get$().subscribe(e=>{this.countBooksCompare()})}ngOnInit(){this.countBooksCompare()}ngOnDestroy(){this.rxjsGlobal.unsubscribe()}countBooksCompare(){this.loading=!0,this.courseService.countBooks(this.course.uuid,1).subscribe(e=>{console.log("COUNT BOOK COMP",e),this.loading=!1,this.countMyBooks=e.data.my,this.countCourseBooks=e.data.course,"continue"==e.data.continue&&this.joinCourse()},e=>{this.loading=!1})}joinCourse(e=0){this.loading=!0,this.courseService.join({id:this.course.uuid}).subscribe(e=>{this.loading=!1,this.toastService.presentToast(e.message,e.status),this.redirectService.redirect(e.message,i.h.one_course+e.data.uuid+"/"+e.data.uuid+"/posts"),this.dismiss(!0)},t=>{if(this.loading=!1,e<3)return e++,void this.joinCourse(e);this.controlErroresService.control(t)})}dismiss(e){this.modalCtrl.dismiss(e)}}return e.\u0275fac=function(t){return new(t||e)(d.ac(s.a),d.ac(g.Fb),d.ac(g.Db),d.ac(r.a),d.ac(u.a),d.ac(c.a),d.ac(a.a),d.ac(l.a))},e.\u0275cmp=d.Ub({type:e,selectors:[["app-required-book-join"]],decls:17,vars:13,consts:[["translucent","true"],[4,"ngIf"],["slot","end"],[3,"disabled","click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],[3,"scrollbar"],[1,"text-center"],[3,"course","force_show_books","allow_my_role","course_id",4,"ngIf"],["mode","indeterminate"],[3,"course","force_show_books","allow_my_role","course_id"]],template:function(e,t){1&e&&(d.gc(0,"ion-header",0),d.gc(1,"ion-toolbar"),d.cd(2,y,2,2,"ion-title",1),d.gc(3,"ion-buttons",2),d.gc(4,"ion-button",3),d.oc("click",(function(){return t.dismiss()})),d.bc(5,"ion-icon",4),d.fc(),d.fc(),d.fc(),d.cd(6,v,1,0,"mat-progress-bar",5),d.fc(),d.gc(7,"ion-content",6),d.gc(8,"h4",7),d.gc(9,"strong"),d.ed(10),d.tc(11,"translate"),d.fc(),d.fc(),d.cd(12,x,1,4,"app-course-books",8),d.fc(),d.gc(13,"ion-footer",0),d.gc(14,"h2",7),d.ed(15),d.tc(16,"translate"),d.fc(),d.fc()),2&e&&(d.Lb(2),d.Ac("ngIf",null!=t.course),d.Lb(2),d.Ac("disabled",t.loading),d.Lb(2),d.Ac("ngIf",t.loading),d.Lb(1),d.Bc("scrollbar",t.scrollbarStyle),d.Lb(3),d.fd(d.uc(11,9,"forms.your_teacher_active_class")),d.Lb(2),d.Ac("ngIf",null!=t.course),d.Lb(3),d.id(" ",t.countMyBooks," ",d.uc(16,11,"pages.course.of")," ",t.countCourseBooks," "))},directives:[g.B,g.zb,p.t,g.l,g.k,g.C,g.u,b.b,g.z,g.xb,f.a,h.a],pipes:[m.d],styles:[""]}),e})()},"74mu":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return a}));const n=(e,t)=>null!==t.closest(e),i=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,["ion-color-"+e]:!0},t):t,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,a=async(e,t,o,n)=>{if(null!=e&&"#"!==e[0]&&!s.test(e)){const i=document.querySelector("ion-router");if(i)return null!=t&&t.preventDefault(),i.push(e,o,n)}return!1}},Zcj0:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o("wEJo"),i=o("qULd"),r=o("KF81");const s=(e,t)=>{let o,s;const a=(e,n,i)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,n);r&&t(r)?r!==o&&(l(),c(r,i)):l()},c=(e,t)=>{o=e,s||(s=o);const i=o;Object(n.f)(()=>i.classList.add("ion-activated")),t()},l=(e=!1)=>{if(!o)return;const t=o;Object(n.f)(()=>t.classList.remove("ion-activated")),e&&s!==o&&o.click(),o=void 0};return Object(r.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>a(e.currentX,e.currentY,i.a),onMove:e=>a(e.currentX,e.currentY,i.b),onEnd:()=>{l(!0),Object(i.e)(),s=void 0}})}},acej:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r}));var n=o("1vRN");const i=async(e,t,o,i,r)=>{if(e)return e.attachViewToDom(t,o,r,i);if("string"!=typeof o&&!(o instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof o?t.ownerDocument&&t.ownerDocument.createElement(o):o;return i&&i.forEach(e=>s.classList.add(e)),r&&Object.assign(s,r),t.appendChild(s),await new Promise(e=>Object(n.c)(s,e)),s},r=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n={bubbles:{dur:1e3,circles:9,fn:(e,t,o)=>{const n=e*t/o-e+"ms",i=2*Math.PI*t/o;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,o)=>{const n=t/o,i=e*n-e+"ms",r=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,o)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/o-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,o)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/o-e+"ms"}})}}},qULd:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return i})),o.d(t,"d",(function(){return c})),o.d(t,"e",(function(){return a}));const n={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const o=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:o})},notification(e){const t=this.getEngine();if(!t)return;const o=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:o})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=()=>{n.selection()},r=()=>{n.selectionStart()},s=()=>{n.selectionChanged()},a=()=>{n.selectionEnd()},c=e=>{n.impact(e)}},tAZD:function(e,t,o){var n,i,r;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else i=[o,t],void 0===(r="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=r)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=void 0;t.default=["en",[["a","p"],["AM","PM"],o],[["AM","PM"],o,o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",o,"{1} 'at' {0}",o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}]}))},uD9u:function(e,t,o){"use strict";o.d(t,"a",(function(){return M}));var n=o("cxbk"),i=o("p9xo"),r=o("jK8c"),s=o("m8mU"),a=o("fXoL"),c=o("tyNb"),l=o("ofXK"),u=o("oOf3"),d=o("w3oG"),g=o("TEn/"),p=o("A9QR"),b=o("sYmb");function f(e,t){1&e&&a.bc(0,"library-loading-animation")}const h=function(e){return{course:e}},m=function(e){return{background:e,backgroundSize:"180px 255px"}};function y(e,t){if(1&e&&(a.gc(0,"ion-list",7),a.bc(1,"div",8),a.gc(2,"h3",9),a.gc(3,"strong"),a.ed(4),a.fc(),a.fc(),a.fc()),2&e){const e=t.$implicit,o=a.sc(2);a.Lb(1),a.Ac("routerLink",o.routeBooks+e.uuid)("queryParams",a.Fc(4,h,o.course_id))("ngStyle",a.Fc(6,m,"url("+e.theme_url+")")),a.Lb(3),a.fd(e.name)}}const v=function(e,t,o){return{id:"foo-paginate-book",itemsPerPage:e,currentPage:t,totalItems:o}};function x(e,t){if(1&e&&(a.gc(0,"div",5),a.cd(1,y,5,8,"ion-list",6),a.tc(2,"paginate"),a.fc()),2&e){const e=a.sc();a.Lb(1),a.Ac("ngForOf",a.vc(2,1,e.libraries,a.Hc(4,v,e.pageSize,e.thisPage,e.totalItems)))}}function A(e,t){1&e&&(a.gc(0,"div",10),a.bc(1,"books-animations",11),a.tc(2,"translate"),a.fc()),2&e&&(a.Lb(1),a.Ac("$text",a.uc(2,1,"pages.book.libraries_not_found")))}let M=(()=>{class e{constructor(e,t,o){this.booksService=e,this.controlErroresService=t,this.activeRoute=o,this.scrollbarStyle=n.a.scrollbarStyle,this.thisPage=1,this.libraries=[],this.loading=!1,this.routeBooks=i.h.library_books+"/",this.pageSize=9,this.totalPages=0,this.totalItems=0,o.snapshot.queryParams&&o.snapshot.queryParams.ref&&o.snapshot.queryParams.ref&&(this.timerIdServer=o.snapshot.queryParams.ref),this.course_id=o.snapshot.params.uuid}ngOnInit(){this.loadLibraries({page:this.thisPage})}loadLibraries(e){this.loading=!0,e||(e={}),e.timerIdServer=this.timerIdServer,this.booksService.getLibraries(e).subscribe(e=>{this.loading=!1,e.data&&e.data.data&&Array.isArray(e.data.data)?(this.libraries=e.data.data,this.totalPages=e.data.last_page,this.totalItems=e.data.last_page*e.data.data.length,this.pageSize=e.data.number_paginate):this.controlErroresService.control({message:"Error al obtener datos"})},e=>{this.loading=!1,this.controlErroresService.control(e)})}pageChanged(e){if(console.log(e),e==1/0)return!1;this.thisPage=e,this.loadLibraries({page:this.thisPage})}}return e.\u0275fac=function(t){return new(t||e)(a.ac(r.a),a.ac(s.a),a.ac(c.a))},e.\u0275cmp=a.Ub({type:e,selectors:[["app-course-library"]],decls:10,vars:18,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"flex","flex-center"],["id","foo-paginate-book","maxSize","9","directionLinks","true","autoHide","true","responsive","true",3,"previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel","pageChange","pageBoundsCorrection"],["class","flex flex-center mt-4",4,"ngIf"],[1,"container"],["class","box-out",4,"ngFor","ngForOf"],[1,"box-out"],[1,"book","books-1",3,"routerLink","queryParams","ngStyle"],[1,"text-center",2,"width","90%"],[1,"flex","flex-center","mt-4"],[3,"$text"]],template:function(e,t){1&e&&(a.cd(0,f,1,0,"library-loading-animation",0),a.cd(1,x,3,8,"div",1),a.gc(2,"div",2),a.gc(3,"pagination-controls",3),a.oc("pageChange",(function(e){return t.pageChanged(e)}))("pageBoundsCorrection",(function(e){return t.pageChanged(e)})),a.tc(4,"translate"),a.tc(5,"translate"),a.tc(6,"translate"),a.tc(7,"translate"),a.tc(8,"translate"),a.fc(),a.fc(),a.cd(9,A,3,3,"div",4)),2&e&&(a.Ac("ngIf",t.loading),a.Lb(1),a.Ac("ngIf",!t.loading),a.Lb(2),a.Ac("previousLabel",a.uc(4,8,"paginate.previous"))("nextLabel",a.uc(5,10,"paginate.next"))("screenReaderPaginationLabel",a.uc(6,12,"paginate.pagination"))("screenReaderPageLabel",a.uc(7,14,"paginate.page"))("screenReaderCurrentLabel",a.uc(8,16,"paginate.in_your_page")),a.Lb(6),a.Ac("ngIf",0==t.libraries.length&&!t.loading))},directives:[l.t,u.c,d.a,l.s,g.O,g.Kb,c.g,l.w,p.a],pipes:[b.d,u.b],styles:['.container[_ngcontent-%COMP%]{justify-content:center;position:relative}.box-out[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.box-out[_ngcontent-%COMP%]{flex-direction:column}.box-inner[_ngcontent-%COMP%]{z-index:99;width:900px;display:flex;align-items:center;position:absolute;top:350px;overflow:hidden;background-color:#fff}.book[_ngcontent-%COMP%]{width:180px;height:255px;background-color:#3e4798;transition:all .3s ease-in-out;transform-origin:left center 0;transform-style:preserve-3d;border-top-right-radius:5px;border-bottom-right-radius:5px;-webkit-backface-visibility:hidden;overflow:hidden}.box-out[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]:after{content:" ";display:block;opacity:0;width:180px;height:255px;position:relative;left:8px;transition:all .3s ease}.box-out[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]:before{content:" ";z-index:999;display:block;width:20px;height:100px;opacity:0;position:absolute;top:-12px;right:8px;transition:all .25s;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAABhCAYAAABh23lYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHCSURBVHgB7dxPTsJAHMXxN7Xu3UhigobxJHACvQFwAr2BcgO8AZxE7uGiDZiQyEIW7oSOUyKbKgLS8u+9b9JNF818fum0XdWUhy9VEDZBGIdBGD6DsFM3bQYgTnjWhGdNeNaEZ0141oRnTXjWhGdNeNaEZ0141oRnTXjWhGdNeNaEZ0141oRnTXjWhGdNeNaEZ0141oRnTXjWhGdNeNaEZ0141oRnTXjWhGdNeNaEZ0141oRnTXjWhGdNeNZ2hR/7o+UcmnCIsaNCbLcU/RR8oB1bO/4+17l8ixoGeIBBBVvMXI0ih+L7Df2j8iiqnvgh+AVVUXDOTZvF4tNb2qC7DJ1tNgSDO78tblFQxeE92l+0NSjZDjaoMowqyYl7hDF15JzL+x+YHtxLgFq/ZO2m8LT4wsb90nUjmMD61XaRc7ng5+jBua29ntsecq6oIWyELxqdLe8h/GvPp+h0T28D/FezZ8Ip7pHgZt3X5NoPvH1BZ5sNIUTDL7C+6hBWxxt0gk+00tsOe96qH0zL8GO4pBtMg/YhoLMtG8Ii/EpfY4fSoiFk8UeFzpYdwhz/jiNGZ0uHEBjUEzftohJFZyAsdX8BM0/amLC3spYAAAAASUVORK5CYII=");background-size:16px;background-repeat:no-repeat}.books-1[_ngcontent-%COMP%]{min-width:180px;margin:10px 15px}.box-inner[_ngcontent-%COMP%]   .book[_ngcontent-%COMP%]{margin-left:90px;position:relative;top:-194px}.book[_ngcontent-%COMP%]:hover{cursor:pointer;transform:rotateY(-28deg) rotate(-2deg) scale(1.02);-webkit-backface-visibility:hidden;box-shadow:1px 3px 2px #353d85,20px 8px 0 #525dc4}.book[_ngcontent-%COMP%]:hover:after{content:" ";display:block;opacity:1;width:172px;height:255px;position:relative;left:8px;background:linear-gradient(-180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0) 60%)}.book[_ngcontent-%COMP%]:hover:before{transform:translateY(9px);opacity:1}.dr[_ngcontent-%COMP%]{position:absolute;bottom:16px;right:16px;width:100px}']}),e})()},vkF9:function(e,t,o){var n,i,r;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else i=[o,t],void 0===(r="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=r)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=void 0;t.default=["es-EC",[["a.\xa0m.","p.\xa0m."],o,o],o,[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],o,[["a. C.","d. C."],o,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",o,"{1} 'a' 'las' {0}",o],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4#,##0.00;\xa4-#,##0.00","#E0"],"USD","$","d\xf3lar estadounidense",{AUD:[o,"$"],BRL:[o,"R$"],CAD:[o,"$"],CNY:[o,"\xa5"],ESP:["\u20a7"],EUR:[o,"\u20ac"],FKP:[o,"FK\xa3"],GBP:[o,"\xa3"],HKD:[o,"$"],ILS:[o,"\u20aa"],INR:[o,"\u20b9"],JPY:[o,"\xa5"],KRW:[o,"\u20a9"],MXN:[o,"$"],NZD:[o,"$"],RON:[o,"L"],SSP:[o,"SD\xa3"],SYP:[o,"S\xa3"],TWD:[o,"NT$"],VEF:[o,"BsF"],VND:[o,"\u20ab"],XAF:[],XCD:[o,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))}}]);