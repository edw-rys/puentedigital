function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var c=_superPropBase(e,t);if(c){var n=Object.getOwnPropertyDescriptor(c,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,c=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(c,arguments,n)}else i=c.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var c=0,n=function(){};return{s:n,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,c=new Array(t);i<t;i++)c[i]=e[i];return c}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+J/j":function(e,t,i){"use strict";i.r(t),i.d(t,"momentAdapterFactory",(function(){return Tr})),i.d(t,"CoursePanelPageModule",(function(){return zr}));var c,n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("mrSG"),l=i("ITIy"),u=i("m8mU"),d=i("iX7+"),f=i("DnI1"),g=i("wd/R"),m=i("p9xo"),p=i("mNEo"),h=i("Yc22"),v=i("X+KH"),b=i("PkRB"),_=i("cxbk"),y=i("fXoL"),k=i("tk/3"),x=((c=function(){function e(t){_classCallCheck(this,e),this.httpClient=t,this.url=m.i.homework}return _createClass(e,[{key:"get",value:function(e){return this.httpClient.get(this.url+"get/"+e)}},{key:"first",value:function(e){return this.httpClient.get(this.url+"first/"+e)}},{key:"save",value:function(e,t){return this.httpClient.post(this.url+"store/"+e,t)}},{key:"savePunctucaction",value:function(e,t){return this.httpClient.post(this.url+"update-punctuaction/"+e,t)}},{key:"saveFiles",value:function(e,t){return this.httpClient.post(this.url+"upload-file/"+t,e)}},{key:"update",value:function(e,t){return this.httpClient.put(this.url+"update/"+t,e)}},{key:"returnHomework",value:function(e,t){return this.httpClient.put(this.url+"return-homework/"+e,{id:t})}},{key:"delete",value:function(e){return this.httpClient.delete(this.url+"delete/"+e)}},{key:"storeComment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.httpClient.post(this.url+"store-comment/"+e,t)}},{key:"deleteComment",value:function(e){return this.httpClient.delete(this.url+"delete-comment/"+e)}}]),e}()).\u0275fac=function(e){return new(e||c)(y.kc(k.b))},c.\u0275prov=y.Wb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),L=i("bJYY"),w=i("6f/U"),A=i("bv9b"),S=i("NITd"),C=i("7EHt"),I=i("STbY"),O=i("bTqV"),P=i("Qu3c"),M=i("sYmb"),T=i("SNkt");function F(e,t){1&e&&y.bc(0,"mat-progress-bar",9)}function z(e,t){if(1&e){var i=y.hc();y.gc(0,"p",2),y.oc("click",(function(){y.Sc(i);var e=y.sc(3);return e.openQualificationPane(e.assignment)})),y.ed(1),y.fc()}if(2&e){var c=y.sc(3);y.Lb(1),y.hd("",c.assignment.qualification||"____","/",c.activity.qualification,"")}}function D(e,t){if(1&e){var i=y.hc();y.gc(0,"input",21),y.oc("keypress",(function(e){y.Sc(i);var t=y.sc(3);return t.saveQualificationAssigment(t.assignment,"key",e)}))("ngModelChange",(function(e){return y.Sc(i),y.sc(3).assignment.cpy_qualification=e})),y.fc()}if(2&e){var c=y.sc(3);y.Bc("max",c.activity.qualification-0),y.Ac("ngModel",c.assignment.cpy_qualification)}}function q(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",22),y.oc("click",(function(e){y.Sc(i);var t=y.sc(3);return t.saveQualificationAssigment(t.assignment,"",e)})),y.bc(1,"ion-icon",23),y.fc()}}function E(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",24),y.oc("click",(function(){y.Sc(i);var e=y.sc(3);return e.assignment.open_qualification=!e.assignment.open_qualification})),y.bc(1,"ion-icon",25),y.fc()}}function R(e,t){if(1&e&&(y.gc(0,"div",16),y.cd(1,z,2,2,"p",17),y.cd(2,D,1,2,"input",18),y.cd(3,q,2,0,"ion-button",19),y.cd(4,E,2,0,"ion-button",20),y.fc()),2&e){var i=y.sc(2);y.Lb(1),y.Ac("ngIf",!i.assignment.open_qualification),y.Lb(1),y.Ac("ngIf",i.assignment.open_qualification),y.Lb(1),y.Ac("ngIf",i.assignment.open_qualification),y.Lb(1),y.Ac("ngIf",i.assignment.open_qualification)}}function j(e,t){if(1&e&&(y.gc(0,"ion-card"),y.gc(1,"ion-card-content",10),y.gc(2,"ion-item"),y.gc(3,"div",11),y.gc(4,"div",12),y.bc(5,"img",13),y.fc(),y.fc(),y.gc(6,"div",14),y.gc(7,"small"),y.ed(8),y.fc(),y.fc(),y.cd(9,R,5,4,"div",15),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(5),y.Ac("src",null!=i.assignment.user&&null!=i.assignment.user.information?i.assignment.user.information.image_url:i.profile_img_route,y.Vc),y.Lb(3),y.gd("",null!=i.assignment.user?i.assignment.user.name:"-"," "),y.Lb(1),y.Ac("ngIf",i.activity.is_my)}}function B(e,t){if(1&e&&y.bc(0,"panel-instructions-activity",26),2&e){var i=y.sc();y.Ac("activity",i.assignment.homework)("show_points",!1)("show_button_open",!1)("expanded_panel",!0)("show_status",!0)}}function Q(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-content"),y.gc(2,"ion-button",27),y.oc("click",(function(){y.Sc(i);var e=y.sc();return e.returnHomework(e.assignment.uuid,e.assignment.homework.uuid)})),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(2),y.Ac("disabled","returned"==c.assignment.status_task),y.Lb(1),y.gd(" ",y.uc(4,2,"buttons.return")," ")}}function V(e,t){if(1&e&&(y.gc(0,"button",51),y.rc(),y.gc(1,"svg",52),y.bc(2,"path",53),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(11);y.Ac("matMenuTriggerFor",i)}}function H(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",54),y.oc("click",(function(){y.Sc(i);var e=y.sc(2).$implicit;return y.sc(2).updateComment(e)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function N(e,t){1&e&&y.bc(0,"ion-icon",55)}function U(e,t){if(1&e){var i=y.hc();y.gc(0,"div",34),y.gc(1,"input",35),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().$implicit.aux_text=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).updateComment(e)})),y.tc(2,"translate"),y.fc(),y.cd(3,H,2,3,"ion-icon",36),y.cd(4,N,1,0,"ion-icon",37),y.fc()}if(2&e){var c=y.sc().$implicit;y.Lb(1),y.Bc("placeholder",y.uc(2,5,"pages.course.please_comment")),y.Ac("disabled",c.comment_upload)("ngModel",c.aux_text),y.Lb(2),y.Ac("ngIf",!c.comment_upload),y.Lb(1),y.Ac("ngIf",c.comment_upload)}}function J(e,t){if(1&e&&y.bc(0,"p",56),2&e){var i=y.sc().$implicit;y.Ac("innerHTML",i.text,y.Tc)}}function Y(e,t){if(1&e){var i=y.hc();y.gc(0,"div",38),y.gc(1,"div",39),y.gc(2,"div",11),y.bc(3,"img",40),y.fc(),y.gc(4,"div",41),y.gc(5,"div",42),y.gc(6,"span",43),y.ed(7),y.fc(),y.gc(8,"span",44),y.cd(9,V,3,1,"button",45),y.fc(),y.gc(10,"mat-menu",null,46),y.gc(12,"button",47),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index,n=y.sc(2);return n.removeComment(n.assignment,e,c)})),y.bc(13,"ion-icon",25),y.ed(14),y.tc(15,"translate"),y.fc(),y.fc(),y.fc(),y.gc(16,"div",48),y.ed(17),y.tc(18,"formatDatesTime"),y.fc(),y.gc(19,"div",28),y.gc(20,"div",32),y.cd(21,U,5,7,"div",49),y.fc(),y.cd(22,J,1,1,"p",50),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=y.sc(2);y.Lb(3),y.Ac("alt",null!=c.user_create?c.user_create.name:"-")("src",null!=c.user_create&&null!=c.user_create.information?c.user_create.information.image_url:n.profile_img_route,y.Vc),y.Lb(4),y.fd(null!=c.user_create?c.user_create.name:"-"),y.Lb(2),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(15,8,"buttons.delete")," "),y.Lb(3),y.gd("",y.uc(18,10,c.date_created)," "),y.Lb(4),y.Ac("ngIf",c.edit_mode),y.Lb(1),y.Ac("ngIf",!c.edit_mode)}}function W(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",54),y.oc("click",(function(){y.Sc(i);var e=y.sc(2);return e.submitComment(e.assignment)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function G(e,t){1&e&&y.bc(0,"ion-icon",55)}function K(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card",28),y.gc(1,"mat-expansion-panel",29),y.gc(2,"mat-expansion-panel-header",30),y.gc(3,"ion-card-header"),y.gc(4,"ion-card-title"),y.gc(5,"mat-panel-subtitle"),y.ed(6),y.tc(7,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(8,"div"),y.cd(9,Y,23,12,"div",31),y.gc(10,"div",32),y.gc(11,"div",33),y.bc(12,"img",13),y.fc(),y.gc(13,"div",34),y.gc(14,"input",35),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().assignment.comment_input=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc();return e.submitComment(e.assignment)})),y.tc(15,"translate"),y.fc(),y.cd(16,W,2,3,"ion-icon",36),y.cd(17,G,1,0,"ion-icon",37),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(6),y.hd(" ",y.uc(7,9,"pages.course.comments")," ",c.assignment.total_comments," "),y.Lb(3),y.Ac("ngForOf",c.assignment.comments),y.Lb(3),y.Bc("src",c.user_profile,y.Vc),y.Lb(2),y.Bc("placeholder",y.uc(15,11,"pages.course.please_comment_activity")),y.Ac("disabled",c.assignment.comment_upload)("ngModel",c.assignment.comment_input),y.Lb(2),y.Ac("ngIf",!c.assignment.comment_upload),y.Lb(1),y.Ac("ngIf",c.assignment.comment_upload)}}function X(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",24),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(3).openQuestionary(e.uuid)})),y.ed(1),y.tc(2,"translate"),y.tc(3,"translate"),y.fc()}if(2&e){var c=t.$implicit,n=t.index;y.Lb(1),y.jd("",y.uc(2,4,"forms.attempt_num")," ",n+1,", ",y.uc(3,6,"forms.qualificated"),": (",c.qualification,")")}}function Z(e,t){if(1&e&&(y.gc(0,"div"),y.cd(1,X,4,8,"ion-button",58),y.fc()),2&e){var i=y.sc(2);y.Lb(1),y.Ac("ngForOf",i.assignment.resolves_questionary_ids)}}function ee(e,t){if(1&e&&(y.gc(0,"div"),y.gc(1,"ion-card"),y.gc(2,"ion-card-header"),y.gc(3,"ion-card-title",57),y.ed(4),y.fc(),y.fc(),y.gc(5,"ion-card-content"),y.gc(6,"p"),y.gc(7,"strong"),y.ed(8),y.tc(9,"translate"),y.fc(),y.ed(10,": "),y.gc(11,"span"),y.ed(12),y.tc(13,"translate"),y.fc(),y.fc(),y.gc(14,"p"),y.gc(15,"strong"),y.ed(16),y.tc(17,"translate"),y.fc(),y.ed(18,": "),y.gc(19,"span"),y.ed(20),y.tc(21,"translate"),y.fc(),y.fc(),y.gc(22,"p"),y.gc(23,"strong"),y.ed(24),y.tc(25,"translate"),y.fc(),y.ed(26,": "),y.gc(27,"span"),y.ed(28),y.tc(29,"translate"),y.fc(),y.fc(),y.gc(30,"p"),y.gc(31,"strong"),y.ed(32),y.tc(33,"translate"),y.fc(),y.ed(34,": "),y.gc(35,"span"),y.ed(36),y.tc(37,"translate"),y.fc(),y.fc(),y.gc(38,"p"),y.gc(39,"strong"),y.ed(40),y.tc(41,"translate"),y.fc(),y.ed(42,": "),y.gc(43,"span"),y.ed(44),y.fc(),y.fc(),y.gc(45,"p"),y.gc(46,"strong"),y.ed(47),y.tc(48,"translate"),y.fc(),y.ed(49,": "),y.gc(50,"span"),y.ed(51),y.fc(),y.fc(),y.gc(52,"p"),y.gc(53,"strong"),y.ed(54),y.tc(55,"translate"),y.fc(),y.ed(56,": "),y.gc(57,"span"),y.ed(58),y.fc(),y.fc(),y.cd(59,Z,2,1,"div",6),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(4),y.fd(i.activity.questionary.title),y.Lb(4),y.fd(y.uc(9,16,"forms.qualification_method")),y.Lb(4),y.gd("",y.uc(13,18,"forms."+i.activity.questionary.application_methods)," "),y.Lb(4),y.fd(y.uc(17,20,"forms.question_order")),y.Lb(4),y.gd("",y.uc(21,22,"forms."+i.activity.questionary.question_order)," "),y.Lb(4),y.fd(y.uc(25,24,"forms.items_per_page_title")),y.Lb(4),y.gd("","all"==i.activity.questionary.items_per_page?y.uc(29,26,"forms.all"):i.activity.questionary.items_per_page," "),y.Lb(4),y.fd(y.uc(33,28,"forms.order_answers_random")),y.Lb(4),y.gd("",y.uc(37,30,"forms."+i.activity.questionary.order_answers_random)," "),y.Lb(4),y.fd(y.uc(41,32,"forms.time_limit")),y.Lb(4),y.gd("",i.activity.questionary.max_time," "),y.Lb(3),y.fd(y.uc(48,34,"forms.attempts_allowed")),y.Lb(4),y.gd("",i.activity.questionary.attempts_allowed," "),y.Lb(3),y.fd(y.uc(55,36,"forms.attempts_made")),y.Lb(4),y.gd("",i.assignment.resolves_questionary_ids?i.assignment.resolves_questionary_ids.length:0," "),y.Lb(1),y.Ac("ngIf",i.assignment.resolves_questionary_ids)}}var te,ie=((te=function(){function e(t,i,c,n,o,r,a){_classCallCheck(this,e),this.modalCtrl=t,this.navParams=i,this.activitiesService=c,this.toastService=n,this.alertController=o,this.homeworkActivitiesService=r,this.controlErroresService=a,this.scrollbarStyle=_.a.scrollbarStyle,this.activity=null,this.loading=!0,this.loadingPanel=!0,this.profile_img_route="/assets/images/profile-8.jpg",this.user_profile="/assets/images/profile-8.jpg",this.resolves_questionary_ids=[],this.activity=this.navParams.data.activity,this.user_profile=this.navParams.data.user_profile,this.profile_img_route=this.navParams.data.profile_img_route,this.assignment=this.navParams.data.assignment}return _createClass(e,[{key:"ngOnInit",value:function(){this.getHomework(this.assignment),"1"==this.activity.can_comment&&this.getComments()}},{key:"getComments",value:function(){var e=this;this.activitiesService.getComments(this.activity.assignments[0].uuid).subscribe((function(t){e.assignment.comments=t.data}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}},{key:"getHomework",value:function(e){var t=this;this.loadingPanel=!0,this.homeworkActivitiesService.first(e.uuid).subscribe((function(e){t.loadingPanel=!1,t.assignment.homework=e.data,t.assignment.homework.title="Entrega del estudiante",t.assignment.status_task=t.assignment.homework.assignment.status_task,t.assignment.status_task=t.assignment.homework.assignment.status_task,t.assignment.qualification=t.assignment.homework.assignment.qualification}),(function(e){t.loadingPanel=!1,t.controlErroresService.control(e)}))}},{key:"openQualificationPane",value:function(e){e.open_qualification=!e.open_qualification,e.cpy_qualification=e.qualification}},{key:"saveQualificationAssigment",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0;return"key"==i&&13!=c.keyCode?c.keyCode:e.cpy_qualification>+this.activity.qualification||e.cpy_qualification<0?(this.toastService.presentToast("Calificaci\xf3n no admitida","warning"),!1):void this.activitiesService.saveQualification(e.uuid,{qualification:e.cpy_qualification}).subscribe((function(t){e.open_qualification=!e.open_qualification,e.status_task="qualificated",e.qualification=e.cpy_qualification}),(function(e){t.controlErroresService.control(e)}))}},{key:"submitComment",value:function(e){var t=this;e.comment_input?(e.comment_upload=!0,this.activitiesService.storeComment(e.uuid,{text:e.comment_input}).subscribe((function(t){e.comment_input="",isNaN(e.total_comments)?e.total_comments=1:e.total_comments++,e.comment_upload=!1,Array.isArray(e.comments)&&e.comments.push(t.data)}),(function(i){e.comment_upload=!1,t.controlErroresService.control(i)}))):this.toastService.presentToast("\xa1Agregue un comentario para poder publicarlo!","warning")}},{key:"removeComment",value:function(e,t,i){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var n,o=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDesea eliminar este comentario?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){o.loading=!0,o.activitiesService.deleteComment(t.uuid).subscribe((function(t){o.loading=!1,e.comments.splice(i,1),isNaN(e.total_comments)||e.total_comments--,o.toastService.presentToast(t.message,t.status)}),(function(e){o.loading=!1,o.controlErroresService.control(e)}))}}]});case 2:return n=c.sent,c.next=5,n.present();case 5:case"end":return c.stop()}}),c,this)})))}},{key:"returnHomework",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c,n=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({header:"Eliminar",message:"Est\xe1 seguro(a) de devolver esta tarea?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Devolver",role:"destructive",handler:function(){n.loadingPanel=!0,n.homeworkActivitiesService.returnHomework(e,t).subscribe((function(e){n.loadingPanel=!1,n.toastService.presentToast(e.message,e.status),n.assignment.status_task=e.assignment_status,n.assignment.homework.status=e.homework_status}),(function(e){n.loadingPanel=!1,n.controlErroresService.control(e)}))}}]});case 2:return c=i.sent,i.next=5,c.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"openQuestionary",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:L.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:{activity_uuid:this.activity.uuid,response_uuid:e}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:c=t.sent,n=c.data,console.log(n);case 10:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||te)(y.ac(r.Db),y.ac(r.Fb),y.ac(l.a),y.ac(b.a),y.ac(r.b),y.ac(x),y.ac(u.a))},te.\u0275cmp=y.Ub({type:te,selectors:[["app-panel-task-delivery-students"]],decls:15,vars:10,consts:[["translucent","true"],["slot","end"],[3,"click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],[4,"ngIf"],[3,"activity","show_points","show_button_open","expanded_panel","show_status",4,"ngIf"],["class","mt-2",4,"ngIf"],["mode","indeterminate"],[1,"item-sub-assignment",2,"padding","0"],[1,"w-10","h-10","sm:w-12","sm:h-12","flex-none","image-fit"],[1,"w-10","h-10","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"ml-3","mr-auto"],["class","ml-auto",4,"ngIf"],[1,"ml-auto"],[3,"click",4,"ngIf"],["type","number","name","title","class","intro-x login__input form-control py-3 px-4 border-gray-300 block","min","0",3,"ngModel","max","keypress","ngModelChange",4,"ngIf"],["size","small","color","success",3,"click",4,"ngIf"],["size","small","color","danger",3,"click",4,"ngIf"],["type","number","name","title","min","0",1,"intro-x","login__input","form-control","py-3","px-4","border-gray-300","block",3,"ngModel","max","keypress","ngModelChange"],["size","small","color","success",3,"click"],["name","checkmark-outline"],["size","small","color","danger",3,"click"],["name","trash-outline"],[3,"activity","show_points","show_button_open","expanded_panel","show_status"],["color","warning","size","small",3,"disabled","click"],[1,"mt-2"],["hideToggle",""],[2,"padding","0"],["class","pt-5",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","mt-3"],[1,"w-8","h-8","flex-none","image-fit","mr-3"],[1,"flex-1","relative","text-gray-700"],["type","text",1,"form-control","form-control-rounded","border-transparent","bg-gray-200","pr-10","placeholder-theme-13",3,"disabled","ngModel","placeholder","ngModelChange","keyup.enter"],["name","send-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",3,"matTooltip","click",4,"ngIf"],["name","cloud-upload-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",4,"ngIf"],[1,"pt-5"],[1,"flex"],[1,"rounded-full",3,"alt","src"],[1,"ml-3","flex-1"],[1,"flex","items-center"],[1,"font-medium"],["href","",1,"ml-auto","text-xs","text-gray-600"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["menuCommentPost","matMenu"],["mat-menu-item","",3,"click"],[1,"text-gray-600","text-xs","sm:text-sm"],["class","flex-1 relative text-gray-700",4,"ngIf"],[3,"innerHTML",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["focusable","false","width","24","height","24","viewBox","0 0 24 24",1,"NMm5M"],["d","M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],["name","send-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0",3,"matTooltip","click"],["name","cloud-upload-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0"],[3,"innerHTML"],[1,"text-center"],["size","small","color","danger",3,"click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-buttons",1),y.gc(6,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(7,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.cd(8,F,1,0,"mat-progress-bar",4),y.fc(),y.gc(9,"ion-content",5),y.cd(10,j,10,3,"ion-card",6),y.cd(11,B,1,5,"panel-instructions-activity",7),y.cd(12,Q,5,4,"ion-card",6),y.cd(13,K,18,13,"ion-card",8),y.cd(14,ee,60,38,"div",6),y.fc()),2&e&&(y.Lb(3),y.fd(y.uc(4,8,"forms.visor_delivery")),y.Lb(5),y.Ac("ngIf",t.loadingPanel),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf",t.assignment),y.Lb(1),y.Ac("ngIf",t.assignment&&t.assignment.homework),y.Lb(1),y.Ac("ngIf",t.assignment&&t.assignment.homework&&t.activity.is_my),y.Lb(1),y.Ac("ngIf",t.assignment&&t.assignment.comments&&"1"==t.activity.can_comment),y.Lb(1),y.Ac("ngIf",t.activity.questionary&&t.assignment))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,n.t,r.u,w.b,A.a,r.m,r.n,r.H,o.x,o.c,o.r,o.u,S.a,C.c,C.g,r.o,r.q,n.s,I.e,I.b,O.b,I.d,P.a],pipes:[M.d,T.a],styles:[""]}),te),ce=i("lsO8"),ne=i("YQMm"),oe=i("oAto"),re=i("5eHb"),ae=i("eIsa");function se(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",5),y.oc("click",(function(){return y.Sc(i),y.sc().startTourJS()})),y.bc(1,"ion-icon",6),y.ed(2),y.tc(3,"translate"),y.fc()}2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"menu.start_tour"),"\n"))}function le(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",7),y.oc("click",(function(){y.Sc(i);var e=y.sc();return e.openGraphQuestionary(e.activity)})),y.bc(1,"ion-icon",8),y.gc(2,"span",9),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc()}2&e&&(y.Lb(3),y.fd(y.uc(4,1,"menu.reports")))}function ue(e,t){1&e&&(y.gc(0,"ion-segment-button",16),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.gd(" ",y.uc(2,1,"pages.course.integrants_in_quiz")," "))}function de(e,t){if(1&e){var i=y.hc();y.gc(0,"p",34),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(4).openQualificationPane(e)})),y.ed(1),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(4);y.Lb(1),y.hd("",c.qualification||"____","/",n.activity.qualification,"")}}function fe(e,t){if(1&e){var i=y.hc();y.gc(0,"input",35),y.oc("keypress",(function(e){y.Sc(i);var t=y.sc().$implicit;return y.sc(4).saveQualificationAssigment(t,"key",e)}))("ngModelChange",(function(e){return y.Sc(i),y.sc().$implicit.cpy_qualification=e})),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(4);y.Bc("max",n.activity.qualification-0),y.Ac("ngModel",c.cpy_qualification)}}function ge(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",36),y.oc("click",(function(e){y.Sc(i);var t=y.sc().$implicit;return y.sc(4).saveQualificationAssigment(t,"",e)})),y.bc(1,"ion-icon",37),y.fc()}}function me(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",38),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return e.open_qualification=!e.open_qualification})),y.bc(1,"ion-icon",39),y.fc()}}function pe(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-content",23),y.gc(2,"ion-item",24),y.gc(3,"div",25),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).openAsignmentModal(e)})),y.gc(4,"div",26),y.bc(5,"img",27),y.fc(),y.fc(),y.gc(6,"div",28),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).openAsignmentModal(e)})),y.gc(7,"small"),y.ed(8),y.fc(),y.fc(),y.gc(9,"div",28),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).openAsignmentModal(e)})),y.gc(10,"small",24),y.ed(11),y.tc(12,"translate"),y.fc(),y.fc(),y.gc(13,"div",29),y.cd(14,de,2,2,"p",30),y.cd(15,fe,1,2,"input",31),y.cd(16,ge,2,0,"ion-button",32),y.cd(17,me,2,0,"ion-button",33),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=t.index,o=y.sc(4);y.Lb(2),y.Ac("ngClass",0==n?"first-assignmet":""),y.Lb(3),y.Ac("src",null!=c.user&&null!=c.user.information?c.user.information.image_url:o.profile_img_route,y.Vc),y.Lb(3),y.gd("",null!=c.user?c.user.name:"-"," "),y.Lb(2),y.Ac("ngClass","badge badge-ng-pers color-"+c.status_task),y.Lb(1),y.gd("",y.uc(12,10,"statuses."+c.status_task)," "),y.Lb(2),y.Ac("ngClass",0==n?"first-assignmet-qualification":""),y.Lb(1),y.Ac("ngIf",!c.open_qualification),y.Lb(1),y.Ac("ngIf",c.open_qualification),y.Lb(1),y.Ac("ngIf",c.open_qualification),y.Lb(1),y.Ac("ngIf",c.open_qualification)}}function he(e,t){if(1&e&&(y.gc(0,"div",17),y.gc(1,"ion-grid",18),y.gc(2,"ion-row",19),y.gc(3,"ion-col",20),y.gc(4,"ion-list",21),y.cd(5,pe,18,12,"ion-card",22),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(5),y.Ac("ngForOf",i.activity.assignments)}}function ve(e,t){if(1&e&&(y.gc(0,"p"),y.ed(1),y.fc()),2&e){var i=y.sc().$implicit,c=y.sc(4);y.Lb(1),y.hd("",i.qualification||"____","/",c.activity.qualification,"")}}function be(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card",34),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).openQuestionaryVisor(e.uuid,e.status)})),y.gc(1,"ion-card-content",23),y.gc(2,"ion-item",24),y.gc(3,"div",41),y.gc(4,"div",26),y.bc(5,"img",27),y.fc(),y.fc(),y.gc(6,"div",42),y.gc(7,"small"),y.ed(8),y.fc(),y.fc(),y.gc(9,"div",42),y.gc(10,"small",24),y.ed(11),y.tc(12,"translate"),y.fc(),y.fc(),y.gc(13,"div",29),y.cd(14,ve,2,2,"p",4),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=t.index,o=y.sc(4);y.Lb(2),y.Ac("ngClass",0==n?"first-assignmet":""),y.Lb(3),y.Ac("src",null!=c.user&&null!=c.user.information?c.user.information.image_url:o.profile_img_route,y.Vc),y.Lb(3),y.gd("",null!=c.user?c.user.name:"-"," "),y.Lb(2),y.Ac("ngClass","badge badge-ng-pers color-"+c.status),y.Lb(1),y.gd("",y.uc(12,7,"statuses."+c.status)," "),y.Lb(2),y.Ac("ngClass",0==n?"first-assignmet-qualification":""),y.Lb(1),y.Ac("ngIf",!c.open_qualification)}}function _e(e,t){if(1&e&&(y.gc(0,"div",17),y.gc(1,"ion-grid",18),y.gc(2,"ion-row",19),y.gc(3,"ion-col",20),y.gc(4,"ion-list",21),y.cd(5,be,15,9,"ion-card",40),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(5),y.Ac("ngForOf",i.integrantsInQuizzres)}}function ye(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",46),y.oc("click",(function(){y.Sc(i);var e=y.sc(5);return e.openVideoQuizVisor(e.activity)})),y.bc(1,"ion-icon",49),y.ed(2),y.tc(3,"translate"),y.fc()}2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.show_video_quiz"),""))}function ke(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.gc(1,"ion-card"),y.gc(2,"ion-card-header"),y.gc(3,"ion-card-title",45),y.ed(4),y.fc(),y.fc(),y.gc(5,"ion-card-content"),y.gc(6,"p"),y.gc(7,"strong"),y.ed(8),y.tc(9,"translate"),y.fc(),y.ed(10,": "),y.gc(11,"span"),y.ed(12),y.tc(13,"translate"),y.fc(),y.fc(),y.gc(14,"p"),y.gc(15,"strong"),y.ed(16),y.tc(17,"translate"),y.fc(),y.ed(18,": "),y.gc(19,"span"),y.ed(20),y.tc(21,"translate"),y.fc(),y.fc(),y.gc(22,"p"),y.gc(23,"strong"),y.ed(24),y.tc(25,"translate"),y.fc(),y.ed(26,": "),y.gc(27,"span"),y.ed(28),y.tc(29,"translate"),y.fc(),y.fc(),y.gc(30,"p"),y.gc(31,"strong"),y.ed(32),y.tc(33,"translate"),y.fc(),y.ed(34,": "),y.gc(35,"span"),y.ed(36),y.tc(37,"translate"),y.fc(),y.fc(),y.gc(38,"p"),y.gc(39,"strong"),y.ed(40),y.tc(41,"translate"),y.fc(),y.ed(42,": "),y.gc(43,"span"),y.ed(44),y.tc(45,"translate"),y.fc(),y.fc(),y.gc(46,"p"),y.gc(47,"strong"),y.ed(48),y.tc(49,"translate"),y.fc(),y.ed(50,": "),y.gc(51,"span"),y.ed(52),y.tc(53,"translate"),y.fc(),y.fc(),y.gc(54,"p"),y.gc(55,"strong"),y.ed(56),y.tc(57,"translate"),y.fc(),y.ed(58,": "),y.gc(59,"span"),y.ed(60),y.fc(),y.fc(),y.gc(61,"p"),y.gc(62,"strong"),y.ed(63),y.tc(64,"translate"),y.fc(),y.ed(65,": "),y.gc(66,"span"),y.ed(67),y.fc(),y.fc(),y.gc(68,"ion-button",46),y.oc("click",(function(){return y.Sc(i),y.sc(4).openQuestionary()})),y.bc(69,"ion-icon",47),y.ed(70),y.tc(71,"translate"),y.fc(),y.cd(72,ye,4,3,"ion-button",48),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc(4);y.Lb(4),y.fd(c.activity.questionary.title),y.Lb(4),y.fd(y.uc(9,19,"forms.qualification_method")),y.Lb(4),y.gd("",y.uc(13,21,"forms."+c.activity.questionary.application_methods)," "),y.Lb(4),y.fd(y.uc(17,23,"forms.question_order")),y.Lb(4),y.gd("",y.uc(21,25,"forms."+c.activity.questionary.question_order)," "),y.Lb(4),y.fd(y.uc(25,27,"forms.items_per_page_title")),y.Lb(4),y.gd("","all"==c.activity.questionary.items_per_page?y.uc(29,29,"forms.all"):c.activity.questionary.items_per_page," "),y.Lb(4),y.fd(y.uc(33,31,"forms.order_answers_random")),y.Lb(4),y.gd("",y.uc(37,33,"forms."+c.activity.questionary.order_answers_random)," "),y.Lb(4),y.fd(y.uc(41,35,"forms.show_answers_student")),y.Lb(4),y.gd("",y.uc(45,37,"forms."+c.activity.questionary.option_show_answer)," "),y.Lb(4),y.fd(y.uc(49,39,"forms.correct_answers_show")),y.Lb(4),y.gd("",y.uc(53,41,"forms."+c.activity.questionary.option_show_correct_as)," "),y.Lb(4),y.fd(y.uc(57,43,"forms.time_limit")),y.Lb(4),y.gd("",c.activity.questionary.max_time," "),y.Lb(3),y.fd(y.uc(64,45,"forms.attempts_allowed")),y.Lb(4),y.gd("",c.activity.questionary.attempts_allowed," "),y.Lb(3),y.gd(" ",y.uc(71,47,"pages.course.show_questionary"),""),y.Lb(2),y.Ac("ngIf","video-quiz"==c.activity.type)}}function xe(e,t){if(1&e&&(y.gc(0,"div",43),y.bc(1,"panel-instructions-activity",44),y.cd(2,ke,73,49,"div",4),y.fc()),2&e){var i=y.sc(3);y.Lb(1),y.Ac("activity",i.activity)("show_button_open",!1)("expanded_panel",!0),y.Lb(1),y.Ac("ngIf",i.activity.questionary)}}function Le(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.gc(1,"ion-segment",10),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc(2).segment=e})),y.gc(2,"ion-segment-button",11),y.ed(3),y.tc(4,"translate"),y.fc(),y.cd(5,ue,3,3,"ion-segment-button",12),y.gc(6,"ion-segment-button",13),y.ed(7),y.tc(8,"translate"),y.fc(),y.fc(),y.cd(9,he,6,1,"div",14),y.cd(10,_e,6,1,"div",14),y.cd(11,xe,3,4,"div",15),y.fc()}if(2&e){var c=y.sc(2);y.Lb(1),y.Ac("ngModel",c.segment),y.Lb(2),y.gd(" ",y.uc(4,7,"pages.course.instructions")," "),y.Lb(2),y.Ac("ngIf",null!=c.activity.questionary),y.Lb(2),y.gd(" ",y.uc(8,9,"pages.course.works_makes")," "),y.Lb(2),y.Ac("ngIf","assignments"==c.segment),y.Lb(1),y.Ac("ngIf","integrants_in_quiz"==c.segment&&null!=c.activity.questionary),y.Lb(1),y.Ac("ngIf","instruction"==c.segment)}}function we(e,t){1&e&&y.bc(0,"mat-progress-bar",84)}function Ae(e,t){if(1&e&&y.bc(0,"img",85),2&e){var i=y.sc().$implicit;y.Bc("src",i.picture,y.Vc)}}function Se(e,t){1&e&&y.bc(0,"img",86)}function Ce(e,t){if(1&e){var i=y.hc();y.gc(0,"div",87),y.oc("click",(function(){y.Sc(i);var e=y.sc().index;return y.sc(5).removeImage(e)})),y.bc(1,"ion-icon",39),y.fc()}}function Ie(e,t){if(1&e){var i=y.hc();y.gc(0,"div",79),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(5).showDocument(e.picture||e.link)})),y.cd(1,we,1,0,"mat-progress-bar",80),y.cd(2,Ae,1,1,"img",81),y.cd(3,Se,1,0,"img",82),y.cd(4,Ce,2,0,"div",83),y.fc()}if(2&e){var c=t.$implicit,n=y.sc(5);y.Ac("matTooltip",c.name),y.Lb(1),y.Ac("ngIf",c.uploading),y.Lb(1),y.Ac("ngIf",c.is_image),y.Lb(1),y.Ac("ngIf",!c.is_image),y.Lb(1),y.Ac("ngIf",!n.saving)}}function Oe(e,t){if(1&e&&(y.gc(0,"div",75),y.gc(1,"h3",76),y.ed(2),y.tc(3,"translate"),y.fc(),y.gc(4,"div",77),y.cd(5,Ie,5,5,"div",78),y.fc(),y.fc()),2&e){var i=y.sc(4);y.Lb(2),y.fd(y.uc(3,2,"pages.course.upload_image")),y.Lb(3),y.Ac("ngForOf",i.formCreate.images)}}function Pe(e,t){if(1&e){var i=y.hc();y.gc(0,"div",90),y.gc(1,"a",91),y.gc(2,"div",92),y.gc(3,"a",93),y.ed(4),y.fc(),y.fc(),y.gc(5,"div",94),y.oc("click",(function(){y.Sc(i);var e=t.index;return y.sc(5).deleteLink(e)})),y.bc(6,"ion-icon",39),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.Bc("href",c,y.Vc),y.Lb(1),y.fd(c)}}function Me(e,t){if(1&e&&(y.gc(0,"div",75),y.gc(1,"h3",88),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,Pe,7,2,"div",89),y.fc()),2&e){var i=y.sc(4);y.Lb(2),y.fd(y.uc(3,2,"pages.course.links_externals")),y.Lb(2),y.Ac("ngForOf",i.formCreate.links)}}function Te(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card",60),y.gc(1,"mat-expansion-panel",61),y.gc(2,"mat-expansion-panel-header",62),y.gc(3,"ion-card-header"),y.gc(4,"ion-card-title"),y.ed(5),y.tc(6,"translate"),y.fc(),y.fc(),y.fc(),y.gc(7,"ion-card-content"),y.gc(8,"ckeditor",10),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc(3).formCreate.model=e})),y.fc(),y.cd(9,Oe,6,4,"div",63),y.cd(10,Me,5,4,"div",63),y.gc(11,"ion-item"),y.gc(12,"ion-item"),y.gc(13,"label",64),y.gc(14,"ion-tab-button",65),y.tc(15,"translate"),y.gc(16,"input",66),y.oc("change",(function(e){return y.Sc(i),y.sc(3).changeFile(e)})),y.fc(),y.bc(17,"ion-icon",67),y.fc(),y.fc(),y.gc(18,"ion-tab-button",68),y.oc("click",(function(){return y.Sc(i),y.sc(3).typingLink(!0)})),y.tc(19,"translate"),y.bc(20,"ion-icon",69),y.fc(),y.gc(21,"ion-tab-button",70),y.oc("click",(function(){return y.Sc(i),y.sc(3).typingLink()})),y.tc(22,"translate"),y.bc(23,"ion-icon",71),y.fc(),y.fc(),y.fc(),y.gc(24,"ion-item"),y.gc(25,"ion-item",72),y.gc(26,"ion-button",73),y.oc("click",(function(){return y.Sc(i),y.sc(3).saveHomework()})),y.ed(27),y.tc(28,"translate"),y.tc(29,"translate"),y.bc(30,"ion-icon",74),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc(3);y.Lb(1),y.Ac("expanded",null==c.myAssignment.homework),y.Lb(4),y.gd(" ",y.uc(6,14,null==c.myAssignment.homework?"pages.course.your_work":"pages.course.resend_homework")," "),y.Lb(3),y.Ac("ngModel",c.formCreate.model),y.Lb(1),y.Ac("ngIf",c.formCreate.images.length>0),y.Lb(1),y.Ac("ngIf",c.formCreate.links.length>0),y.Lb(4),y.Ac("disabled",c.saving)("matTooltip",y.uc(15,16,"pages.course.upload_image")),y.Lb(2),y.Ac("disabled",c.saving),y.Lb(2),y.Ac("matTooltip",y.uc(19,18,"pages.course.google_documents"))("disabled",c.saving),y.Lb(3),y.Ac("matTooltip",y.uc(22,20,"pages.course.links_externals"))("disabled",c.saving),y.Lb(5),y.Ac("disabled",c.saving),y.Lb(1),y.gd(" ",c.saving?y.uc(28,22,"buttons.uploading"):y.uc(29,24,"buttons.deliver")," ")}}function Fe(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",96),y.oc("click",(function(){return y.Sc(i),y.sc(5).openQuestionary(!0)})),y.bc(1,"ion-icon",47),y.ed(2),y.tc(3,"translate"),y.fc()}if(2&e){var c=y.sc(5);y.Ac("disabled",!(c.moment()<=c.moment(c.activity.date_delivery)&&c.moment(c.activity.open_date)<=c.moment())),y.Lb(2),y.gd(" ",y.uc(3,2,c.resolves_questionary_ids.length>0?"pages.course.attempt_other":"pages.course.resolve_questionary")," ")}}function ze(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",46),y.oc("click",(function(){return y.Sc(i),y.sc(5).openQuestionary(!0,!0)})),y.bc(1,"ion-icon",47),y.ed(2),y.tc(3,"translate"),y.fc()}2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.continue_resolve_questionary"),""))}function De(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",38),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(6).openQuestionary(!1,!1,e.uuid)})),y.ed(1),y.tc(2,"translate"),y.tc(3,"translate"),y.fc()}if(2&e){var c=t.$implicit,n=t.index;y.Lb(1),y.jd("",y.uc(2,4,"forms.my_attempt")," ",n+1,", ",y.uc(3,6,"forms.qualificated"),": (",c.qualification,")")}}function qe(e,t){if(1&e&&(y.gc(0,"div"),y.cd(1,De,4,8,"ion-button",97),y.fc()),2&e){var i=y.sc(5);y.Lb(1),y.Ac("ngForOf",i.resolves_questionary_ids)}}function Ee(e,t){if(1&e&&(y.ec(0),y.cd(1,Fe,4,4,"ion-button",95),y.cd(2,ze,4,3,"ion-button",48),y.cd(3,qe,2,1,"div",4),y.dc()),2&e){var i=y.sc(4);y.Lb(1),y.Ac("ngIf",!i.continueQuestionary&&i.showResponseButton&&i.resolves_questionary_ids.length<i.activity.questionary.attempts_allowed),y.Lb(1),y.Ac("ngIf",i.continueQuestionary&&i.showResponseButton),y.Lb(1),y.Ac("ngIf","show_answers_finished_quiz"==i.activity.questionary.option_show_answer||"show_answers_finished_time"==i.activity.questionary.option_show_answer&&i.moment()>=i.moment(i.activity.date_delivery))}}function Re(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",96),y.oc("click",(function(){y.Sc(i);var e=y.sc(5);return e.openVideoQuizVisor(e.activity)})),y.bc(1,"ion-icon",47),y.ed(2),y.tc(3,"translate"),y.fc()}if(2&e){var c=y.sc(5);y.Ac("disabled",!(c.moment()<=c.moment(c.activity.date_delivery)&&c.moment(c.activity.open_date)<=c.moment())),y.Lb(2),y.gd(" ",y.uc(3,2,c.resolves_questionary_ids.length>0?"pages.course.attempt_other":"pages.course.resolve_video_quiz")," ")}}function $e(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",46),y.oc("click",(function(){y.Sc(i);var e=y.sc(5);return e.openVideoQuizVisor(e.activity,!0)})),y.bc(1,"ion-icon",47),y.ed(2),y.tc(3,"translate"),y.fc()}2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.continue_resolve_video_quiz"),""))}function je(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",38),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(6).openQuestionary(!1,!1,e.uuid)})),y.ed(1),y.tc(2,"translate"),y.tc(3,"translate"),y.fc()}if(2&e){var c=t.$implicit,n=t.index;y.Lb(1),y.jd("",y.uc(2,4,"forms.my_attempt")," ",n+1,", ",y.uc(3,6,"forms.qualificated"),": (",c.qualification,")")}}function Be(e,t){if(1&e&&(y.gc(0,"div"),y.cd(1,je,4,8,"ion-button",97),y.fc()),2&e){var i=y.sc(5);y.Lb(1),y.Ac("ngForOf",i.resolves_questionary_ids)}}function Qe(e,t){if(1&e&&(y.ec(0),y.cd(1,Re,4,4,"ion-button",95),y.cd(2,$e,4,3,"ion-button",48),y.cd(3,Be,2,1,"div",4),y.dc()),2&e){var i=y.sc(4);y.Lb(1),y.Ac("ngIf",!i.continueQuestionary&&i.showResponseButton&&i.resolves_questionary_ids.length<i.activity.questionary.attempts_allowed),y.Lb(1),y.Ac("ngIf",i.continueQuestionary&&i.showResponseButton),y.Lb(1),y.Ac("ngIf","show_answers_finished_quiz"==i.activity.questionary.option_show_answer||"show_answers_finished_time"==i.activity.questionary.option_show_answer&&i.moment()>=i.moment(i.activity.date_delivery))}}function Ve(e,t){if(1&e&&(y.gc(0,"div"),y.gc(1,"ion-card"),y.gc(2,"ion-card-header"),y.gc(3,"ion-card-title",45),y.ed(4),y.fc(),y.fc(),y.gc(5,"ion-card-content"),y.gc(6,"p"),y.gc(7,"strong"),y.ed(8),y.tc(9,"translate"),y.fc(),y.ed(10,": "),y.gc(11,"span"),y.ed(12),y.tc(13,"translate"),y.fc(),y.fc(),y.gc(14,"p"),y.gc(15,"strong"),y.ed(16),y.tc(17,"translate"),y.fc(),y.ed(18,": "),y.gc(19,"span"),y.ed(20),y.tc(21,"translate"),y.fc(),y.fc(),y.gc(22,"p"),y.gc(23,"strong"),y.ed(24),y.tc(25,"translate"),y.fc(),y.ed(26,": "),y.gc(27,"span"),y.ed(28),y.tc(29,"translate"),y.fc(),y.fc(),y.gc(30,"p"),y.gc(31,"strong"),y.ed(32),y.tc(33,"translate"),y.fc(),y.ed(34,": "),y.gc(35,"span"),y.ed(36),y.tc(37,"translate"),y.fc(),y.fc(),y.gc(38,"p"),y.gc(39,"strong"),y.ed(40),y.tc(41,"translate"),y.fc(),y.ed(42,": "),y.gc(43,"span"),y.ed(44),y.fc(),y.fc(),y.gc(45,"p"),y.gc(46,"strong"),y.ed(47),y.tc(48,"translate"),y.fc(),y.ed(49,": "),y.gc(50,"span"),y.ed(51),y.fc(),y.fc(),y.gc(52,"p"),y.gc(53,"strong"),y.ed(54),y.tc(55,"translate"),y.fc(),y.ed(56,": "),y.gc(57,"span"),y.ed(58),y.fc(),y.fc(),y.cd(59,Ee,4,3,"ng-container",4),y.cd(60,Qe,4,3,"ng-container",4),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(4),y.fd(i.activity.questionary.title),y.Lb(4),y.fd(y.uc(9,17,"forms.qualification_method")),y.Lb(4),y.gd("",y.uc(13,19,"forms."+i.activity.questionary.application_methods)," "),y.Lb(4),y.fd(y.uc(17,21,"forms.question_order")),y.Lb(4),y.gd("",y.uc(21,23,"forms."+i.activity.questionary.question_order)," "),y.Lb(4),y.fd(y.uc(25,25,"forms.items_per_page_title")),y.Lb(4),y.gd("","all"==i.activity.questionary.items_per_page?y.uc(29,27,"forms.all"):i.activity.questionary.items_per_page," "),y.Lb(4),y.fd(y.uc(33,29,"forms.order_answers_random")),y.Lb(4),y.gd("",y.uc(37,31,"forms."+i.activity.questionary.order_answers_random)," "),y.Lb(4),y.fd(y.uc(41,33,"forms.time_limit")),y.Lb(4),y.gd("",i.activity.questionary.max_time," "),y.Lb(3),y.fd(y.uc(48,35,"forms.attempts_allowed")),y.Lb(4),y.gd("",i.activity.questionary.attempts_allowed," "),y.Lb(3),y.fd(y.uc(55,37,"forms.attempts_made")),y.Lb(4),y.gd("",i.resolves_questionary_ids.length," "),y.Lb(1),y.Ac("ngIf","questions"==i.activity.type),y.Lb(1),y.Ac("ngIf","video-quiz"==i.activity.type)}}function He(e,t){if(1&e){var i=y.hc();y.ec(0),y.gc(1,"ion-button",98),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(3).formCreate.punctuaction=e.number})),y.bc(2,"ion-icon",99),y.gc(3,"span",9),y.ed(4),y.fc(),y.fc(),y.dc()}if(2&e){var c=t.$implicit,n=y.sc(3);y.Lb(1),y.Ac("color",n.formCreate.punctuaction>=c.number?"warning":"light"),y.Lb(1),y.Ac("name",c.icon),y.Lb(2),y.fd(c.number)}}function Ne(e,t){if(1&e&&y.bc(0,"panel-instructions-activity",100),2&e){var i=y.sc(3);y.Ac("activity",i.myAssignment.homework)("show_points",!1)("show_button_open",!1)("expanded_panel",!0)("show_status",!0)}}function Ue(e,t){if(1&e&&(y.gc(0,"button",124),y.rc(),y.gc(1,"svg",125),y.bc(2,"path",126),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(11);y.Ac("matMenuTriggerFor",i)}}function Je(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",127),y.oc("click",(function(){y.Sc(i);var e=y.sc(2).$implicit;return y.sc(4).updateComment(e)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function Ye(e,t){1&e&&y.bc(0,"ion-icon",128)}function We(e,t){if(1&e){var i=y.hc();y.gc(0,"div",106),y.gc(1,"input",107),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().$implicit.aux_text=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(4).updateComment(e)})),y.tc(2,"translate"),y.fc(),y.cd(3,Je,2,3,"ion-icon",108),y.cd(4,Ye,1,0,"ion-icon",109),y.fc()}if(2&e){var c=y.sc().$implicit;y.Lb(1),y.Bc("placeholder",y.uc(2,5,"pages.course.please_comment")),y.Ac("disabled",c.comment_upload)("ngModel",c.aux_text),y.Lb(2),y.Ac("ngIf",!c.comment_upload),y.Lb(1),y.Ac("ngIf",c.comment_upload)}}function Ge(e,t){if(1&e&&y.bc(0,"p",129),2&e){var i=y.sc().$implicit;y.Ac("innerHTML",i.text,y.Tc)}}function Ke(e,t){if(1&e){var i=y.hc();y.gc(0,"div",110),y.gc(1,"div",111),y.gc(2,"div",41),y.bc(3,"img",112),y.fc(),y.gc(4,"div",113),y.gc(5,"div",114),y.gc(6,"span",115),y.ed(7),y.fc(),y.gc(8,"span",116),y.cd(9,Ue,3,1,"button",117),y.fc(),y.gc(10,"mat-menu",null,118),y.gc(12,"button",119),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index,n=y.sc(4);return n.removeComment(n.myAssignment,e,c)})),y.bc(13,"ion-icon",39),y.ed(14),y.tc(15,"translate"),y.fc(),y.fc(),y.fc(),y.gc(16,"div",120),y.ed(17),y.tc(18,"formatDatesTime"),y.fc(),y.gc(19,"div",121),y.gc(20,"div",104),y.cd(21,We,5,7,"div",122),y.fc(),y.cd(22,Ge,1,1,"p",123),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=y.sc(4);y.Lb(3),y.Ac("alt",null!=c.user_create?c.user_create.name:"-")("src",null!=c.user_create&&null!=c.user_create.information?c.user_create.information.image_url:n.profile_img_route,y.Vc),y.Lb(4),y.fd(null!=c.user_create?c.user_create.name:"-"),y.Lb(2),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(15,8,"buttons.delete")," "),y.Lb(3),y.gd("",y.uc(18,10,c.date_created)," "),y.Lb(4),y.Ac("ngIf",c.edit_mode),y.Lb(1),y.Ac("ngIf",!c.edit_mode)}}function Xe(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",127),y.oc("click",(function(){y.Sc(i);var e=y.sc(4);return e.submitComment(e.myAssignment)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function Ze(e,t){1&e&&y.bc(0,"ion-icon",128)}function et(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card",101),y.gc(1,"mat-expansion-panel",102),y.gc(2,"mat-expansion-panel-header",62),y.gc(3,"ion-card-header"),y.gc(4,"ion-card-subtitle"),y.ed(5),y.tc(6,"translate"),y.fc(),y.fc(),y.fc(),y.gc(7,"div"),y.cd(8,Ke,23,12,"div",103),y.gc(9,"div",104),y.gc(10,"div",105),y.bc(11,"img",27),y.fc(),y.gc(12,"div",106),y.gc(13,"input",107),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc(3).myAssignment.comment_input=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc(3);return e.submitComment(e.myAssignment)})),y.tc(14,"translate"),y.fc(),y.cd(15,Xe,2,3,"ion-icon",108),y.cd(16,Ze,1,0,"ion-icon",109),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc(3);y.Lb(5),y.hd(" ",y.uc(6,9,"pages.course.comments")," ",c.myAssignment.total_comments," "),y.Lb(3),y.Ac("ngForOf",c.myAssignment.comments),y.Lb(3),y.Bc("src",c.user_profile,y.Vc),y.Lb(2),y.Bc("placeholder",y.uc(14,11,"pages.course.please_comment_activity")),y.Ac("disabled",c.myAssignment.comment_upload)("ngModel",c.myAssignment.comment_input),y.Lb(2),y.Ac("ngIf",!c.myAssignment.comment_upload),y.Lb(1),y.Ac("ngIf",c.myAssignment.comment_upload)}}function tt(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.cd(1,Te,31,26,"ion-card",50),y.bc(2,"panel-instructions-activity",51),y.cd(3,Ve,61,39,"div",4),y.gc(4,"ion-item",52),y.gc(5,"div",53),y.gc(6,"h4",54),y.ed(7),y.tc(8,"translate"),y.fc(),y.gc(9,"section",55),y.cd(10,He,5,3,"ng-container",22),y.fc(),y.gc(11,"div",56),y.gc(12,"ion-button",57),y.oc("click",(function(){return y.Sc(i),y.sc(2).savePunctuaction()})),y.ed(13),y.tc(14,"translate"),y.fc(),y.fc(),y.gc(15,"small"),y.ed(16),y.tc(17,"translate"),y.fc(),y.fc(),y.fc(),y.cd(18,Ne,1,5,"panel-instructions-activity",58),y.cd(19,et,17,13,"ion-card",59),y.fc()}if(2&e){var c=y.sc(2);y.Lb(1),y.Ac("ngIf","task"==c.activity.type&&c.myAssignment&&(c.activity.allow_arrears||c.moment()<=c.moment(c.activity.date_delivery))&&c.moment(c.activity.open_date)<=c.moment()),y.Lb(1),y.Ac("activity",c.activity)("show_button_open",!1)("expanded_panel",!0)("show_details_assignments",!0),y.Lb(1),y.Ac("ngIf",c.activity.questionary),y.Lb(4),y.fd(y.uc(8,12,"pages.course.qualificated_activity_range_docente")),y.Lb(3),y.Ac("ngForOf",c.punctuactions),y.Lb(3),y.fd(y.uc(14,14,"buttons.save")),y.Lb(3),y.fd(y.uc(17,16,"pages.course.qualificated_small_message")),y.Lb(2),y.Ac("ngIf",c.myAssignment.homework),y.Lb(1),y.Ac("ngIf",c.myAssignment&&c.myAssignment.comments&&"1"==c.activity.can_comment)}}function it(e,t){if(1&e&&(y.gc(0,"div"),y.cd(1,Le,12,11,"div",4),y.cd(2,tt,20,18,"div",4),y.fc()),2&e){var i=y.sc();y.Lb(1),y.Ac("ngIf",i.activity.is_my),y.Lb(1),y.Ac("ngIf",!i.activity.is_my)}}var ct,nt=((ct=function(){function e(t,i,c,n,o,r,a,s,l,u,d,f,p,h,v){_classCallCheck(this,e),this.activeRoute=t,this.loadingService=i,this.controlErroresService=c,this.courseService=n,this.routerOutlet=o,this.modalCtrl=r,this.userData=a,this.activitiesService=s,this.tourService=l,this.toastService=u,this.alertController=d,this.homeworkActivitiesService=f,this.controlErrores=p,this.questionaryService=h,this.toastr=v,this.moment=g,this.course_route=m.h.one_course,this.profile_img_route="/assets/images/profile-8.jpg",this.user_profile="/assets/images/profile-8.jpg",this.activity_id=null,this.segment="assignments",this.saving=!1,this.assignment_id=0,this.listQuestions=[],this.continueQuestionary=!1,this.showResponseButton=!1,this.resolves_questionary_ids=[],this.punctuactions=[],this.formCreate={model:"",images:[],punctuaction:0,links:[]},this.integrantsInQuizzres=[],this.totalFilesUploaded=0,this.moment.locale("es"),g.locale("es"),this.course_id=t.snapshot.params.uuid,this.activity_id=t.snapshot.params.activity_id,this.assignment_id=t.snapshot.params.assignment_id;var b=this.activeRoute.snapshot.params.open_w||this.activeRoute.snapshot.queryParams.open_w;b&&(this.segment=b),t.snapshot.queryParams&&t.snapshot.queryParams.ref&&t.snapshot.queryParams.ref&&(this.timerIdServer=t.snapshot.queryParams.ref),this.timerIdServer||(this.timerIdServer=ref_cc_id),this.getLeftOptions()}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userData.getUser();case 2:(t=e.sent)&&t.information&&(this.user_profile=t.information.image_url);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"ngAfterViewInit",value:function(){this.getActivity(),setTimeout((function(){}))}},{key:"getCourse",value:function(){var e=this;this.loadingService.change(!0),this.courseService.course(this.course_id).subscribe((function(t){e.loadingService.change(!1),e.course=t.data}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"getActivity",value:function(){var e=this;this.loadingService.change(!0),this.activitiesService.get(this.activity_id,this.timerIdServer).subscribe((function(t){if(e.loadingService.change(!1),e.activity=t.data,e.activity.questionary&&(e.showResponseButton=!0,Array.isArray(e.activity.questionary.questions)&&(e.listQuestions=e.questionaryService.refactorListQuestionary(e.activity.questionary.questions,!1)),e.activity.questionary.pending_response&&e.activity.questionary.pending_response.uuid&&(e.continueQuestionary=!0),e.activity.questionary.resolves_questionary_ids&&Array.isArray(e.activity.questionary.resolves_questionary_ids)&&(e.resolves_questionary_ids=e.activity.questionary.resolves_questionary_ids)),e.activity.is_my){if(Array.isArray(e.activity.assignments)&&e.assignment_id){console.log(e.assignment_id);var i=e.activity.assignments.find((function(t){return t.uuid==e.assignment_id}));e.openAsignmentModal(i)}e.activity.questionary&&e.getStudentsInQuizz(e.activity.questionary)}else e.activity.assignments[0]&&(e.myAssignment=e.activity.assignments[0],e.myAssignment.comments=[],e.formCreate.punctuaction=e.myAssignment.punctuaction,e.activitiesService.getComments(e.activity.assignments[0].uuid).subscribe((function(t){e.myAssignment.comments=t.data})),e.getHomework(e.myAssignment))}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"getStudentsInQuizz",value:function(e){var t=this;e&&this.questionaryService.getIntegrantQuestionaries(e.uuid).subscribe((function(e){t.integrantsInQuizzres=e.data||[]}))}},{key:"openQuestionaryVisor",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("in_progress"!=t){i.next=2;break}return i.abrupt("return",(this.toastr.info("No se puede acceder a este \xedtem, el studiante est\xe1 resolviendo el quiz.","",{positionClass:"toast-bottom-left"}),!1));case 2:return i.next=4,this.modalCtrl.create({component:L.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:{activity_uuid:this.activity.uuid,response_uuid:e}});case 4:return c=i.sent,i.next=7,c.present();case 7:return i.next=9,c.onWillDismiss();case 9:case"end":return i.stop()}}),i,this)})))}},{key:"openQualificationPane",value:function(e){e.open_qualification=!e.open_qualification,e.cpy_qualification=e.qualification}},{key:"saveQualificationAssigment",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0;return"key"==i&&13!=c.keyCode?c.keyCode:e.cpy_qualification>+this.activity.qualification||e.cpy_qualification<0?(this.toastService.presentToast("Calificaci\xf3n no admitida","warning"),!1):void this.activitiesService.saveQualification(e.uuid,{qualification:e.cpy_qualification}).subscribe((function(t){e.status_task="qualificated",e.open_qualification=!e.open_qualification,e.qualification=e.cpy_qualification}),(function(e){t.controlErroresService.control(e)}))}},{key:"showDocument",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:p.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{route_file:e}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"submitComment",value:function(e){var t=this;e.comment_input?(e.comment_upload=!0,this.activitiesService.storeComment(e.uuid,{text:e.comment_input}).subscribe((function(t){e.comment_input="",isNaN(e.total_comments)?e.total_comments=1:e.total_comments++,e.comment_upload=!1,Array.isArray(e.comments)&&e.comments.push(t.data)}),(function(i){e.comment_upload=!1,t.controlErroresService.control(i)}))):this.toastService.presentToast("\xa1Agregue un comentario para poder publicarlo!","warning")}},{key:"removeComment",value:function(e,t,i){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var n,o=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDesea eliminar este comentario?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){o.loadingService.change(!0),o.activitiesService.deleteComment(t.uuid).subscribe((function(t){o.loadingService.change(!1),e.comments.splice(i,1),isNaN(e.total_comments)||e.total_comments--,o.toastService.presentToast(t.message,t.status)}),(function(e){o.loadingService.change(!1),o.controlErroresService.control(e)}))}}]});case 2:return n=c.sent,c.next=5,n.present();case 5:case"end":return c.stop()}}),c,this)})))}},{key:"openAsignmentModal",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:ie,cssClass:"modal-fullscreen-100",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{assignment:e,activity:this.activity,user_profile:this.user_profile,profile_img_route:this.profile_img_route}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"typingLink",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[{name:"link",value:"",type:"url",placeholder:"Enlace"}],e&&i.push({name:"title",value:"",type:"text",placeholder:"T\xedtulo"}),t.next=4,this.alertController.create({cssClass:"",header:e?"Agregar enlace del archivo":"A\xf1adir enlace",inputs:i,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"A\xf1adir",handler:function(t){t.link&&(e?t.title&&n.formCreate.images.push({photo:null,name:t.title,size:"0",picture:"",is_image:0,content_type:"link",external:"1",link:t.link}):n.formCreate.links.push(t.link))}}]});case 4:return c=t.sent,t.next=7,c.present();case 7:case"end":return t.stop()}}),t,this)})))}},{key:"changeFile",value:function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader,i={photo:e.target.files[0],name:e.target.files[0].name,size:e.target.files[0].size,picture:"",is_image:e.target.files[0].type.indexOf("image")>=0,content_type:e.target.files[0].type||"unknown"};if(e.target.files[0].size>1e6*_.a.max_size_img)return void this.toastService.presentToast("Peso m\xe1ximo "+_.a.max_size_img+"MB","warning");t.onload=function(e){i.picture=e.target.result},this.formCreate.images.push(i),t.readAsDataURL(e.target.files[0])}}},{key:"removeImage",value:function(e){e<0||this.formCreate.images.splice(e,1)}},{key:"deleteLink",value:function(e){e<0||this.formCreate.links.splice(e,1)}},{key:"getHomework",value:function(e){var t=this;this.loadingService.change(!0),this.homeworkActivitiesService.first(e.uuid).subscribe((function(e){t.loadingService.change(!1),t.myAssignment.homework=e.data,t.myAssignment.homework.title="Tu entrega"}),(function(e){t.loadingService.change(!1),t.controlErroresService.control(e)}))}},{key:"saveHomework",value:function(){var e=this;!this.formCreate.model&&this.formCreate.images.length<=0&&this.formCreate.links.length<=0?this.toastService.presentToast("Agregue contenido para entregar la tarea","warning"):(this.saving=!0,this.totalFilesUploaded=0,this.loadingService.change(!0),this.homeworkActivitiesService.save(this.myAssignment.uuid,{text:this.formCreate.model,links:this.formCreate.links}).subscribe((function(t){t.data?0==e.formCreate.images.length?(e.checkUploadPost(t),e.toastService.presentToast(t.message,t.status)):e.saveImagesPost(t.data.uuid,t):(e.toastService.presentToast(t.message,t.status),e.saving=!1,e.loadingService.change(!1))}),(function(t){e.saving=!1,e.loadingService.change(!1),e.controlErrores.control(t)})))}},{key:"savePunctuaction",value:function(){var e=this;this.formCreate.punctuaction?(this.loadingService.change(!0),this.homeworkActivitiesService.savePunctucaction(this.myAssignment.uuid,{punctuaction:this.formCreate.punctuaction}).subscribe((function(t){e.toastService.presentToast(t.message,t.status),e.loadingService.change(!1)}),(function(t){e.loadingService.change(!1),e.controlErrores.control(t)}))):this.toastService.presentToast("Seleccione un valor v\xe1lido","warning")}},{key:"saveImagesPost",value:function(e,t){var i,c=this,n=_createForOfIteratorHelper(this.formCreate.images);try{var o=function(){var n=i.value;n.uploading=!0,c.homeworkActivitiesService.saveFiles(Object(m.c)({file:n.photo,content_type:n.content_type,name:n.name,size:n.size,external:n.external,link:n.link}),e).subscribe((function(e){n.uploading=!1,c.totalFilesUploaded++,c.checkUploadPost(t)}),(function(e){n.uploading=!1,c.totalFilesUploaded++,c.controlErrores.control(e),c.checkUploadPost(t)}))};for(n.s();!(i=n.n()).done;)o()}catch(r){n.e(r)}finally{n.f()}}},{key:"checkUploadPost",value:function(e){this.totalFilesUploaded>=this.formCreate.images.length&&(this.saving=!1,this.loadingService.change(!1),this.toastService.presentToast(e.message,e.status),this.getHomework(this.myAssignment))}},{key:"waitResolveQuestionary",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:L.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:e});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:c=t.sent,n=c.data,console.log(n),n&&(n.destroy_response_button&&(this.showResponseButton=!1),n.response_uuid&&this.resolves_questionary_ids.push(n.response_uuid));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"openQuestionary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var n,o=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!i){c.next=2;break}return c.abrupt("return",void this.waitResolveQuestionary({activity_uuid:this.activity.uuid,response_uuid:i}));case 2:if(e){c.next=4;break}return c.abrupt("return",void this.waitResolveQuestionary({activity_uuid:this.activity.uuid}));case 4:if(!t){c.next=6;break}return c.abrupt("return",void this.waitResolveQuestionary({activity_uuid:this.activity.uuid,resolve:!0}));case 6:return c.next=8,this.alertController.create({cssClass:"my-custom-class",header:"\xa1Confirmar o denegar!",message:"\xbfEst\xe1 seguro de empezar a resolver el cuestionario?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Confirmar",handler:function(){o.waitResolveQuestionary({activity_uuid:o.activity.uuid,resolve:!0})}}]});case 8:return n=c.sent,c.next=11,n.present();case 11:case"end":return c.stop()}}),c,this)})))}},{key:"openVideoQuizVisor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c,n,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalCtrl.create({component:ne.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:{activity_uuid:e.uuid,resource_type:"activity",resolve:t}});case 2:return c=i.sent,i.next=5,c.present();case 5:return i.next=7,c.onWillDismiss();case 7:n=i.sent,(o=n.data)&&(o.destroy_response_button&&(this.showResponseButton=!1),o.response_uuid&&this.resolves_questionary_ids.push(o.response_uuid));case 10:case"end":return i.stop()}}),i,this)})))}},{key:"startTourJS",value:function(){var e=[];this.activity.is_my?(e=[{"next .instruction-segment-clss":"Con este bot\xf3n podr\xe1 visualizar las instrucciones de la actividad.",skipButton:{className:"mySkip",text:"Omitir"}},{"next .work-segment-clss":"Con este bot\xf3n podr\xe1 visualizar la lista de estudiantes y entregas."}],Array.isArray(this.activity.assignments)&&this.activity.assignments.length&&null!=document.querySelector(".delivered-panel-task")?(e.push({"next .delivered-panel-task":"Usted podr\xe1 realizar la entrega de su tarea en el siguiente panel."}),e.push({"next .first-assignmet":"Al dar clic en el nombre o imagen podremos viaulizar la entrega o comentarios privados."}),e.push({"skipt .first-assignmet-qualification":"Al dar clic aqu\xed podremos calificar la actividad, igualmente podr\xe1 hacerlo dentro del panel de entrega de tareas."})):null!=document.querySelector(".panel-task-details-s")&&e.push({"skipt .panel-task-details-s":"En este panel podr\xe1 ver el detalle de la actividad."})):(this.myAssignment&&(this.activity.allow_arrears||g()<=g(this.activity.date_delivery))&&g(this.activity.open_date)<=g()&&(e.push({"next .delivered-panel-task":"Usted podr\xe1 realizar la entrega de su tarea en el siguiente panel."}),e.push({"next .delivered-panel-task-images":"Este bot\xf3n sirve para subir archivos."}),e.push({"next .delivered-panel-task-google-link":"Este bot\xf3n sirve para los deberes subidos en google drive y office (tienen que ser p\xfablicos)."}),e.push({"next .delivered-panel-task-other-link":"Este bot\xf3n sirve para insertar links de otros sitios webs."})),e.push({"next .container-description-task":"En esta tarjeta podr\xe1 ver las instrucciones de la actividad a realizarse en donde podr\xe1 ver la descripci\xf3n, archivos y links."})),this.tourService.presetTour(e)}},{key:"getLeftOptions",value:function(){var e=this;this.loadingService.change(!0),this.courseService.getOptionsQualification(this.course_id,"alone_punc=1").subscribe((function(t){e.punctuactions=t.punctuactions}),(function(t){e.controlErroresService.control(t),e.loadingService.change(!1)}))}},{key:"openGraphQuestionary",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.questionary){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,this.modalCtrl.create({component:oe.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:{activity:e,course:this.course}});case 4:return i=t.sent,t.next=7,i.present();case 7:return t.next=9,i.onWillDismiss();case 9:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||ct)(y.ac(a.a),y.ac(f.a),y.ac(u.a),y.ac(d.a),y.ac(r.fb),y.ac(r.Db),y.ac(v.a),y.ac(l.a),y.ac(h.a),y.ac(b.a),y.ac(r.b),y.ac(x),y.ac(u.a),y.ac(ce.a),y.ac(re.b))},ct.\u0275cmp=y.Ub({type:ct,selectors:[["app-show-details-activity"]],decls:7,vars:7,consts:[["size","small","color","warning",3,"routerLink"],["name","backspace-outline"],["color","primary","size","small",3,"click",4,"ngIf"],["color","danger","size","small",3,"click",4,"ngIf"],[4,"ngIf"],["color","primary","size","small",3,"click"],["name","navigate-outline"],["color","danger","size","small",3,"click"],["name","bar-chart-outline"],[1,"ml-2"],[3,"ngModel","ngModelChange"],["value","instruction",1,"instruction-segment-clss"],["value","integrants_in_quiz","class","integrants-quiz",4,"ngIf"],["value","assignments",1,"work-segment-clss"],["class","",4,"ngIf"],["class","panel-task-details-s",4,"ngIf"],["value","integrants_in_quiz",1,"integrants-quiz"],[1,""],[1,"grid-shuffle"],["id","grid",1,"row","flex","flex-center"],["size","12","size-sm","11","size-md","9","size-xl","9"],[1,"delivered-panel-task"],[4,"ngFor","ngForOf"],[1,"item-sub-assignment",2,"padding","0"],[3,"ngClass"],[1,"w-10","h-10","sm:w-12","sm:h-12","flex-none","image-fit",3,"click"],[1,"w-10","h-10","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"ml-3","mr-auto",3,"click"],[1,"ml-auto",3,"ngClass"],[3,"click",4,"ngIf"],["type","number","name","title","class","intro-x login__input form-control py-3 px-4 border-gray-300 block","min","0",3,"ngModel","max","keypress","ngModelChange",4,"ngIf"],["size","small","color","success",3,"click",4,"ngIf"],["size","small","color","danger",3,"click",4,"ngIf"],[3,"click"],["type","number","name","title","min","0",1,"intro-x","login__input","form-control","py-3","px-4","border-gray-300","block",3,"ngModel","max","keypress","ngModelChange"],["size","small","color","success",3,"click"],["name","checkmark-outline"],["size","small","color","danger",3,"click"],["name","trash-outline"],[3,"click",4,"ngFor","ngForOf"],[1,"w-10","h-10","sm:w-12","sm:h-12","flex-none","image-fit"],[1,"ml-3","mr-auto"],[1,"panel-task-details-s"],[3,"activity","show_button_open","expanded_panel"],[1,"text-center"],["size","small","color","warning",3,"click"],["name","document-attach-outline"],["size","small","color","warning",3,"click",4,"ngIf"],["name","film-outline"],["class","mt-2 delivered-panel-task",4,"ngIf"],[1,"container-description-task",3,"activity","show_button_open","expanded_panel","show_details_assignments"],[2,"width","100%"],[1,"mt-4","mb-4","w-100"],[1,"bold"],[1,"example-section"],[1,"mt-2","mb-2"],["color","primary",3,"click"],["class","my-homework-panel-in",3,"activity","show_points","show_button_open","expanded_panel","show_status",4,"ngIf"],["class","mt-2 comment-section-one-panel",4,"ngIf"],[1,"mt-2","delivered-panel-task"],["hideToggle","",3,"expanded"],[2,"padding","0"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],["for","file-add-rs-post"],[1,"delivered-panel-task-images",3,"disabled","matTooltip"],["type","file","id","file-add-rs-post",1,"d-none",3,"disabled","change"],["name","images-outline"],[1,"delivered-panel-task-google-link",3,"matTooltip","disabled","click"],["name","file-tray-full-outline"],[1,"delivered-panel-task-other-link",3,"matTooltip","disabled","click"],["name","link-outline"],["slot","end"],["color","success",3,"disabled","click"],["name","arrow-redo-outline"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[2,"margin","0","padding-left","20px"],[1,"flex","flex-wrap","px-4"],["class","w-24 h-24 relative image-fit mb-5 mr-5 cursor-pointer zoom-in","tooltip","Call","navTooltip","",3,"matTooltip","click",4,"ngFor","ngForOf"],["tooltip","Call","navTooltip","",1,"w-24","h-24","relative","image-fit","mb-5","mr-5","cursor-pointer","zoom-in",3,"matTooltip","click"],["mode","indeterminate",4,"ngIf"],["class","rounded-md","alt","Imagen",3,"src",4,"ngIf"],["class","rounded-md","alt","File","src","/assets/img/document-file-icon.png",4,"ngIf"],["title","Remove this image?","class"," w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-theme-6 right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["mode","indeterminate"],["alt","Imagen",1,"rounded-md",3,"src"],["alt","File","src","/assets/img/document-file-icon.png",1,"rounded-md"],["title","Remove this image?",1,"w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-theme-6","right-0","top-0","-mr-2","-mt-2",3,"click"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","bg-white","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["target","_blank",3,"href"],[1,"ml-auto","font-medium",3,"click"],["size","small","color","success",3,"disabled","click",4,"ngIf"],["size","small","color","success",3,"disabled","click"],["size","small","color","danger",3,"click",4,"ngFor","ngForOf"],["size","small",3,"color","click"],[3,"name"],[1,"my-homework-panel-in",3,"activity","show_points","show_button_open","expanded_panel","show_status"],[1,"mt-2","comment-section-one-panel"],["hideToggle",""],["class","pt-5",4,"ngFor","ngForOf"],[1,"w-full","flex","items-center","mt-3"],[1,"w-8","h-8","flex-none","image-fit","mr-3"],[1,"flex-1","relative","text-gray-700"],["type","text",1,"form-control","form-control-rounded","border-transparent","bg-gray-200","pr-10","placeholder-theme-13",3,"disabled","ngModel","placeholder","ngModelChange","keyup.enter"],["name","send-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",3,"matTooltip","click",4,"ngIf"],["name","cloud-upload-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",4,"ngIf"],[1,"pt-5"],[1,"flex"],[1,"rounded-full",3,"alt","src"],[1,"ml-3","flex-1"],[1,"flex","items-center"],[1,"font-medium"],["href","",1,"ml-auto","text-xs","text-gray-600"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["menuCommentPost","matMenu"],["mat-menu-item","",3,"click"],[1,"text-gray-600","text-xs","sm:text-sm"],[1,"mt-2"],["class","flex-1 relative text-gray-700",4,"ngIf"],[3,"innerHTML",4,"ngIf"],["mat-button","",3,"matMenuTriggerFor"],["focusable","false","width","24","height","24","viewBox","0 0 24 24",1,"NMm5M"],["d","M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],["name","send-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0",3,"matTooltip","click"],["name","cloud-upload-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0"],[3,"innerHTML"]],template:function(e,t){1&e&&(y.gc(0,"ion-button",0),y.bc(1,"ion-icon",1),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,se,4,3,"ion-button",2),y.cd(5,le,5,3,"ion-button",3),y.cd(6,it,3,2,"div",4)),2&e&&(y.Ac("routerLink",t.course_route+t.course_id+"/"+t.course_id+"/activities"),y.Lb(2),y.gd(" ",y.uc(3,5,"buttons.back"),"\n"),y.Lb(2),y.Ac("ngIf",t.activity),y.Lb(1),y.Ac("ngIf",t.activity&&t.activity.is_my&&null!=t.activity.questionary),y.Lb(1),y.Ac("ngIf",t.activity))},directives:[r.k,r.Kb,a.g,r.C,n.t,r.ib,r.Lb,o.r,o.u,r.jb,r.A,r.gb,r.t,r.O,n.s,r.m,r.n,r.H,n.q,o.x,o.c,S.a,r.o,r.q,C.c,C.g,ae.a,r.sb,P.a,A.a,r.p,I.e,I.b,O.b,I.d],pipes:[M.d,T.a],styles:[".item-sub-assignment[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.item-sub-assignment[_ngcontent-%COMP%]{cursor:pointer}.fsz-ac-ads[_ngcontent-%COMP%]{font-size:3em;text-align:center;margin:0}.p-2[_ngcontent-%COMP%]{padding:20px}.m-0[_ngcontent-%COMP%]{margin:0}.badge-ng-pers[_ngcontent-%COMP%]{padding:3px 5px;border-radius:5px}.color-delivered_late[_ngcontent-%COMP%]{background:#ff9f22}.color-delivered_on_time[_ngcontent-%COMP%], .color-qualificated[_ngcontent-%COMP%]{background:#73ff22}.color-delivered[_ngcontent-%COMP%]{background:#57d0ff}.color-pending[_ngcontent-%COMP%]{background:#d1d1d1}.color-late[_ngcontent-%COMP%]{background:#fcaa1d}.color-returned[_ngcontent-%COMP%]{background:#ffc409}.color-finished[_ngcontent-%COMP%]{background:#4deb8f}.color-in_progress[_ngcontent-%COMP%]{background:#7acaff}"]}),ct);function ot(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function rt(e){ot(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function at(e){ot(1,arguments);var t=rt(e);return t.setHours(0,0,0,0),t}var st=i("kRoH"),lt=i("XNiG");function ut(e,t){1&e&&y.bc(0,"mat-progress-bar",8)}function dt(e,t){if(1&e){var i=y.hc();y.gc(0,"panel-instructions-activity",9),y.oc("emmitPressButtonRoute",(function(e){return y.Sc(i),y.sc().dismiss(e)})),y.fc()}if(2&e){var c=y.sc();y.Ac("show_details_assignments",!0)("show_points",!0)("expanded_panel",!0)("show_actions",!1)("route_activity",c.route_activity)("show_button_open",!0)("activity",c.activity)}}var ft,gt=((ft=function(){function e(t,i,c,n){_classCallCheck(this,e),this.navParams=t,this.activitiesService=i,this.controlErroresService=c,this.modalCtrl=n,this.loadingPanel=!1,this.activity=null,this.scrollbarStyle=_.a.scrollbarStyle,this.route_activity=m.h.show_activity,this.uuid=this.navParams.data.uuid}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadActivity()}},{key:"loadActivity",value:function(){var e=this;this.loadingPanel=!0,this.activitiesService.get(this.uuid).subscribe((function(t){e.loadingPanel=!1,e.activity=t.data,e.route_activity=e.route_activity.replace(":id",""+e.activity.course_uuid).replace(":id",""+e.activity.course_uuid)}),(function(t){e.loadingPanel=!1,e.controlErroresService.control(t)}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||ft)(y.ac(r.Fb),y.ac(l.a),y.ac(u.a),y.ac(r.Db))},ft.\u0275cmp=y.Ub({type:ft,selectors:[["show-item-calendar"]],decls:13,vars:6,consts:[["translucent","true"],["slot","start"],["slot","end"],[3,"click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],[3,"show_details_assignments","show_points","expanded_panel","show_actions","route_activity","show_button_open","activity","emmitPressButtonRoute",4,"ngIf"],["mode","indeterminate"],[3,"show_details_assignments","show_points","expanded_panel","show_actions","route_activity","show_button_open","activity","emmitPressButtonRoute"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-buttons",1),y.bc(3,"ion-menu-button"),y.fc(),y.gc(4,"ion-title"),y.ed(5),y.tc(6,"translate"),y.fc(),y.gc(7,"ion-buttons",2),y.gc(8,"ion-button",3),y.oc("click",(function(){return t.dismiss()})),y.bc(9,"ion-icon",4),y.fc(),y.fc(),y.fc(),y.cd(10,ut,1,0,"mat-progress-bar",5),y.fc(),y.gc(11,"ion-content",6),y.cd(12,dt,1,7,"panel-instructions-activity",7),y.fc()),2&e&&(y.Lb(5),y.fd(y.uc(6,4,"forms.visor_delivery")),y.Lb(5),y.Ac("ngIf",t.loadingPanel),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf",t.activity))},directives:[r.B,r.zb,r.l,r.R,r.xb,r.k,r.C,n.t,r.u,w.b,A.a,S.a],pipes:[M.d],styles:[""]}),ft),mt=["modalContent"];function pt(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.gc(1,"mwl-calendar-month-view",13),y.oc("dayClicked",(function(e){return y.Sc(i),y.sc().dayClicked(e.day)}))("eventClicked",(function(e){return y.Sc(i),y.sc().handleEvent("Clicked",e.event)}))("eventTimesChanged",(function(e){return y.Sc(i),y.sc().eventTimesChanged(e)})),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(1),y.Ac("viewDate",c.viewDate)("events",c.events)("refresh",c.refresh)("activeDayIsOpen",c.activeDayIsOpen)}}function ht(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.gc(1,"mwl-calendar-week-view",14),y.oc("eventClicked",(function(e){return y.Sc(i),y.sc().handleEvent("Clicked",e.event)}))("eventTimesChanged",(function(e){return y.Sc(i),y.sc().eventTimesChanged(e)})),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(1),y.Ac("viewDate",c.viewDate)("events",c.events)("refresh",c.refresh)}}function vt(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.gc(1,"mwl-calendar-day-view",14),y.oc("eventClicked",(function(e){return y.Sc(i),y.sc().handleEvent("Clicked",e.event)}))("eventTimesChanged",(function(e){return y.Sc(i),y.sc().eventTimesChanged(e)})),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(1),y.Ac("viewDate",c.viewDate)("events",c.events)("refresh",c.refresh)}}var bt,_t={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}},yt=((bt=function(){function e(t,i,c){_classCallCheck(this,e),this.activityService=t,this.modalCtrl=i,this.controlErroresService=c,this.view=st.d.Week,this.CalendarView=st.d,this.scrollbarStyle=_.a.scrollbarStyle,this.viewDate=new Date,this.dateLoaded=[],this.refresh=new lt.a,this.events=[],this.activeDayIsOpen=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCalendarData((new Date).getMonth()+1,(new Date).getFullYear())}},{key:"dayClicked",value:function(e){var t=e.date,i=e.events;console.log("dayClicked"),function(e,t){ot(2,arguments);var i=rt(e),c=rt(t);return i.getFullYear()===c.getFullYear()&&i.getMonth()===c.getMonth()}(t,this.viewDate)&&(this.activeDayIsOpen=!(function(e,t){ot(2,arguments);var i=at(e),c=at(t);return i.getTime()===c.getTime()}(this.viewDate,t)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=t)}},{key:"eventTimesChanged",value:function(e){var t=e.event,i=e.newStart,c=e.newEnd;console.log("eventTimesChanged"),this.events=this.events.map((function(e){return e===t?Object.assign(Object.assign({},t),{start:i,end:c}):e})),this.handleEvent("Dropped or resized",t)}},{key:"handleEvent",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.modalData={event:t,action:e},i.next=3,this.modalCtrl.create({component:gt,cssClass:"modal-fullscreen",swipeToClose:!0,componentProps:{uuid:t.id}});case 3:return c=i.sent,i.next=6,c.present();case 6:case"end":return i.stop()}}),i,this)})))}},{key:"setView",value:function(e){this.view=e}},{key:"closeOpenMonthViewDay",value:function(e){this.getCalendarData(this.viewDate.getMonth()+1,this.viewDate.getFullYear()),this.activeDayIsOpen=!1}},{key:"getCalendarData",value:function(e,t){var i=this;this.dateLoaded.find((function(i){return i.month==e&&i.year==t}))||(this.dateLoaded.push({month:e,year:t}),this.activityService.getCalendar(e,t).subscribe((function(e){if(e.data&&Array.isArray(e.data)){var t,c=_createForOfIteratorHelper(e.data);try{for(c.s();!(t=c.n()).done;){var n=t.value,o=g.duration(g(n.date_delivery).diff(g(n.open_date))).asHours(),r={start:g(n.open_date).toDate(),end:o>1?g(n.date_delivery).toDate():null,title:'<p class="text-white"><strong>'+n.title+"</strong><br><strong>Curso: </strong>"+(n.course?n.course.name:"-")+"<p>",color:n.course?{primary:n.course.color,secondary:n.course.color}:_t.yellow,allDay:o>24,draggable:!1,id:n.uuid};i.events.push(r),i.refresh.next()}}catch(a){c.e(a)}finally{c.f()}}}),(function(e){i.controlErroresService.control(e)})))}}]),e}()).\u0275fac=function(e){return new(e||bt)(y.ac(l.a),y.ac(r.Db),y.ac(u.a))},bt.\u0275cmp=y.Ub({type:bt,selectors:[["app-show-calendar"]],viewQuery:function(e,t){var i;1&e&&y.Zc(mt,!0),2&e&&y.Nc(i=y.pc())&&(t.modalContent=i.first)},decls:44,vars:42,consts:[["translucent","true"],["slot","start"],["fullscreen","true",3,"scrollbar"],[1,"row","text-center",2,"margin-top","10px"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","end"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-buttons",1),y.bc(3,"ion-menu-button"),y.fc(),y.gc(4,"ion-title"),y.ed(5),y.tc(6,"translate"),y.fc(),y.fc(),y.fc(),y.gc(7,"ion-content",2),y.gc(8,"div",3),y.gc(9,"div",4),y.gc(10,"div",5),y.gc(11,"div",6),y.oc("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(e){return t.closeOpenMonthViewDay(e)})),y.ed(12),y.tc(13,"translate"),y.fc(),y.gc(14,"div",7),y.oc("viewDateChange",(function(e){return t.viewDate=e})),y.ed(15),y.tc(16,"translate"),y.fc(),y.gc(17,"div",8),y.oc("viewDateChange",(function(e){return t.viewDate=e}))("viewDateChange",(function(e){return t.closeOpenMonthViewDay(e)})),y.ed(18),y.tc(19,"translate"),y.fc(),y.fc(),y.fc(),y.gc(20,"div",4),y.gc(21,"h2"),y.ed(22),y.tc(23,"calendarDate"),y.fc(),y.fc(),y.gc(24,"div",4),y.gc(25,"div",5),y.gc(26,"div",9),y.oc("click",(function(){return t.setView(t.CalendarView.Month)})),y.ed(27),y.tc(28,"translate"),y.fc(),y.gc(29,"div",9),y.oc("click",(function(){return t.setView(t.CalendarView.Week)})),y.ed(30),y.tc(31,"translate"),y.fc(),y.gc(32,"div",9),y.oc("click",(function(){return t.setView(t.CalendarView.Day)})),y.ed(33),y.tc(34,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.bc(35,"br"),y.gc(36,"div",10),y.cd(37,pt,2,4,"div",11),y.cd(38,ht,2,3,"div",11),y.cd(39,vt,2,3,"div",11),y.fc(),y.fc(),y.gc(40,"ion-footer",0),y.gc(41,"ion-toolbar"),y.gc(42,"ion-buttons",12),y.ed(43,"\xa92022 Ediciones Holgu\xedn"),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(5),y.fd(y.uc(6,24,"menu.calendar")),y.Lb(2),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(4),y.Ac("view",t.view)("viewDate",t.viewDate),y.Lb(1),y.gd(" ",y.uc(13,26,"paginate.previous")," "),y.Lb(2),y.Ac("viewDate",t.viewDate),y.Lb(1),y.gd(" ",y.uc(16,28,"forms.today")," "),y.Lb(2),y.Ac("view",t.view)("viewDate",t.viewDate),y.Lb(1),y.gd(" ",y.uc(19,30,"paginate.next")," "),y.Lb(4),y.fd(y.wc(23,32,t.viewDate,t.view+"ViewTitle","Es")),y.Lb(4),y.Qb("active",t.view===t.CalendarView.Month),y.Lb(1),y.gd(" ",y.uc(28,36,"forms.month")," "),y.Lb(2),y.Qb("active",t.view===t.CalendarView.Week),y.Lb(1),y.gd(" ",y.uc(31,38,"forms.week")," "),y.Lb(2),y.Qb("active",t.view===t.CalendarView.Day),y.Lb(1),y.gd(" ",y.uc(34,40,"forms.day")," "),y.Lb(3),y.Ac("ngSwitch",t.view),y.Lb(1),y.Ac("ngSwitchCase",t.CalendarView.Month),y.Lb(1),y.Ac("ngSwitchCase",t.CalendarView.Week),y.Lb(1),y.Ac("ngSwitchCase",t.CalendarView.Day))},directives:[r.B,r.zb,r.l,r.R,r.xb,r.u,w.b,st.g,st.i,st.h,n.x,n.y,r.z,st.c,st.e,st.a],pipes:[M.d,st.j],styles:[""]}),bt),kt=i("zTdJ"),xt=i("bSwM");function Lt(e,t){1&e&&y.bc(0,"mat-progress-bar",10)}function wt(e,t){if(1&e){var i=y.hc();y.gc(0,"div",22),y.gc(1,"input",23),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc(2).title=e})),y.tc(2,"translate"),y.fc(),y.fc()}if(2&e){var c=y.sc(2);y.Lb(1),y.Bc("placeholder",y.uc(2,3,"forms.title")),y.Ac("ngModel",c.title)("disabled",c.saving)}}function At(e,t){1&e&&y.bc(0,"mat-progress-bar",10)}function St(e,t){if(1&e&&y.bc(0,"img",32),2&e){var i=y.sc().$implicit;y.Bc("src",i.picture||i.file_url,y.Vc)}}function Ct(e,t){1&e&&y.bc(0,"img",33)}function It(e,t){if(1&e){var i=y.hc();y.gc(0,"div",34),y.oc("click",(function(){y.Sc(i);var e=y.sc(),t=e.index,c=e.$implicit;return y.sc(3).removeImage(t,c.uuid)})),y.bc(1,"ion-icon",35),y.fc()}}function Ot(e,t){if(1&e&&(y.gc(0,"div",28),y.cd(1,At,1,0,"mat-progress-bar",4),y.cd(2,St,1,1,"img",29),y.cd(3,Ct,1,0,"img",30),y.cd(4,It,2,0,"div",31),y.fc()),2&e){var i=t.$implicit,c=y.sc(3);y.Ac("matTooltip",i.name),y.Lb(1),y.Ac("ngIf",i.uploading),y.Lb(1),y.Ac("ngIf",i.is_image),y.Lb(1),y.Ac("ngIf",!i.is_image),y.Lb(1),y.Ac("ngIf",!c.saving)}}function Pt(e,t){if(1&e&&(y.gc(0,"div",24),y.gc(1,"h3",25),y.ed(2),y.tc(3,"translate"),y.fc(),y.gc(4,"div",26),y.cd(5,Ot,5,5,"div",27),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.fd(y.uc(3,2,"pages.course.upload_image")),y.Lb(3),y.Ac("ngForOf",i.images)}}function Mt(e,t){if(1&e){var i=y.hc();y.gc(0,"div",38),y.gc(1,"a",39),y.gc(2,"div",40),y.gc(3,"a",41),y.ed(4),y.fc(),y.fc(),y.gc(5,"div",42),y.oc("click",(function(){y.Sc(i);var e=t.index;return y.sc(3).deleteLink(e)})),y.bc(6,"ion-icon",35),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.Bc("href",c,y.Vc),y.Lb(1),y.fd(c)}}function Tt(e,t){if(1&e&&(y.gc(0,"div",24),y.gc(1,"h3",36),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,Mt,7,2,"div",37),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.fd(y.uc(3,2,"pages.course.links_externals")),y.Lb(2),y.Ac("ngForOf",i.links)}}function Ft(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.cd(1,wt,3,5,"div",11),y.gc(2,"div",12),y.gc(3,"textarea",13),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().model=e})),y.fc(),y.fc(),y.cd(4,Pt,6,4,"div",14),y.cd(5,Tt,5,4,"div",14),y.gc(6,"ion-item"),y.gc(7,"ion-item"),y.gc(8,"section",15),y.gc(9,"mat-checkbox",16),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().can_comment=e})),y.ed(10),y.tc(11,"translate"),y.fc(),y.fc(),y.fc(),y.gc(12,"ion-item"),y.gc(13,"label",17),y.gc(14,"ion-tab-button",18),y.gc(15,"input",19),y.oc("change",(function(e){return y.Sc(i),y.sc().changeFile(e)})),y.fc(),y.bc(16,"ion-icon",20),y.fc(),y.fc(),y.gc(17,"ion-tab-button",2),y.oc("click",(function(){return y.Sc(i),y.sc().typingLink()})),y.bc(18,"ion-icon",21),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(1),y.Ac("ngIf",c.title_show),y.Lb(2),y.Ac("ngModel",c.model),y.Lb(1),y.Ac("ngIf",c.images.length>0),y.Lb(1),y.Ac("ngIf",c.links.length>0),y.Lb(4),y.Ac("ngModel",c.can_comment),y.Lb(1),y.fd(y.uc(11,9,"pages.course.can_comment")),y.Lb(4),y.Ac("disabled",c.saving),y.Lb(1),y.Ac("disabled",c.saving),y.Lb(2),y.Ac("disabled",c.saving)}}var zt,Dt=((zt=function(){function e(t,i,c,n,o,r){_classCallCheck(this,e),this.modalCtrl=t,this.controlErroresService=i,this.navParams=c,this.courseService=n,this.alertController=o,this.toastService=r,this.post_id=0,this.scrollbarStyle=_.a.scrollbarStyle,this.loading=!0,this.post=null,this.links=[],this.images=[],this.saving=!1,this.type="post",this.model="",this.title="",this.can_comment=0,this.filesDeleted=[],this.title_show=!1,this.totalFilesUploaded=0,this.post_id=this.navParams.data.post_id,this.title_show=this.navParams.data.title_show,this.type=this.navParams.data.type||"post"}return _createClass(e,[{key:"startEditor",value:function(){var e=this;setTimeout((function(){var t=document.getElementById("text-model-post-edit");CKEDITOR.replace(t),CKEDITOR.instances["text-model-post-edit"].setData(e.post.text)}),500)}},{key:"ngOnInit",value:function(){this.loadPost()}},{key:"loadPost",value:function(){var e=this;this.loading=!0,this.courseService.getOnePost(this.post_id).subscribe((function(t){e.loading=!1,e.post=t.data,e.can_comment=e.post.can_comment,e.post&&Array.isArray(e.post.links)&&e.post.links.forEach((function(t){e.links.push(t.text)})),e.post&&Array.isArray(e.post.images)&&(e.images=e.post.images),e.title=e.post.title,e.startEditor()}),(function(t){e.loading=!1,e.controlErroresService.control(t),e.dismiss()}))}},{key:"changeFile",value:function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader,i={photo:e.target.files[0],name:e.target.files[0].name,size:e.target.files[0].size,picture:"",is_image:e.target.files[0].type.indexOf("image")>=0,content_type:e.target.files[0].type||"unknown"};if(t.onload=function(e){i.picture=e.target.result},e.target.files[0].size>1e6*_.a.max_size_img)return void this.toastService.presentToast("Peso m\xe1ximo "+_.a.max_size_img+"MB","warning");this.images.push(i),t.readAsDataURL(e.target.files[0])}}},{key:"removeImage",value:function(e,t){e<0||(this.images.splice(e,1),t&&this.filesDeleted.push(t))}},{key:"deleteLink",value:function(e){e<0||this.links.splice(e,1)}},{key:"typingLink",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"",header:"A\xf1adir enlace",inputs:[{name:"link",value:"",type:"url",placeholder:"Enlace"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"A\xf1adir",handler:function(e){console.log(e),e.link&&i.links.push(e.link)}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"save",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.model=CKEDITOR.instances["text-model-post-edit"].getData(),this.model?(this.saving=!0,this.totalFilesUploaded=0,this.courseService.updatePost({text:this.model,title:this.title,type:this.type,links:this.links,status:t,files_deleted:this.filesDeleted,can_comment:this.can_comment},this.post_id).subscribe((function(t){t.data?(e.post=t.data,0==e.images.filter((function(e){return e.photo})).length?(e.checkUploadPost(),e.saving=!1,e.toastService.presentToast(t.message,t.status)):e.saveImagesPost(t.data.uuid)):(e.toastService.presentToast(t.message,t.status),e.saving=!1)}),(function(t){e.saving=!1,e.controlErroresService.control(t)}))):this.toastService.presentToast("Agregue su comentario","warning")}},{key:"saveImagesPost",value:function(e){var t,i=this,c=_createForOfIteratorHelper(this.images.filter((function(e){return e.photo})));try{var n=function(){var c=t.value;c.uploading=!0,i.courseService.saveImagePost(Object(m.c)({file:c.photo,content_type:c.content_type,name:c.name,size:c.size}),e).subscribe((function(e){c.uploading=!1,i.totalFilesUploaded++,i.post.images.push(e.data),i.checkUploadPost()}),(function(e){c.uploading=!1,i.totalFilesUploaded++,i.controlErroresService.control(e),i.checkUploadPost()}))};for(c.s();!(t=c.n()).done;)n()}catch(o){c.e(o)}finally{c.f()}}},{key:"checkUploadPost",value:function(){var e=this.images.filter((function(e){return e.photo}));this.totalFilesUploaded>=e.length&&(this.saving=!1,this.dismiss(this.post))}},{key:"dismiss",value:function(e){this.modalCtrl.dismiss(e)}}]),e}()).\u0275fac=function(e){return new(e||zt)(y.ac(r.Db),y.ac(u.a),y.ac(r.Fb),y.ac(d.a),y.ac(r.b),y.ac(b.a))},zt.\u0275cmp=y.Ub({type:zt,selectors:[["app-edit-post-course"]],decls:26,vars:23,consts:[["translucent","true"],["slot","end"],[3,"disabled","click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],[4,"ngIf"],["color","light",3,"disabled","click"],["color","warning",3,"disabled","click"],["color","success",3,"disabled","click"],["mode","indeterminate"],["class","intro-x mt-8","style","display: flex;margin-bottom: 1em;",4,"ngIf"],[1,"m-1"],["rows","5","id","text-model-post-edit",3,"ngModel","ngModelChange"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],[1,"example-section"],[1,"example-margin",3,"ngModel","ngModelChange"],["for","file-add-rs-post"],[3,"disabled"],["type","file","id","file-add-rs-post",1,"d-none",3,"disabled","change"],["name","images-outline"],["name","link-outline"],[1,"intro-x","mt-8",2,"display","flex","margin-bottom","1em"],["type","text","name","title",1,"pin-input","intro-x","login__input","form-control","py-3","px-4","border-gray-300","block",3,"ngModel","disabled","placeholder","ngModelChange"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[2,"margin","0","padding-left","20px"],[1,"flex","flex-wrap","px-4"],["class","w-24 h-24 relative image-fit mb-5 mr-5 cursor-pointer zoom-in","tooltip","Call","navTooltip","",3,"matTooltip",4,"ngFor","ngForOf"],["tooltip","Call","navTooltip","",1,"w-24","h-24","relative","image-fit","mb-5","mr-5","cursor-pointer","zoom-in",3,"matTooltip"],["class","rounded-md","alt","Imagen",3,"src",4,"ngIf"],["class","rounded-md","alt","File","src","/assets/img/document-file-icon.png",4,"ngIf"],["title","Remove this image?","class"," w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-theme-6 right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["alt","Imagen",1,"rounded-md",3,"src"],["alt","File","src","/assets/img/document-file-icon.png",1,"rounded-md"],["title","Remove this image?",1,"w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-theme-6","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","trash-outline"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","bg-white","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["target","_blank",3,"href"],[1,"ml-auto","font-medium",3,"click"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-buttons",1),y.gc(6,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(7,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.cd(8,Lt,1,0,"mat-progress-bar",4),y.fc(),y.gc(9,"ion-content",5),y.cd(10,Ft,19,11,"div",6),y.fc(),y.gc(11,"ion-footer",0),y.gc(12,"ion-toolbar"),y.gc(13,"ion-item"),y.gc(14,"ion-item",1),y.gc(15,"ion-button",7),y.oc("click",(function(){return t.dismiss()})),y.ed(16),y.tc(17,"translate"),y.fc(),y.gc(18,"ion-button",8),y.oc("click",(function(){return t.save("draft")})),y.ed(19),y.tc(20,"translate"),y.tc(21,"translate"),y.fc(),y.gc(22,"ion-button",9),y.oc("click",(function(){return t.save()})),y.ed(23),y.tc(24,"translate"),y.tc(25,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.gd(" ",y.uc(4,11,"pages.course.edit_post")," "),y.Lb(3),y.Ac("disabled",t.loading),y.Lb(2),y.Ac("ngIf",t.loading),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf",t.post),y.Lb(5),y.Ac("disabled",t.saving),y.Lb(1),y.gd(" ",y.uc(17,13,"buttons.cancel")," "),y.Lb(2),y.Ac("disabled",t.saving),y.Lb(1),y.gd(" ",t.saving?y.uc(20,15,"buttons.uploading"):y.uc(21,17,"buttons.save_eraser")," "),y.Lb(3),y.Ac("disabled",t.saving),y.Lb(1),y.gd(" ",t.saving?y.uc(24,19,"buttons.uploading"):y.uc(25,21,"buttons.save")," "))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,n.t,r.u,w.b,r.z,r.H,A.a,o.c,o.r,o.u,xt.a,r.sb,n.s,P.a],pipes:[M.d],styles:[""]}),zt),qt=i("Gs5E");function Et(e,t){1&e&&y.bc(0,"mat-progress-bar",9)}function Rt(e,t){if(1&e){var i=y.hc();y.gc(0,"div"),y.gc(1,"div",10),y.gc(2,"textarea",11),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().model=e})),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(2),y.Ac("ngModel",c.model)}}var $t,jt=(($t=function(){function e(t,i,c,n,o){_classCallCheck(this,e),this.modalCtrl=t,this.controlErroresService=i,this.navParams=c,this.courseService=n,this.toastService=o,this.post_id=0,this.scrollbarStyle=_.a.scrollbarStyle,this.loading=!1,this.comment=null,this.saving=!1,this.model="",this.comment=this.navParams.data.comment,this.startEditor()}return _createClass(e,[{key:"startEditor",value:function(){var e=this;setTimeout((function(){var t=document.getElementById("text-model-post-edit");CKEDITOR.replace(t),CKEDITOR.instances["text-model-post-edit"].setData(e.comment.text)}),500)}},{key:"ngOnInit",value:function(){}},{key:"save",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.model=CKEDITOR.instances["text-model-post-edit"].getData(),this.model?(this.saving=!0,this.courseService.updateCommentPost(this.comment.uuid,{text:this.model}).subscribe((function(t){t.data?(e.comment=t.data,e.saving=!1,e.toastService.presentToast(t.message,t.status),e.dismiss(e.comment)):(e.toastService.presentToast(t.message,t.status),e.saving=!1)}),(function(t){e.saving=!1,e.controlErroresService.control(t)}))):this.toastService.presentToast("Agregue su comentario","warning")}},{key:"dismiss",value:function(e){this.modalCtrl.dismiss(e)}}]),e}()).\u0275fac=function(e){return new(e||$t)(y.ac(r.Db),y.ac(u.a),y.ac(r.Fb),y.ac(d.a),y.ac(b.a))},$t.\u0275cmp=y.Ub({type:$t,selectors:[["app-edit-comment"]],decls:22,vars:17,consts:[["translucent","true"],["slot","end"],[3,"disabled","click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],[4,"ngIf"],["color","light",3,"disabled","click"],["color","success",3,"disabled","click"],["mode","indeterminate"],[1,"m-1"],["rows","5","id","text-model-post-edit",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-buttons",1),y.gc(6,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(7,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.cd(8,Et,1,0,"mat-progress-bar",4),y.fc(),y.gc(9,"ion-content",5),y.cd(10,Rt,3,1,"div",6),y.fc(),y.gc(11,"ion-footer",0),y.gc(12,"ion-toolbar"),y.gc(13,"ion-item"),y.gc(14,"ion-item",1),y.gc(15,"ion-button",7),y.oc("click",(function(){return t.dismiss()})),y.ed(16),y.tc(17,"translate"),y.fc(),y.gc(18,"ion-button",8),y.oc("click",(function(){return t.save()})),y.ed(19),y.tc(20,"translate"),y.tc(21,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.gd(" ",y.uc(4,9,"pages.course.edit_comment")," "),y.Lb(3),y.Ac("disabled",t.loading),y.Lb(2),y.Ac("ngIf",t.loading),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf",t.comment),y.Lb(5),y.Ac("disabled",t.saving),y.Lb(1),y.gd(" ",y.uc(17,11,"buttons.cancel")," "),y.Lb(2),y.Ac("disabled",t.saving),y.Lb(1),y.gd(" ",t.saving?y.uc(20,13,"buttons.uploading"):y.uc(21,15,"buttons.save")," "))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,n.t,r.u,w.b,r.z,r.H,A.a,o.c,o.r,o.u],pipes:[M.d],styles:[""]}),$t),Bt=["theLastReferencePost"];function Qt(e,t){if(1&e){var i=y.hc();y.gc(0,"div",27),y.gc(1,"ion-button",28),y.oc("click",(function(){y.Sc(i);var e=y.sc(2);return e.editPost(e.post)})),y.bc(2,"ion-icon",29),y.fc(),y.gc(3,"ion-button",30),y.oc("click",(function(){return y.Sc(i),y.sc(2).removePost()})),y.bc(4,"ion-icon",31),y.fc(),y.fc()}}function Vt(e,t){if(1&e&&(y.gc(0,"div",35),y.gc(1,"a",36),y.gc(2,"div",37),y.gc(3,"a",38),y.ed(4),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit;y.Lb(3),y.Bc("href",i.text,y.Vc),y.Lb(1),y.fd(i.text)}}function Ht(e,t){if(1&e&&(y.gc(0,"div",32),y.gc(1,"h3",33),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,Vt,5,2,"div",34),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.fd(y.uc(3,2,"pages.course.links_externals")),y.Lb(2),y.Ac("ngForOf",i.post.links)}}function Nt(e,t){if(1&e&&y.bc(0,"img",45),2&e){var i=y.sc().$implicit;y.Bc("src",i.file_url,y.Vc)}}function Ut(e,t){1&e&&y.bc(0,"img",46)}function Jt(e,t){if(1&e&&(y.gc(0,"a",42),y.cd(1,Nt,1,1,"img",43),y.cd(2,Ut,1,0,"img",44),y.fc()),2&e){var i=t.$implicit;y.Bc("href",i.file_url,y.Vc),y.Ac("matTooltip",i.name),y.Lb(1),y.Ac("ngIf",i.is_image),y.Lb(1),y.Ac("ngIf",!i.is_image)}}function Yt(e,t){if(1&e&&(y.gc(0,"div",32),y.gc(1,"h3",39),y.ed(2),y.tc(3,"translate"),y.fc(),y.gc(4,"div",40),y.cd(5,Jt,3,4,"a",41),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.fd(y.uc(3,2,"pages.course.files")),y.Lb(3),y.Ac("ngForOf",i.post.images)}}function Wt(e,t){if(1&e&&(y.gc(0,"div",59,60),y.bc(2,"img",61),y.fc()),2&e){var i=y.sc().$implicit,c=y.sc(2);y.Lb(2),y.Ac("alt",null!=i.user_create?i.user_create.name:"-")("src",null!=i.user_create&&null!=i.user_create.information?i.user_create.information.image_url:c.profile_img_route,y.Vc)}}function Gt(e,t){if(1&e&&(y.gc(0,"div",59),y.bc(1,"img",61),y.fc()),2&e){var i=y.sc().$implicit,c=y.sc(2);y.Lb(1),y.Ac("alt",null!=i.user_create?i.user_create.name:"-")("src",null!=i.user_create&&null!=i.user_create.information?i.user_create.information.image_url:c.profile_img_route,y.Vc)}}function Kt(e,t){if(1&e&&(y.gc(0,"button",62),y.rc(),y.gc(1,"svg",63),y.bc(2,"path",64),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(11);y.Ac("matMenuTriggerFor",i)}}function Xt(e,t){if(1&e){var i=y.hc();y.gc(0,"div",47),y.gc(1,"div",48),y.cd(2,Wt,3,2,"div",49),y.cd(3,Gt,2,2,"div",49),y.gc(4,"div",50),y.gc(5,"div",6),y.gc(6,"a",51),y.ed(7),y.fc(),y.bc(8,"a",52),y.cd(9,Kt,3,1,"button",53),y.gc(10,"mat-menu",null,54),y.gc(12,"button",55),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(2).enableModeEdit(e)})),y.bc(13,"ion-icon",29),y.ed(14),y.tc(15,"translate"),y.fc(),y.gc(16,"button",55),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index,n=y.sc(2);return n.removeComment(n.post,e,c)})),y.bc(17,"ion-icon",56),y.ed(18),y.tc(19,"translate"),y.fc(),y.fc(),y.fc(),y.gc(20,"div",57),y.ed(21),y.fc(),y.bc(22,"div",58),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=t.index,o=y.sc(2);y.Lb(2),y.Ac("ngIf",o.comments.length==n+1),y.Lb(1),y.Ac("ngIf",o.comments.length!=n+1),y.Lb(4),y.fd(null!=c.user_create?c.user_create.name:"-"),y.Lb(2),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(15,8,"buttons.edit")," "),y.Lb(4),y.gd(" ",y.uc(19,10,"buttons.delete")," "),y.Lb(3),y.fd(o.moment(c.date_created).fromNow()),y.Lb(1),y.Ac("innerHTML",c.text,y.Tc)}}function Zt(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-grid"),y.gc(1,"ion-row"),y.gc(2,"ion-col",3),y.gc(3,"div",4),y.gc(4,"div",5),y.gc(5,"div",6),y.gc(6,"div",7),y.bc(7,"img",8),y.fc(),y.gc(8,"div",9),y.gc(9,"a",10),y.ed(10),y.fc(),y.ed(11),y.tc(12,"translate"),y.gc(13,"div",11),y.ed(14,"Senior Frontend Engineer"),y.fc(),y.fc(),y.fc(),y.cd(15,Qt,5,0,"div",12),y.fc(),y.gc(16,"h2",13),y.ed(17),y.fc(),y.gc(18,"div",14),y.ed(19),y.fc(),y.gc(20,"div",15),y.bc(21,"p",16),y.fc(),y.cd(22,Ht,5,4,"div",17),y.cd(23,Yt,6,4,"div",17),y.gc(24,"div",18),y.gc(25,"div",19),y.ed(26),y.tc(27,"translate"),y.fc(),y.gc(28,"div",20),y.bc(29,"i",21),y.gc(30,"textarea",22),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().model=e})),y.fc(),y.fc(),y.gc(31,"ion-item"),y.gc(32,"ion-item",23),y.gc(33,"ion-button",24),y.oc("click",(function(){return y.Sc(i),y.sc().submitComment()})),y.ed(34),y.tc(35,"translate"),y.tc(36,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(37,"div",25),y.cd(38,Xt,23,12,"div",26),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(7),y.Ac("src",null!=c.post.user_create&&null!=c.post.user_create.information?c.post.user_create.information.image_url:c.profile_img_route,y.Vc),y.Lb(3),y.gd("",null!=c.post.user_create?c.post.user_create.name:"-"," "),y.Lb(1),y.gd(", ",y.uc(12,16,"forms.author")," "),y.Lb(4),y.Ac("ngIf",c.post.is_my),y.Lb(2),y.gd(" ",c.post.title," "),y.Lb(2),y.gd(" ",c.moment(c.post.date_created).format("DD/MM/YYYY")," "),y.Lb(2),y.Ac("innerHTML",c.post.text,y.Tc),y.Lb(1),y.Ac("ngIf",c.post.links&&c.post.links.length>0),y.Lb(1),y.Ac("ngIf",c.post.images&&c.post.images.length>0),y.Lb(1),y.Ac("ngClass","1"==c.post.can_comment?"":"d-none"),y.Lb(2),y.hd("",c.post.total_comments||0," ",y.uc(27,18,"forms.responses"),""),y.Lb(4),y.Ac("ngModel",c.model),y.Lb(3),y.Ac("disabled",c.saving),y.Lb(1),y.gd(" ",c.saving?y.uc(35,20,"buttons.uploading"):y.uc(36,22,"buttons.publish")," "),y.Lb(4),y.Ac("ngForOf",c.comments)}}var ei,ti=((ei=function(){function e(t,i,c,n,o,r,a,s,l){_classCallCheck(this,e),this.modalCtrl=t,this.controlErroresService=i,this.activeRoute=c,this.routerOutlet=n,this.courseService=o,this.alertController=r,this.toastService=a,this.loadingService=s,this.redirectService=l,this.totalPages=0,this.this_page=0,this.model="",this.profile_img_route="/assets/images/profile-8.jpg",this.post=null,this.moment=g,this.number_paginate=0,this.post_id=0,this.course_id=0,this.loading=!0,this.comments=[],this.saving=!1,this.type="post",this.title_show=!1,this.post_id=c.snapshot.params.post_id,this.type=c.snapshot.params.type,this.course_id=c.snapshot.params.uuid,this.moment.locale("es"),g.locale("es")}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadPost(),this.intersectionObserver()}},{key:"ngAfterViewInit",value:function(){var e=this;this.theLastReferencePost.changes.subscribe((function(t){t.last&&e.observer.observe(t.last.nativeElement)}))}},{key:"removePost",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDesea eliminar este post?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){i.loadingService.change(!0),i.courseService.deletePost(i.post.uuid).subscribe((function(e){i.loadingService.change(!1),i.redirectService.redirect(e.message,m.h.one_course+i.course_id+"/"+i.course_id+"/"+i.type,e.status)}),(function(e){i.loadingService.change(!1),i.controlErroresService.control(e)}))}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"editPost",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:Dt,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{post_id:e.uuid,title_show:!0}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:c=t.sent,n=c.data,console.log(n),n&&(e.text=n.text,e.date_created=n.date_created,e.can_comment=n.can_comment,e.images=n.images,e.status=n.status,e.total_comments=n.total_comments,e.links=n.links,e.type=n.type,e.title=n.title);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"intersectionObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&e.totalPages>=e.this_page&&e.loadComments()}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"loadComments",value:function(){var e=this;this.this_page++,this.loadingService.change(!0),this.courseService.getCommentPost(this.post_id,this.this_page||1).subscribe((function(t){e.loadingService.change(!1),e.comments=e.comments.concat(t.data),e.this_page=t.here,e.totalPages=t.last_page,e.number_paginate=t.number_paginate}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"loadPost",value:function(){var e=this;this.loadingService.change(!0),this.courseService.getOnePost(this.post_id).subscribe((function(t){e.loadingService.change(!1),e.post=t.data,e.loadComments(),setTimeout((function(){var e=document.getElementById("text-model-post");CKEDITOR.replace(e)}),200)}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t),e.redirectService.redirect("null",m.h.one_course+e.course_id+"/"+e.course_id+"/"+e.type)}))}},{key:"submitComment",value:function(){var e=this;this.model=CKEDITOR.instances["text-model-post"].getData(),this.model?(this.loadingService.change(!0),this.saving=!0,this.courseService.commentPost(this.post_id,{text:this.model}).subscribe((function(t){e.model="",isNaN(e.post.total_comments)?e.post.total_comments=1:e.post.total_comments++,e.loading=!1,Array.isArray(e.comments)&&e.comments.unshift(t.data),e.loadingService.change(!1),e.model=CKEDITOR.instances["text-model-post"].setData("")}),(function(t){e.loadingService.change(!1),e.saving=!1,e.controlErroresService.control(t)}))):this.toastService.presentToast("\xa1Agregue un comentario para poder publicarlo!","warning")}},{key:"removeComment",value:function(e,t,i){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var n,o=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDesea eliminar este comentario?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){o.loadingService.change(!0),o.courseService.deleteCommentPost(t.uuid).subscribe((function(t){o.loadingService.change(!1),o.comments.splice(i,1),isNaN(e.total_comments)||e.total_comments--,o.toastService.presentToast(t.message,t.status)}),(function(e){o.loadingService.change(!1),o.controlErroresService.control(e)}))}}]});case 2:return n=c.sent,c.next=5,n.present();case 5:case"end":return c.stop()}}),c,this)})))}},{key:"updateComment",value:function(e){var t=this;e.aux_text&&(e.comment_upload=!0,this.courseService.updateCommentPost(e.uuid,{text:e.aux_text}).subscribe((function(i){e.comment_upload=!1,e.text=e.aux_text,t.toastService.presentToast(i.message,i.status),e.edit_mode=!1}),(function(i){e.comment_upload=!1,t.controlErroresService.control(i)})))}},{key:"enableModeEdit",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:jt,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{comment:e}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:c=t.sent,n=c.data,console.log(n),n&&(e.text=n.text);case 10:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||ei)(y.ac(r.Db),y.ac(u.a),y.ac(a.a),y.ac(r.fb),y.ac(d.a),y.ac(r.b),y.ac(b.a),y.ac(f.a),y.ac(qt.a))},ei.\u0275cmp=y.Ub({type:ei,selectors:[["app-show-item-post"]],viewQuery:function(e,t){var i;1&e&&y.ld(Bt,!0,y.o),2&e&&y.Nc(i=y.pc())&&(t.theLastReferencePost=i)},decls:4,vars:1,consts:[[1,"flex","flex-center"],["size","12","size-sm","11","size-md","10","size-xl","9"],[4,"ngIf"],["size","12","size-sm","12","size-md","12","size-xl","12",1,"container-add-post"],[1,"intro-y","news","p-2","box","mt-8","p-3"],[1,"intro-y","flex","text-xs","sm:text-sm","flex-col","sm:flex-row","items-center","mb-2","pb-2","border-t","border-gray-200","dark:border-dark-5"],[1,"flex","items-center"],[1,"w-12","h-12","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"ml-3","mr-auto"],["href","",1,"font-medium"],[1,"text-gray-600"],["class","flex items-center text-gray-700 dark:text-gray-600 sm:ml-auto mt-5 sm:mt-0",4,"ngIf"],[1,"intro-y","font-medium","text-xl","sm:text-2xl"],[1,"intro-y","mt-3","text-xs","sm:text-sm"],[1,"intro-y","text-justify","leading-relaxed","mt-2","mb-2"],[3,"innerHTML"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],[1,"intro-y","border-t","border-gray-200","dark:border-dark-5",3,"ngClass"],[1,"text-base","sm:text-lg","font-medium"],[1,"relative","mt-5"],["data-feather","message-circle",1,"w-5","h-5","absolute","my-auto","inset-y-0","ml-6","left-0","text-gray-600"],["rows","5","id","text-model-post",3,"ngModel","ngModelChange"],["slot","end"],["color","success",3,"disabled","click"],[1,"intro-y","mt-5","pb-10"],["class","mt-2 pt-2 border-t border-gray-200 dark:border-dark-5",4,"ngFor","ngForOf"],[1,"flex","items-center","text-gray-700","dark:text-gray-600","sm:ml-auto","mt-5","sm:mt-0"],["fill","outline","color","success",3,"click"],["name","create-outline"],["fill","outline",3,"click"],["color","danger","name","trash-outline"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["target","_blank",3,"href"],[2,"margin","0","padding-left","20px"],[1,"flex","flex-wrap","px-4"],["target","_blank","class","w-24 h-24 relative image-fit mb-5 mr-5 cursor-pointer zoom-in","tooltip","Call","navTooltip","",3,"href","matTooltip",4,"ngFor","ngForOf"],["target","_blank","tooltip","Call","navTooltip","",1,"w-24","h-24","relative","image-fit","mb-5","mr-5","cursor-pointer","zoom-in",3,"href","matTooltip"],["class","rounded-md","alt","Imagen",3,"src",4,"ngIf"],["class","rounded-md","alt","File","src","/assets/img/document-file-icon.png",4,"ngIf"],["alt","Imagen",1,"rounded-md",3,"src"],["alt","File","src","/assets/img/document-file-icon.png",1,"rounded-md"],[1,"mt-2","pt-2","border-t","border-gray-200","dark:border-dark-5"],[1,"flex"],["class","w-10 h-10 sm:w-12 sm:h-12 flex-none image-fit",4,"ngIf"],[1,"ml-3","flex-1"],["href","javascript:void(0)",1,"font-medium"],["href","",1,"ml-auto","text-xs","text-gray-600"],["mat-button","","class","ml-auto text-xs text-gray-600",3,"matMenuTriggerFor",4,"ngIf"],["menuCommentPost","matMenu"],["mat-menu-item","",3,"click"],["name","trash-outline"],[1,"text-gray-600","text-xs","sm:text-sm"],[1,"mt-2",3,"innerHTML"],[1,"w-10","h-10","sm:w-12","sm:h-12","flex-none","image-fit"],["theLastReferencePost",""],[1,"rounded-full",3,"alt","src"],["mat-button","",1,"ml-auto","text-xs","text-gray-600",3,"matMenuTriggerFor"],["focusable","false","width","24","height","24","viewBox","0 0 24 24",1,"NMm5M"],["d","M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"]],template:function(e,t){1&e&&(y.gc(0,"ion-grid"),y.gc(1,"ion-row",0),y.gc(2,"ion-col",1),y.cd(3,Zt,39,24,"ion-grid",2),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.Ac("ngIf",t.post))},directives:[r.A,r.gb,r.t,n.t,n.q,o.c,o.r,o.u,r.H,r.k,n.s,r.C,P.a,I.e,I.b,O.b,I.d],pipes:[M.d],styles:[""]}),ei),ii=i("+CSD"),ci=i("bO4D"),ni=i("qIrB"),oi=["theLastReferencePost"];function ri(e,t){1&e&&(y.gc(0,"small"),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.gd(" : ",y.uc(2,1,"pages.course.no_last_works")," "))}function ai(e,t){1&e&&(y.gc(0,"small"),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.gd(" ",y.uc(2,1,"pages.course.no_last_works")," "))}function si(e,t){if(1&e){var i=y.hc();y.gc(0,"a",18),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(6).getItemsActivities(!0,{theme_id:e.uuid})})),y.gc(1,"div",19),y.ed(2),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(2),y.fd(c.title)}}function li(e,t){if(1&e){var i=y.hc();y.gc(0,"div",22),y.gc(1,"a",23),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(5).getItemsActivities(!0,{block_id:e.uuid})})),y.gc(2,"div",19),y.ed(3),y.fc(),y.fc(),y.bc(4,"hr"),y.gc(5,"div",24),y.gc(6,"div"),y.gc(7,"small"),y.ed(8),y.tc(9,"translate"),y.fc(),y.cd(10,ai,3,3,"small",0),y.fc(),y.cd(11,si,3,1,"a",25),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.fd(c.title),y.Lb(5),y.fd(y.uc(9,4,"pages.course.themes")),y.Lb(2),y.Ac("ngIf",!c.themes_activity||0==c.themes_activity.length),y.Lb(1),y.Ac("ngForOf",c.themes_activity)}}function ui(e,t){if(1&e){var i=y.hc();y.gc(0,"div",17),y.gc(1,"a",18),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).getItemsActivities(!0,{semester_id:e.uuid})})),y.gc(2,"div",19),y.ed(3),y.fc(),y.fc(),y.gc(4,"div",20),y.gc(5,"small"),y.ed(6),y.tc(7,"translate"),y.fc(),y.cd(8,ri,3,3,"small",0),y.fc(),y.cd(9,li,12,6,"div",21),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.fd(c.title),y.Lb(3),y.fd(y.uc(7,4,"pages.course.blocks")),y.Lb(2),y.Ac("ngIf",!c.blocks||0==c.blocks.length),y.Lb(1),y.Ac("ngForOf",c.blocks)}}function di(e,t){1&e&&(y.gc(0,"p",26),y.gc(1,"small"),y.ed(2),y.tc(3,"translate"),y.fc(),y.fc()),2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.no_last_works")," "))}function fi(e,t){if(1&e&&(y.gc(0,"ion-card",13),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.gc(5,"ion-card-content",14),y.cd(6,ui,10,6,"div",15),y.cd(7,di,4,3,"p",16),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(3),y.gd(" ",y.uc(4,3,"pages.course.all_themes")," "),y.Lb(3),y.Ac("ngForOf",i.semesters),y.Lb(1),y.Ac("ngIf",!i.semesters||0==i.semesters.length)}}function gi(e,t){if(1&e){var i=y.hc();y.gc(0,"div",17),y.gc(1,"a",18),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).getItemsActivities(!0,{theme_id:e.uuid})})),y.gc(2,"div",19),y.ed(3),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.fd(c.title)}}function mi(e,t){if(1&e&&(y.gc(0,"ion-card",13),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.gc(5,"ion-card-content",14),y.cd(6,gi,4,1,"div",15),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(3),y.gd(" ",y.uc(4,2,"pages.course.others_themes")," "),y.Lb(3),y.Ac("ngForOf",i.otherActivityThemes)}}function pi(e,t){if(1&e){var i=y.hc();y.gc(0,"div",17),y.gc(1,"a",18),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).getItemsActivities(!0,{theme_id:e.uuid})})),y.gc(2,"div",19),y.ed(3),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.fd(c.title)}}function hi(e,t){1&e&&(y.gc(0,"p",26),y.gc(1,"small"),y.ed(2),y.tc(3,"translate"),y.fc(),y.fc()),2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.no_last_works")," "))}function vi(e,t){if(1&e&&(y.gc(0,"ion-card",13),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.gc(5,"ion-card-content",14),y.cd(6,pi,4,1,"div",15),y.cd(7,hi,4,3,"p",16),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(3),y.gd(" ",y.uc(4,3,"pages.course.all_themes")," "),y.Lb(3),y.Ac("ngForOf",i.activityThemes),y.Lb(1),y.Ac("ngIf",!i.activityThemes||0==i.activityThemes.length)}}function bi(e,t){if(1&e&&(y.gc(0,"ion-col",11),y.cd(1,fi,8,5,"ion-card",12),y.cd(2,mi,7,4,"ion-card",12),y.cd(3,vi,8,5,"ion-card",12),y.fc()),2&e){var i=y.sc(2);y.Lb(1),y.Ac("ngIf",1==i.course.active_mode_partials),y.Lb(1),y.Ac("ngIf",1==i.course.active_mode_partials&&0!=i.otherActivityThemes.length),y.Lb(1),y.Ac("ngIf",1!=i.course.active_mode_partials)}}function _i(e,t){if(1&e&&(y.gc(0,"ion-button",30),y.bc(1,"i",31),y.ed(2),y.tc(3,"translate"),y.bc(4,"ion-icon",32),y.fc()),2&e){y.sc();var i=y.Oc(4);y.Ac("matMenuTriggerFor",i),y.Lb(2),y.gd(" ",y.uc(3,2,"buttons.create")," ")}}function yi(e,t){if(1&e&&(y.gc(0,"button",33),y.bc(1,"ion-icon",34),y.ed(2),y.tc(3,"translate"),y.fc()),2&e){var i=t.$implicit;y.Ac("routerLink","create/form/"+i.param),y.Lb(1),y.Ac("name",i.icon),y.Lb(1),y.gd(" ",y.uc(3,3,i.title)," ")}}function ki(e,t){if(1&e&&(y.gc(0,"ion-col",8),y.gc(1,"ion-card"),y.cd(2,_i,5,4,"ion-button",27),y.gc(3,"mat-menu",null,28),y.cd(5,yi,4,5,"button",29),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.Ac("ngIf",i.course.is_my),y.Lb(3),y.Ac("ngForOf",i.listCreateItems)}}function xi(e,t){if(1&e&&y.bc(0,"panel-instructions-activity",35),2&e){var i=t.$implicit,c=y.sc(2);y.Ac("activity",i)("show_button_open",!0)("expanded_panel",!1)("route_activity",c.route_activity)("show_details_assignments",!0)}}function Li(e,t){1&e&&(y.gc(0,"ion-card-title",37),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.fd(y.uc(2,1,"pages.course.activities_crate_welcome")))}function wi(e,t){1&e&&(y.gc(0,"ion-card-title",37),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.fd(y.uc(2,1,"pages.course.activities_crate_welcome_student")))}function Ai(e,t){1&e&&(y.gc(0,"ion-card-subtitle"),y.bc(1,"ion-icon",38),y.ed(2),y.tc(3,"translate"),y.fc()),2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.create_and_programing_act")," "))}function Si(e,t){1&e&&(y.gc(0,"ion-card-subtitle"),y.bc(1,"ion-icon",39),y.ed(2),y.tc(3,"translate"),y.fc()),2&e&&(y.Lb(2),y.gd(" ",y.uc(3,1,"pages.course.response_activities_post")," "))}function Ci(e,t){if(1&e&&(y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.cd(2,Li,3,3,"ion-card-title",36),y.cd(3,wi,3,3,"ion-card-title",36),y.cd(4,Ai,4,3,"ion-card-subtitle",0),y.cd(5,Si,4,3,"ion-card-subtitle",0),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.Ac("ngIf",1==i.course.is_my),y.Lb(1),y.Ac("ngIf",1!=i.course.is_my),y.Lb(1),y.Ac("ngIf",1==i.course.is_my),y.Lb(1),y.Ac("ngIf",1!=i.course.is_my)}}function Ii(e,t){if(1&e&&(y.gc(0,"ion-grid"),y.gc(1,"ion-row",1),y.gc(2,"ion-col",2),y.gc(3,"ion-grid"),y.gc(4,"ion-row"),y.cd(5,bi,4,3,"ion-col",3),y.gc(6,"ion-col",4),y.gc(7,"ion-grid"),y.gc(8,"ion-row"),y.gc(9,"ion-col",5),y.bc(10,"filters-course",6),y.fc(),y.cd(11,ki,6,2,"ion-col",7),y.fc(),y.gc(12,"ion-col",8),y.cd(13,xi,1,5,"panel-instructions-activity",9),y.bc(14,"span",null,10),y.cd(16,Ci,6,4,"ion-card",0),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(5),y.Ac("ngIf",!1),y.Lb(5),y.Ac("required",i.allowFilters)("course_id",i.course.uuid)("buttons",i.buttons_all),y.Lb(1),y.Ac("ngIf",1==i.course.is_my),y.Lb(2),y.Ac("ngForOf",i.activities),y.Lb(3),y.Ac("ngIf",0==i.activities.length)}}var Oi,Pi=((Oi=function(){function e(t,i,c,n,o,r,a,s,l,u){var d=this;_classCallCheck(this,e),this.applyFiltersModeService=t,this.controlErroresService=i,this.activityEventService=c,this.activitiesService=n,this.loadingService=o,this.courseService=r,this.routerOutlet=a,this.activeRoute=s,this.modalCtrl=l,this.tourService=u,this.moment=g,this.listCreateItems=[{title:"pages.course.task",param:"task",icon:"document-text-outline"},{title:"pages.course.task_question",param:"questions",icon:"document-text-outline"},{title:"pages.course.video_quiz",param:"video-quiz",icon:"logo-youtube"}],this.activities=[],this.semesters=[],this.otherActivityThemes=[],this.activityThemes=[],this.totalPages=0,this.this_page=1,this.block_id=1,this.semester_id=1,this.type="all",this.profile_img_route="/assets/images/profile-8.jpg",this.user_profile="/assets/images/profile-8.jpg",this.route_activity=m.h.show_activity,this.eventsActivity$={itemsRemoved$:null},this.rxjsGlobal=null,this.button_search_all={color:"warning",size:"small",mode:"search-act-course",disabled:!1,title:"buttons.search",icon:"search-outline"},this.buttons_all=[this.button_search_all],this.rxjsFilter=null,this.loadingData=!1,this.moment.locale("es"),g.locale("es"),this.course_id=s.snapshot.params.uuid,this.paramsFilters={type:"all",block_id:null,semester_id:null},this.allowFilters={start_publish_at:1,end_publish_at:1,end_created_at:1,start_created_at:1,theme:1,block:1,title:1,semester:1,type_activity:1},this.route_activity=this.route_activity.replace(":id",""+this.course_id).replace(":id",""+this.course_id),s.snapshot.queryParams&&s.snapshot.queryParams.ref&&s.snapshot.queryParams.ref&&(this.timerIdServer=s.snapshot.queryParams.ref),this.rxjsFilter=this.applyFiltersModeService.get$().subscribe((function(e){d.applyFilters(e)}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.rxjsGlobal=this.activityEventService.getItemsRemoved$().subscribe((function(t){var i=e.activities.findIndex((function(e){return e.uuid==t}));i>=0&&e.activities.splice(i,1)})),this.getItemsActivities(!0,this.paramsFilters)}},{key:"ngOnDestroy",value:function(){this.rxjsGlobal.unsubscribe(),this.rxjsFilter.unsubscribe()}},{key:"applyFilters",value:function(e){if(!e)return!1;if(!e.mode||!e.filters)return!1;switch(e.mode){case"search-act-course":this.getItemsActivities(!0,e.filters)}}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){e.getCourse(),e.intersectionObserver(),e.theLastReferencePost.changes.subscribe((function(t){t.last&&e.observer.observe(t.last.nativeElement)}))}))}},{key:"getCourse",value:function(){var e=this;this.loadingService.change(!0),this.courseService.course(this.course_id).subscribe((function(t){e.loadingService.change(!1),e.course=t.data,e.getLeftOptions()}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"intersectionObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&e.totalPages>=e.this_page&&!e.loadingData&&e.getItemsActivities(!1,e.paramsFilters)}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"getLeftOptions",value:function(){var e=this;this.loadingService.change(!0),this.courseService.getOptionsQualification(this.course_id).subscribe((function(t){e.activityThemes=t.themes,e.otherActivityThemes=t.others_themes,e.semesters=t.semesters,e.loadingService.change(!1),e.tourService.tour(e.course.is_my?"show_list_creator":"show_list_invited")}),(function(t){e.controlErroresService.control(t),e.loadingService.change(!1)}))}},{key:"getItemsActivities",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingData=!0,t&&(this.activities=[],this.this_page=1),this.paramsFilters=i,i.page=this.this_page,i.timerIdServer=this.timerIdServer,this.loadingService.change(!0),this.activitiesService.getGroup(this.course_id,i).subscribe((function(t){e.activities=e.activities.concat(t.data),e.totalPages=t.last_page,e.loadingService.change(!1),e.loadingData=!1,e.this_page++}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t),e.loadingData=!1}))}},{key:"showDocument",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:p.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{route_file:e}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Oi)(y.ac(ci.a),y.ac(u.a),y.ac(ii.a),y.ac(l.a),y.ac(f.a),y.ac(d.a),y.ac(r.fb),y.ac(a.a),y.ac(r.Db),y.ac(h.a))},Oi.\u0275cmp=y.Ub({type:Oi,selectors:[["app-course-activities"]],viewQuery:function(e,t){var i;1&e&&y.ld(oi,!0,y.o),2&e&&y.Nc(i=y.pc())&&(t.theLastReferencePost=i)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"flex","flex-center"],["size","12","size-sm","11","size-md","10","size-xl","10"],["size","12","size-md","4","size-xl","3","class","list-all-themes",4,"ngIf"],["size","12",1,"all-activities-panel"],["size","12","size-sm","12"],[3,"required","course_id","buttons"],["size","12",4,"ngIf"],["size","12"],[3,"activity","show_button_open","expanded_panel","route_activity","show_details_assignments",4,"ngFor","ngForOf"],["theLastReferencePost",""],["size","12","size-md","4","size-xl","3",1,"list-all-themes"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"p-0"],["class","border-2 border-dashed dark:border-dark-5 pos__ticket p-2",4,"ngFor","ngForOf"],["style","margin-left: 5px;",4,"ngIf"],[1,"border-2","border-dashed","dark:border-dark-5","pos__ticket","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","space-btw","p-3","cursor-pointer","transition","duration-300","ease-in-out","bg-white","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md",3,"click"],[1,"pos__ticket__item-name","truncate","mr-1"],[1,"ml-3"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","space-btw","p-3","cursor-pointer","transition","duration-300","ease-in-out","bg-white","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md",2,"border","1px solid",3,"click"],[2,"border","1px solid"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal","class","flex space-btw p-3 cursor-pointer transition duration-300 ease-in-out bg-white dark:bg-dark-3 hover:bg-gray-200 dark:hover:bg-dark-1 rounded-md",3,"click",4,"ngFor","ngForOf"],[2,"margin-left","5px"],["size","small","color","success",3,"matMenuTriggerFor",4,"ngIf"],["menu_personalize","matMenu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["size","small","color","success",3,"matMenuTriggerFor"],[1,"fas","fa-folder-plus","ic-format-global"],["name","caret-down-outline"],["mat-menu-item","",3,"routerLink"],[3,"name"],[3,"activity","show_button_open","expanded_panel","route_activity","show_details_assignments"],["style","color: var(--ion-color-primary)",4,"ngIf"],[2,"color","var(--ion-color-primary)"],["name","chatbox-outline"],["name","chatbox-ellipses-outline"]],template:function(e,t){1&e&&y.cd(0,Ii,17,7,"ion-grid",0),2&e&&y.Ac("ngIf",t.course)},directives:[n.t,r.A,r.gb,r.t,ni.a,n.s,r.m,r.o,r.q,r.n,I.e,r.k,I.d,r.C,I.b,r.Kb,a.g,S.a,r.p],pipes:[M.d],styles:[".fsz-ac-ads[_ngcontent-%COMP%]{font-size:3em;text-align:center;margin:0}.p-2[_ngcontent-%COMP%]{padding:20px}.m-0[_ngcontent-%COMP%]{margin:0}"]}),Oi),Mi=i("oNBn"),Ti=i("gcOT"),Fi=["theLastReference"];function zi(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-buttons",8),y.gc(1,"ion-button",3),y.oc("click",(function(){return y.Sc(i),y.sc().back()})),y.bc(2,"ion-icon",12),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(1),y.Ac("disabled",c.loading)}}function Di(e,t){1&e&&y.bc(0,"mat-progress-bar",13)}function qi(e,t){if(1&e){var i=y.hc();y.gc(0,"div",18),y.gc(1,"a",19),y.gc(2,"div",20),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(2).loadPosts(!0,e.uuid)})),y.gc(3,"a",21),y.gc(4,"span",22),y.ed(5),y.fc(),y.gc(6,"span",23),y.ed(7),y.fc(),y.gc(8,"span",23),y.ed(9),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=y.sc(2);y.Lb(5),y.fd(c.name),y.Lb(2),y.fd(c.user_create?c.user_create.name:"-"),y.Lb(2),y.fd(n.moment(c.date_created).format("DD/MM/YYYY"))}}function Ei(e,t){if(1&e&&(y.gc(0,"div",14),y.gc(1,"div",15),y.gc(2,"h3",16),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"h3",16),y.ed(6),y.tc(7,"translate"),y.fc(),y.gc(8,"h3",16),y.ed(9),y.tc(10,"translate"),y.fc(),y.fc(),y.cd(11,qi,10,3,"div",17),y.fc()),2&e){var i=y.sc();y.Lb(3),y.fd(y.uc(4,4,"pages.course.name_course")),y.Lb(3),y.fd(y.uc(7,6,"pages.course.teacher")),y.Lb(3),y.fd(y.uc(10,8,"pages.course.date_created")),y.Lb(2),y.Ac("ngForOf",i.courses)}}function Ri(e,t){1&e&&(y.gc(0,"ion-button",29),y.bc(1,"ion-icon",30),y.fc())}function $i(e,t){if(1&e){var i=y.hc();y.gc(0,"a",19),y.gc(1,"div",20),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).post_selected=e.uuid})),y.gc(2,"a",21),y.bc(3,"span",26),y.gc(4,"span",23),y.ed(5),y.fc(),y.gc(6,"span",27),y.ed(7),y.cd(8,Ri,2,0,"ion-button",28),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(2);y.Lb(3),y.Ac("innerHTML",c.text,y.Tc),y.Lb(2),y.fd(c.user_create?c.user_create.name:"-"),y.Lb(2),y.gd("",n.moment(c.date_created).format("DD/MM/YYYY")," "),y.Lb(1),y.Ac("ngIf",n.post_selected==c.uuid)}}function ji(e,t){1&e&&(y.gc(0,"ion-button",29),y.bc(1,"ion-icon",30),y.fc())}function Bi(e,t){if(1&e){var i=y.hc();y.gc(0,"a",19,31),y.gc(2,"div",20),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).post_selected=e.uuid})),y.gc(3,"a",21),y.bc(4,"span",26),y.gc(5,"span",23),y.ed(6),y.fc(),y.gc(7,"span",27),y.ed(8),y.cd(9,ji,2,0,"ion-button",28),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(2);y.Lb(4),y.Ac("innerHTML",c.text,y.Tc),y.Lb(2),y.fd(c.user_create?c.user_create.name:"-"),y.Lb(2),y.gd("",n.moment(c.date_created).format("DD/MM/YYYY")," "),y.Lb(1),y.Ac("ngIf",n.post_selected==c.uuid)}}function Qi(e,t){if(1&e&&(y.gc(0,"div",18),y.cd(1,$i,9,4,"a",25),y.cd(2,Bi,10,4,"a",25),y.fc()),2&e){var i=t.index,c=y.sc(2);y.Lb(1),y.Ac("ngIf",i!=c.posts.length-1),y.Lb(1),y.Ac("ngIf",i==c.posts.length-1)}}function Vi(e,t){1&e&&(y.gc(0,"p",32),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.fd(y.uc(2,1,"pages.course.no_post")))}function Hi(e,t){if(1&e&&(y.gc(0,"div",14),y.gc(1,"div",15),y.gc(2,"h3",16),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"h3",16),y.ed(6),y.tc(7,"translate"),y.fc(),y.gc(8,"h3",16),y.ed(9),y.tc(10,"translate"),y.fc(),y.fc(),y.cd(11,Qi,3,2,"div",17),y.cd(12,Vi,3,3,"p",24),y.fc()),2&e){var i=y.sc();y.Lb(3),y.fd(y.uc(4,5,"pages.course.title")),y.Lb(3),y.fd(y.uc(7,7,"pages.course.teacher")),y.Lb(3),y.fd(y.uc(10,9,"pages.course.date_created")),y.Lb(2),y.Ac("ngForOf",i.posts),y.Lb(1),y.Ac("ngIf",0==i.posts.length&&!i.loading)}}var Ni,Ui=((Ni=function(){function e(t,i,c,n){_classCallCheck(this,e),this.modalCtrl=t,this.controlErroresService=i,this.navParams=c,this.courseService=n,this.pageBook=0,this.totalPages=0,this.posts=[],this.scrollbarStyle=_.a.scrollbarStyle,this.loading=!1,this.course_id=null,this.this_page=1,this.courses=[],this.moment=g,this.mode_panel="course",this.post_selected=null,this.copy_images=!1,this.uuid=null,this.type="post",this.displayedColumns=["name","user_create","date_created"],this.clickedRows=new Set,this.uuid=this.navParams.data.course_id,this.type=this.navParams.data.type}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCourses(),this.intersectionObserver()}},{key:"ngAfterViewInit",value:function(){var e=this;this.theLastReferencePost.changes.subscribe((function(t){t.last&&e.observer.observe(t.last.nativeElement)}))}},{key:"intersectionObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&e.totalPages>=e.this_page&&e.loadPosts(!1,e.course_id)}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"saveItems",value:function(){var e=this;this.loading=!0,this.courseService.clonePost(this.post_selected,this.uuid,{copy_images:this.copy_images,type:this.type}).subscribe((function(t){e.modalCtrl.dismiss(t.data),e.loading=!1}),(function(t){e.loading=!1}))}},{key:"getCourses",value:function(){var e=this;this.loading=!0,this.courseService.courses().subscribe((function(t){e.loading=!1,e.courses=Array.isArray(t.data)?t.data:[]}),(function(t){e.loading=!1,e.controlErroresService.control(t)}))}},{key:"loadPosts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0;t&&(this.mode_panel=this.type,this.course_id=i,this.posts=[],this.this_page=1),this.loading=!0,this.courseService.getPostsByCourse(this.course_id,this.type,this.this_page).subscribe((function(t){e.posts=e.posts.concat(t.data),e.totalPages=t.last_page,e.loading=!1,e.this_page++}),(function(t){e.loading=!1,e.controlErroresService.control(t)}))}},{key:"back",value:function(){this.mode_panel="course",this.post_selected=null,this.posts=[]}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||Ni)(y.ac(r.Db),y.ac(u.a),y.ac(r.Fb),y.ac(d.a))},Ni.\u0275cmp=y.Ub({type:Ni,selectors:[["app-clone-post-course"]],viewQuery:function(e,t){var i;1&e&&y.ld(Fi,!0,y.o),2&e&&y.Nc(i=y.pc())&&(t.theLastReferencePost=i)},decls:26,vars:19,consts:[["translucent","true"],["slot","start",4,"ngIf"],["slot","end"],[3,"disabled","click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],["slot","start"],[1,"example-section"],[1,"example-margin",3,"ngModel","ngModelChange"],["size","small","strong","",1,"step-add-btn-save-f-2",3,"disabled","click"],["name","arrow-back-outline"],["mode","indeterminate"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[2,"display","grid","grid-template-columns","repeat(3, 1fr)"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","w-100","duration-300","ease-in-out","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1","w-100",3,"click"],["href","javascript:void(0)",1,"w-100",2,"display","grid","grid-template-columns","repeat(3, 1fr)"],[1,"overflow-hidden"],[1,"text-center"],["class","mt-2 ml-1",4,"ngIf"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal","class","flex items-center p-3 cursor-pointer transition w-100 duration-300 ease-in-out dark:bg-dark-3 hover:bg-gray-200 dark:hover:bg-dark-1 rounded-md",4,"ngIf"],[1,"overflow-hidden","overflow-txt",3,"innerHTML"],[1,"space-btw"],["color","success",4,"ngIf"],["color","success"],["name","checkmark-outline"],["theLastReference",""],[1,"mt-2","ml-1"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.cd(2,zi,3,1,"ion-buttons",1),y.gc(3,"ion-title"),y.ed(4),y.tc(5,"translate"),y.tc(6,"translate"),y.fc(),y.gc(7,"ion-buttons",2),y.gc(8,"ion-button",3),y.oc("click",(function(){return t.dismiss()})),y.bc(9,"ion-icon",4),y.fc(),y.fc(),y.fc(),y.cd(10,Di,1,0,"mat-progress-bar",5),y.fc(),y.gc(11,"ion-content",6),y.cd(12,Ei,12,10,"div",7),y.cd(13,Hi,13,11,"div",7),y.fc(),y.gc(14,"ion-footer",0),y.gc(15,"ion-toolbar"),y.gc(16,"ion-item"),y.gc(17,"ion-item",8),y.gc(18,"section",9),y.gc(19,"mat-checkbox",10),y.oc("ngModelChange",(function(e){return t.copy_images=e})),y.ed(20),y.tc(21,"translate"),y.fc(),y.fc(),y.fc(),y.gc(22,"ion-item",2),y.gc(23,"ion-button",11),y.oc("click",(function(){return t.saveItems()})),y.ed(24),y.tc(25,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(2),y.Ac("ngIf",t.mode_panel==t.type),y.Lb(2),y.gd(" ","course"==t.mode_panel?y.uc(5,11,"pages.course.select_class"):y.uc(6,13,"pages.course.select_post")," "),y.Lb(4),y.Ac("disabled",t.loading),y.Lb(2),y.Ac("ngIf",t.loading),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf","course"==t.mode_panel),y.Lb(1),y.Ac("ngIf",t.mode_panel==t.type),y.Lb(6),y.Ac("ngModel",t.copy_images),y.Lb(1),y.fd(y.uc(21,15,"pages.course.create_copy")),y.Lb(3),y.Ac("disabled",t.loading||null==t.post_selected),y.Lb(1),y.fd(y.uc(25,17,"buttons.reuse")))},directives:[r.B,r.zb,n.t,r.xb,r.l,r.k,r.C,r.u,w.b,r.z,r.H,xt.a,o.r,o.u,A.a,n.s],pipes:[M.d],styles:[""]}),Ni),Ji=i("6Zxx");function Yi(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-col",5),y.gc(1,"ion-button",6),y.oc("click",(function(){return y.Sc(i),y.sc(2).availablePostPanel()})),y.tc(2,"translate"),y.bc(3,"ion-icon",7),y.fc(),y.fc()}2&e&&(y.Lb(1),y.Ac("matTooltip",y.uc(2,1,"pages.course.reuse_post")))}function Wi(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-content",1),y.gc(2,"ion-grid"),y.gc(3,"ion-row"),y.gc(4,"ion-col",2),y.oc("click",(function(){return y.Sc(i),y.sc().startEditor()})),y.gc(5,"ion-label",3),y.ed(6),y.tc(7,"translate"),y.fc(),y.fc(),y.cd(8,Yi,4,3,"ion-col",4),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(6),y.fd(y.uc(7,2,"pages.course.create_post")),y.Lb(2),y.Ac("ngIf",c.repply)}}function Gi(e,t){if(1&e){var i=y.hc();y.gc(0,"div",27),y.gc(1,"input",28),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc(2).title=e})),y.tc(2,"translate"),y.fc(),y.fc()}if(2&e){var c=y.sc(2);y.Lb(1),y.Bc("placeholder",y.uc(2,3,"forms.title")),y.Ac("ngModel",c.title)("disabled",c.saving)}}function Ki(e,t){1&e&&y.bc(0,"mat-progress-bar",38)}function Xi(e,t){if(1&e&&y.bc(0,"img",39),2&e){var i=y.sc().$implicit;y.Bc("src",i.picture,y.Vc)}}function Zi(e,t){1&e&&y.bc(0,"img",40)}function ec(e,t){if(1&e){var i=y.hc();y.gc(0,"div",41),y.oc("click",(function(){y.Sc(i);var e=y.sc().index;return y.sc(3).removeImage(e)})),y.bc(1,"ion-icon",42),y.fc()}}function tc(e,t){if(1&e&&(y.gc(0,"div",33),y.cd(1,Ki,1,0,"mat-progress-bar",34),y.cd(2,Xi,1,1,"img",35),y.cd(3,Zi,1,0,"img",36),y.cd(4,ec,2,0,"div",37),y.fc()),2&e){var i=t.$implicit,c=y.sc(3);y.Ac("matTooltip",i.name),y.Lb(1),y.Ac("ngIf",i.uploading),y.Lb(1),y.Ac("ngIf",i.is_image),y.Lb(1),y.Ac("ngIf",!i.is_image),y.Lb(1),y.Ac("ngIf",!c.saving)}}function ic(e,t){if(1&e&&(y.gc(0,"div",29),y.gc(1,"h3",30),y.ed(2),y.tc(3,"translate"),y.fc(),y.gc(4,"div",31),y.cd(5,tc,5,5,"div",32),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.fd(y.uc(3,2,"pages.course.upload_image")),y.Lb(3),y.Ac("ngForOf",i.images)}}function cc(e,t){if(1&e){var i=y.hc();y.gc(0,"div",45),y.gc(1,"a",46),y.gc(2,"div",47),y.gc(3,"a",48),y.ed(4),y.fc(),y.fc(),y.gc(5,"div",49),y.oc("click",(function(){y.Sc(i);var e=t.index;return y.sc(3).deleteLink(e)})),y.bc(6,"ion-icon",42),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.Bc("href",c,y.Vc),y.Lb(1),y.fd(c)}}function nc(e,t){if(1&e&&(y.gc(0,"div",29),y.gc(1,"h3",43),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,cc,7,2,"div",44),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.fd(y.uc(3,2,"pages.course.links_externals")),y.Lb(2),y.Ac("ngForOf",i.links)}}function oc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-content"),y.cd(2,Gi,3,5,"div",8),y.gc(3,"textarea",9),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().model=e})),y.fc(),y.cd(4,ic,6,4,"div",10),y.cd(5,nc,5,4,"div",10),y.gc(6,"ion-item"),y.gc(7,"ion-item"),y.gc(8,"section",11),y.gc(9,"mat-checkbox",12),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().can_comment=e})),y.ed(10),y.tc(11,"translate"),y.fc(),y.fc(),y.fc(),y.gc(12,"ion-item"),y.gc(13,"label",13),y.gc(14,"ion-tab-button",14),y.tc(15,"translate"),y.gc(16,"input",15),y.oc("change",(function(e){return y.Sc(i),y.sc().changeFile(e)})),y.fc(),y.bc(17,"ion-icon",16),y.fc(),y.fc(),y.gc(18,"ion-tab-button",17),y.oc("click",(function(){return y.Sc(i),y.sc().typingLink()})),y.bc(19,"ion-icon",18),y.fc(),y.fc(),y.fc(),y.gc(20,"ion-item"),y.gc(21,"ion-item",19),y.gc(22,"ion-button",20),y.oc("click",(function(){return y.Sc(i),y.sc().cancelPanel()})),y.ed(23),y.tc(24,"translate"),y.fc(),y.gc(25,"ion-button",21),y.oc("click",(function(){return y.Sc(i),y.sc().savePost()})),y.ed(26),y.tc(27,"translate"),y.tc(28,"translate"),y.fc(),y.gc(29,"ion-button",22),y.bc(30,"ion-icon",23),y.fc(),y.gc(31,"mat-menu",null,24),y.gc(33,"button",25),y.oc("click",(function(){return y.Sc(i),y.sc().savePost()})),y.ed(34),y.tc(35,"translate"),y.tc(36,"translate"),y.fc(),y.gc(37,"button",25),y.oc("click",(function(){return y.Sc(i),y.sc().programingPost()})),y.ed(38),y.tc(39,"translate"),y.tc(40,"translate"),y.fc(),y.gc(41,"button",26),y.oc("click",(function(){return y.Sc(i),y.sc().savePost("draft")})),y.ed(42),y.tc(43,"translate"),y.tc(44,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.Oc(32),n=y.sc();y.Lb(2),y.Ac("ngIf",n.title_show),y.Lb(1),y.Ac("ngModel",n.model),y.Lb(1),y.Ac("ngIf",n.images.length>0),y.Lb(1),y.Ac("ngIf",n.links.length>0),y.Lb(4),y.Ac("ngModel",n.can_comment),y.Lb(1),y.fd(y.uc(11,22,"pages.course.can_comment")),y.Lb(4),y.Ac("disabled",n.saving)("matTooltip",y.uc(15,24,"pages.course.files_size_reference")),y.Lb(2),y.Ac("disabled",n.saving),y.Lb(2),y.Ac("disabled",n.saving),y.Lb(4),y.Ac("disabled",n.saving),y.Lb(1),y.gd(" ",y.uc(24,26,"buttons.cancel")," "),y.Lb(2),y.Ac("disabled",n.saving),y.Lb(1),y.gd(" ",n.saving?y.uc(27,28,"buttons.uploading"):y.uc(28,30,"buttons.publish")," "),y.Lb(3),y.Ac("disabled",n.saving)("matMenuTriggerFor",c),y.Lb(4),y.Ac("disabled",n.saving),y.Lb(1),y.gd(" ",n.saving?y.uc(35,32,"buttons.uploading"):y.uc(36,34,"buttons.publish")," "),y.Lb(3),y.Ac("disabled",n.saving),y.Lb(1),y.gd(" ",n.saving?y.uc(39,36,"buttons.uploading"):y.uc(40,38,"buttons.programing")," "),y.Lb(3),y.Ac("disabled",n.saving),y.Lb(1),y.gd(" ",n.saving?y.uc(43,40,"buttons.uploading"):y.uc(44,42,"buttons.save_eraser")," ")}}var rc,ac=((rc=function(){function e(t,i,c,n,o,r,a){_classCallCheck(this,e),this.loadingService=t,this.alertController=i,this.toastService=c,this.courseService=n,this.controlErrores=o,this.routerOutlet=r,this.modalCtrl=a,this.title_show=!1,this.repply=!0,this.model="",this.showPostPanel=!1,this.saving=!1,this.images=[],this.can_comment=!1,this.links=[],this.course_id=0,this.type="post",this.uuidCreate=new y.r,this.post_id=null,this.totalFilesUploaded=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.totalFilesUploaded=0}},{key:"startEditor",value:function(){var e=this;this.loadingService.change(!0),this.showPostPanel=!0,setTimeout((function(){var t=document.getElementById("text-model-post");CKEDITOR.replace(t),e.loadingService.change(!1)}),500)}},{key:"takePhoto",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti.c.Camera.getPhoto({quality:50,allowEditing:!1,resultType:Ti.a.DataUrl,source:Ti.b.Prompt,promptLabelCancel:"Cancelar",promptLabelPhoto:"Galer\xeda",promptLabelPicture:"Tomar una foto"});case 2:t=e.sent,this.images.push({file_b64:t.dataUrl});case 4:case"end":return e.stop()}}),e,this)})))}},{key:"changeFile",value:function(e){if(e.target.files&&e.target.files[0]){if(e.target.files[0].size>1e6*_.a.max_size_img)return void this.toastService.presentToast("Peso m\xe1ximo "+_.a.max_size_img+"MB","warning");var t=new FileReader,i={photo:e.target.files[0],name:e.target.files[0].name,size:e.target.files[0].size,picture:"",is_image:e.target.files[0].type.indexOf("image")>=0,content_type:e.target.files[0].type||"unknown"};if(t.onload=function(e){i.picture=e.target.result},e.target.files[0].size>1e6*_.a.max_size_img)return void this.toastService.presentToast("Peso m\xe1ximo "+_.a.max_size_img+"MB","warning");this.images.push(i),t.readAsDataURL(e.target.files[0])}}},{key:"removeImage",value:function(e){e<0||this.images.splice(e,1)}},{key:"deleteLink",value:function(e){e<0||this.links.splice(e,1)}},{key:"cancelPanel",value:function(){this.showPostPanel=!this.showPostPanel,this.images=[],this.links=[]}},{key:"typingLink",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"",header:"A\xf1adir enlace",inputs:[{name:"link",value:"",type:"url",placeholder:"Enlace"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"A\xf1adir",handler:function(e){console.log(e),e.link&&i.links.push(e.link)}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"savePost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.model=CKEDITOR.instances["text-model-post"].getData(),this.model?(this.saving=!0,this.totalFilesUploaded=0,this.loadingService.change(!0),this.courseService.savePost({text:this.model,type:this.type,links:this.links,status:t,can_comment:this.can_comment,publish_at:i,title:this.title},this.course_id).subscribe((function(t){t.data?(e.post_id=t.data.uuid,0==e.images.length?(e.checkUploadPost(),e.toastService.presentToast(t.message,t.status)):e.saveImagesPost(t.data.uuid)):(e.toastService.presentToast(t.message,t.status),e.saving=!1,e.loadingService.change(!1))}),(function(t){e.saving=!1,e.loadingService.change(!1),e.controlErrores.control(t)}))):this.toastService.presentToast("Agregue su comentario","warning")}},{key:"saveImagesPost",value:function(e){var t,i=this,c=_createForOfIteratorHelper(this.images);try{var n=function(){var c=t.value;c.uploading=!0,i.courseService.saveImagePost(Object(m.c)({file:c.photo,content_type:c.content_type,name:c.name,size:c.size}),e).subscribe((function(e){c.uploading=!1,i.totalFilesUploaded++,i.checkUploadPost()}),(function(e){c.uploading=!1,i.totalFilesUploaded++,i.controlErrores.control(e),i.checkUploadPost()}))};for(c.s();!(t=c.n()).done;)n()}catch(o){c.e(o)}finally{c.f()}}},{key:"checkUploadPost",value:function(){this.totalFilesUploaded>=this.images.length&&(this.saving=!1,this.loadingService.change(!1),this.cancelPanel(),this.uuidCreate.emit(this.post_id),this.post_id=null,this.model="",$("#text-model-post").val(""))}},{key:"availablePostPanel",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:Ui,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{course_id:this.course_id,type:this.type}});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.onWillDismiss();case 7:i=e.sent,(c=i.data)&&c.uuid&&this.uuidCreate.emit(c.uuid);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"programingPost",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.model=CKEDITOR.instances["text-model-post"].getData(),this.model){e.next=2;break}return e.abrupt("return",void this.toastService.presentToast("Agregue su comentario","warning"));case 2:return e.next=4,this.modalCtrl.create({component:Ji.a,cssClass:"",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{}});case 4:return t=e.sent,e.next=7,t.present();case 7:return e.next=9,t.onWillDismiss();case 9:i=e.sent,(c=i.data)&&this.savePost(null,c.date);case 12:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||rc)(y.ac(f.a),y.ac(r.b),y.ac(b.a),y.ac(d.a),y.ac(u.a),y.ac(r.fb),y.ac(r.Db))},rc.\u0275cmp=y.Ub({type:rc,selectors:[["add-post"]],inputs:{title_show:"title_show",course_id:"course_id",type:"type"},outputs:{uuidCreate:"uuidCreate"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"padding","0"],["size","10",1,"container-add-post-one-method","hover-text-primary","flex","flex-center-y",3,"click"],[1,""],["size","2",4,"ngIf"],["size","2"],[1,"container-add-post-two-method",3,"matTooltip","click"],["name","clipboard-outline"],["class","intro-x mt-8","style","display: flex;margin-bottom: 1em;",4,"ngIf"],["rows","5","id","text-model-post",3,"ngModel","ngModelChange"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],[1,"example-section"],[1,"example-margin",3,"ngModel","ngModelChange"],["for","file-add-rs-post"],[3,"disabled","matTooltip"],["type","file","id","file-add-rs-post",1,"d-none",3,"disabled","change"],["name","images-outline"],[3,"disabled","click"],["name","link-outline"],["slot","end"],["color","light",3,"disabled","click"],["color","success",3,"disabled","click"],["color","success",3,"disabled","matMenuTriggerFor"],["name","caret-down-outline"],["menu_other_options_save","matMenu"],["mat-menu-item","","color","success",3,"disabled","click"],["mat-menu-item","","color","warning",3,"disabled","click"],[1,"intro-x","mt-8",2,"display","flex","margin-bottom","1em"],["type","text","name","title",1,"pin-input","intro-x","login__input","form-control","py-3","px-4","border-gray-300","block",3,"ngModel","disabled","placeholder","ngModelChange"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[2,"margin","0","padding-left","20px"],[1,"flex","flex-wrap","px-4"],["class","w-24 h-24 relative image-fit mb-5 mr-5 cursor-pointer zoom-in","tooltip","Call","navTooltip","",3,"matTooltip",4,"ngFor","ngForOf"],["tooltip","Call","navTooltip","",1,"w-24","h-24","relative","image-fit","mb-5","mr-5","cursor-pointer","zoom-in",3,"matTooltip"],["mode","indeterminate",4,"ngIf"],["class","rounded-md","alt","Imagen",3,"src",4,"ngIf"],["class","rounded-md","alt","File","src","/assets/img/document-file-icon.png",4,"ngIf"],["title","Remove this image?","class"," w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-theme-6 right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["mode","indeterminate"],["alt","Imagen",1,"rounded-md",3,"src"],["alt","File","src","/assets/img/document-file-icon.png",1,"rounded-md"],["title","Remove this image?",1,"w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-theme-6","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","trash-outline"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","bg-white","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["target","_blank",3,"href"],[1,"ml-auto","font-medium",3,"click"]],template:function(e,t){1&e&&(y.cd(0,Wi,9,4,"ion-card",0),y.cd(1,oc,45,44,"ion-card",0)),2&e&&(y.Ac("ngIf",!t.showPostPanel),y.Lb(1),y.Ac("ngIf",t.showPostPanel))},directives:[n.t,r.m,r.n,r.A,r.gb,r.t,r.N,r.k,P.a,r.C,o.c,o.r,o.u,r.H,xt.a,r.sb,I.d,I.e,I.b,n.s,A.a],pipes:[M.d],styles:[".hover-text-primary[_ngcontent-%COMP%]:hover{color:var(--ion-color-primary)}.hover-text-primary[_ngcontent-%COMP%]{cursor:pointer}"]}),rc),sc=["theLastReferencePost"];function lc(e,t){if(1&e){var i=y.hc();y.gc(0,"add-post",7),y.oc("uuidCreate",(function(e){return y.Sc(i),y.sc(2).findOneAndPusPost(e)})),y.fc()}if(2&e){var c=y.sc(2);y.Ac("title_show",!0)("course_id",c.course_id)("repply",!1)("type","foro")}}function uc(e,t){1&e&&(y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title",8),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-card-subtitle"),y.bc(6,"ion-icon",9),y.ed(7),y.tc(8,"translate"),y.fc(),y.gc(9,"ion-card-subtitle"),y.bc(10,"ion-icon",10),y.ed(11),y.tc(12,"translate"),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.gd("",y.uc(4,3,"pages.course.post_welcome")," "),y.Lb(4),y.gd(" ",y.uc(8,5,"pages.course.create_and_programing")," "),y.Lb(4),y.gd(" ",y.uc(12,7,"pages.course.response_post")," "))}function dc(e,t){if(1&e&&(y.gc(0,"button",31),y.rc(),y.gc(1,"svg",32),y.bc(2,"path",33),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(17);y.Ac("matMenuTriggerFor",i)}}function fc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-item",null,18),y.gc(2,"div",19),y.bc(3,"img",20),y.gc(4,"div",21),y.gc(5,"a",22),y.ed(6,"Photography"),y.fc(),y.gc(7,"span",23),y.ed(8,"\u2022"),y.fc(),y.ed(9," 14 seconds ago "),y.fc(),y.fc(),y.gc(10,"div",24),y.gc(11,"a",25),y.ed(12),y.fc(),y.gc(13,"div",21),y.ed(14),y.fc(),y.fc(),y.cd(15,dc,3,1,"button",26),y.gc(16,"mat-menu",null,27),y.gc(18,"button",28),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).editPost(e)})),y.bc(19,"ion-icon",29),y.ed(20),y.tc(21,"translate"),y.fc(),y.gc(22,"button",28),y.oc("click",(function(){y.Sc(i);var e=y.sc(),t=e.$implicit,c=e.index;return y.sc(2).removePost(t,c)})),y.bc(23,"ion-icon",30),y.ed(24),y.tc(25,"translate"),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(2);y.Lb(3),y.Ac("src",null!=c.user_create&&null!=c.user_create.information?c.user_create.information.image_url:n.profile_img_route,y.Vc),y.Lb(9),y.gd("",null!=c.user_create?c.user_create.name:"-"," "),y.Lb(2),y.gd(" ",n.moment(c.date_created).fromNow(),""),y.Lb(1),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(21,6,"buttons.edit")," "),y.Lb(4),y.gd(" ",y.uc(25,8,"buttons.delete")," ")}}function gc(e,t){if(1&e&&(y.gc(0,"button",31),y.rc(),y.gc(1,"svg",32),y.bc(2,"path",33),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(10);y.Ac("matMenuTriggerFor",i)}}function mc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-item"),y.gc(1,"div",19),y.bc(2,"img",20),y.fc(),y.gc(3,"div",24),y.gc(4,"a",25),y.ed(5),y.fc(),y.gc(6,"div",21),y.ed(7),y.fc(),y.fc(),y.cd(8,gc,3,1,"button",26),y.gc(9,"mat-menu",null,27),y.gc(11,"button",28),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).editPost(e)})),y.bc(12,"ion-icon",29),y.ed(13),y.tc(14,"translate"),y.fc(),y.gc(15,"button",28),y.oc("click",(function(){y.Sc(i);var e=y.sc(),t=e.$implicit,c=e.index;return y.sc(2).removePost(t,c)})),y.bc(16,"ion-icon",30),y.ed(17),y.tc(18,"translate"),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(2);y.Lb(2),y.Ac("src",null!=c.user_create&&null!=c.user_create.information?c.user_create.information.image_url:n.profile_img_route,y.Vc),y.Lb(3),y.gd("",null!=c.user_create?c.user_create.name:"-"," "),y.Lb(2),y.gd(" ",n.moment(c.date_created).fromNow(),""),y.Lb(1),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(14,6,"buttons.edit")," "),y.Lb(4),y.gd(" ",y.uc(18,8,"buttons.delete")," ")}}function pc(e,t){1&e&&(y.gc(0,"ion-button"),y.bc(1,"ion-icon",34),y.fc())}function hc(e,t){if(1&e&&(y.gc(0,"div",38),y.gc(1,"a",39),y.gc(2,"div",40),y.gc(3,"a",41),y.ed(4),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit;y.Lb(3),y.Bc("href",i.text,y.Vc),y.Lb(1),y.fd(i.text)}}function vc(e,t){if(1&e&&(y.gc(0,"div",35),y.gc(1,"h3",36),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,hc,5,2,"div",37),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(2),y.fd(y.uc(3,2,"pages.course.links_externals")),y.Lb(2),y.Ac("ngForOf",i.links)}}function bc(e,t){if(1&e&&y.bc(0,"img",48),2&e){var i=y.sc().$implicit;y.Bc("src",i.file_url,y.Vc)}}function _c(e,t){1&e&&y.bc(0,"img",49)}function yc(e,t){if(1&e&&(y.gc(0,"a",45),y.cd(1,bc,1,1,"img",46),y.cd(2,_c,1,0,"img",47),y.fc()),2&e){var i=t.$implicit;y.Bc("href",i.file_url,y.Vc),y.Ac("matTooltip",i.name),y.Lb(1),y.Ac("ngIf",i.is_image),y.Lb(1),y.Ac("ngIf",!i.is_image)}}function kc(e,t){if(1&e&&(y.gc(0,"div",35),y.gc(1,"h3",42),y.ed(2),y.tc(3,"translate"),y.fc(),y.gc(4,"div",43),y.cd(5,yc,3,4,"a",44),y.fc(),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(2),y.fd(y.uc(3,2,"pages.course.files")),y.Lb(3),y.Ac("ngForOf",i.images)}}function xc(e,t){if(1&e){var i=y.hc();y.gc(0,"div",50),y.gc(1,"div",51),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).loadComments(e)})),y.ed(2),y.tc(3,"translate"),y.gc(4,"span",52),y.ed(5),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit;y.Lb(2),y.gd(" ",y.uc(3,2,"pages.course.comments"),": "),y.Lb(3),y.fd(c.total_comments||0)}}function Lc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",59),y.oc("click",(function(){y.Sc(i);var e=y.sc(2).$implicit;return y.sc(2).submitComment(e)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function wc(e,t){1&e&&y.bc(0,"ion-icon",60)}function Ac(e,t){if(1&e){var i=y.hc();y.gc(0,"div",53),y.gc(1,"div",54),y.bc(2,"img",20),y.fc(),y.gc(3,"div",55),y.gc(4,"input",56),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().$implicit.comment_input=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).submitComment(e)})),y.tc(5,"translate"),y.fc(),y.cd(6,Lc,2,3,"ion-icon",57),y.cd(7,wc,1,0,"ion-icon",58),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(2);y.Lb(2),y.Bc("src",n.user_profile,y.Vc),y.Lb(2),y.Bc("placeholder",y.uc(5,6,"pages.course.please_comment")),y.Ac("disabled",c.comment_upload)("ngModel",c.comment_input),y.Lb(2),y.Ac("ngIf",!c.comment_upload),y.Lb(1),y.Ac("ngIf",c.comment_upload)}}function Sc(e,t){if(1&e&&(y.gc(0,"ion-card",11),y.cd(1,fc,26,10,"ion-item",2),y.cd(2,mc,19,10,"ion-item",2),y.gc(3,"ion-card-content"),y.gc(4,"h4",12),y.gc(5,"a",13),y.ed(6),y.fc(),y.cd(7,pc,2,0,"ion-button",2),y.fc(),y.bc(8,"p",14),y.cd(9,vc,5,4,"div",15),y.cd(10,kc,6,4,"div",15),y.gc(11,"ion-item"),y.cd(12,xc,6,4,"div",16),y.fc(),y.cd(13,Ac,8,8,"div",17),y.fc(),y.fc()),2&e){var i=t.$implicit,c=t.index,n=y.sc(2);y.Lb(1),y.Ac("ngIf",n.posts.length==c+1),y.Lb(1),y.Ac("ngIf",n.posts.length!=c+1),y.Lb(2),y.Ac("routerLink",n.routeParent+i.uuid),y.Lb(2),y.fd(i.title),y.Lb(1),y.Ac("ngIf",null==i.title||""==i.title),y.Lb(1),y.Ac("innerHTML",i.text,y.Tc),y.Lb(1),y.Ac("ngIf",i.links&&i.links.length>0),y.Lb(1),y.Ac("ngIf",i.images&&i.images.length>0),y.Lb(2),y.Ac("ngIf","1"==i.can_comment),y.Lb(1),y.Ac("ngIf","1"==i.can_comment)}}function Cc(e,t){if(1&e&&(y.gc(0,"ion-grid"),y.gc(1,"ion-row"),y.gc(2,"ion-col",3),y.cd(3,lc,1,4,"add-post",4),y.gc(4,"div",5),y.cd(5,uc,13,9,"ion-card",2),y.cd(6,Sc,14,10,"ion-card",6),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(3),y.Ac("ngIf","all"==i.course.post_by||"me"==i.course.post_by&&i.course.is_my),y.Lb(2),y.Ac("ngIf",0==i.posts.length),y.Lb(1),y.Ac("ngForOf",i.posts)}}var Ic,Oc=((Ic=function(){function e(t,i,c,n,o,r,a,s,l,u){_classCallCheck(this,e),this.courseService=t,this.activeRoute=i,this.controlErroresService=c,this.toastService=n,this.loadingService=o,this.tourService=r,this.userData=a,this.routerOutlet=s,this.alertCtrl=l,this.modalCtrl=u,this.type_page="foro",this.totalPages=0,this.posts=[],this.this_page=1,this.profile_img_route="/assets/images/profile-8.jpg",this.user_profile="/assets/images/profile-8.jpg",this.moment=g,this.routeParent=m.h.show_course,this.course=null,this.loading=!1,this.course_id=0,this.last_works=[],this.course_id=i.snapshot.params.uuid,this.routeParent=this.routeParent.replace(":id",""+this.course_id).replace(":id",""+this.course_id).replace(":type",this.type_page),i.snapshot.queryParams&&i.snapshot.queryParams.ref&&i.snapshot.queryParams.ref&&(this.timerIdServer=i.snapshot.queryParams.ref),this.moment.locale("es"),g.locale("es")}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getCourse(),this.intersectionObserver(),e.next=3,this.userData.getUser();case 3:(t=e.sent)&&t.information&&(this.user_profile=t.information.image_url);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getCourse",value:function(){var e=this;this.loading=!0,this.courseService.course(this.course_id).subscribe((function(t){e.loading=!1,e.course=t.data,e.loadPosts(),("all"==e.course.post_by||"me"==e.course.post_by&&e.course.is_my)&&setTimeout((function(){}),500)}),(function(t){e.loading=!1,e.controlErroresService.control(t)}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.theLastReferencePost.changes.subscribe((function(t){t.last&&e.observer.observe(t.last.nativeElement)}))}},{key:"intersectionObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&e.totalPages>=e.this_page&&e.loadPosts()}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"loadPosts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.posts=[],this.this_page=1),this.loadingService.change(!0),this.courseService.getPostsByCourse(this.course_id,this.type_page,this.this_page,this.timerIdServer).subscribe((function(t){e.posts=e.posts.concat(t.data),e.totalPages=t.last_page,e.loadingService.change(!1),e.this_page++}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"findOneAndPusPost",value:function(e){var t=this;this.courseService.getOnePost(e).subscribe((function(e){e.data&&t.posts.unshift(e.data)}),(function(e){}))}},{key:"is_array",value:function(e){return Array.isArray(e)}},{key:"removePost",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c,n=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertCtrl.create({header:"Eliminar",message:"\xbfDesea eliminar este post?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){n.loadingService.change(!0),n.courseService.deletePost(e.uuid).subscribe((function(e){n.loadingService.change(!1),n.posts.splice(t,1),n.toastService.presentToast(e.message,e.status)}),(function(e){n.loadingService.change(!1),n.controlErroresService.control(e)}))}}]});case 2:return c=i.sent,i.next=5,c.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"editPost",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:Dt,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{post_id:e.uuid,title_show:!0}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:c=t.sent,n=c.data,console.log(n),n&&(e.text=n.text,e.date_created=n.date_created,e.can_comment=n.can_comment,e.images=n.images,e.status=n.status,e.total_comments=n.total_comments,e.links=n.links,e.type=n.type,e.title=n.title);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"submitComment",value:function(e){var t=this;e.comment_input?(e.comment_upload=!0,this.courseService.commentPost(e.uuid,{text:e.comment_input}).subscribe((function(t){e.comment_input="",isNaN(e.total_comments)?e.total_comments=1:e.total_comments++,e.comment_upload=!1,Array.isArray(e.comments)&&e.comments.unshift(t.data)}),(function(i){e.comment_upload=!1,t.controlErroresService.control(i)}))):this.toastService.presentToast("\xa1Agregue un comentario para poder publicarlo!","warning")}}]),e}()).\u0275fac=function(e){return new(e||Ic)(y.ac(d.a),y.ac(a.a),y.ac(u.a),y.ac(b.a),y.ac(f.a),y.ac(h.a),y.ac(v.a),y.ac(r.fb),y.ac(r.b),y.ac(r.Db))},Ic.\u0275cmp=y.Ub({type:Ic,selectors:[["app-course-foro"]],viewQuery:function(e,t){var i;1&e&&y.ld(sc,!0,y.o),2&e&&y.Nc(i=y.pc())&&(t.theLastReferencePost=i)},decls:4,vars:1,consts:[[1,"flex","flex-center"],["size","12","size-sm","11","size-md","10","size-xl","9"],[4,"ngIf"],["size","12","size-sm","12","size-md","12","size-xl","12",1,"container-add-post"],[3,"title_show","course_id","repply","type","uuidCreate",4,"ngIf"],[1,"all-postss","container-add-post-show-posts"],["class","mt-2",4,"ngFor","ngForOf"],[3,"title_show","course_id","repply","type","uuidCreate"],[2,"color","var(--ion-color-primary)"],["name","chatbox-outline"],["name","chatbox-ellipses-outline"],[1,"mt-2"],[1,"bold",3,"routerLink"],["href","",1,"font-medium","text-xl","mt-3"],[3,"innerHTML"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],["class","w-full flex text-gray-600 text-xs sm:text-sm mt-1",4,"ngIf"],["class","w-full flex items-center mt-3",4,"ngIf"],["theLastReferencePost",""],[1,"w-10","h-10","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"flex","text-gray-600","truncate","text-xs","mt-0.5"],["href","",1,"text-theme-1","dark:text-theme-10","inline-block","truncate"],[1,"mx-1"],[1,"ml-3","mr-auto"],["href","javascript:void(0)",1,"font-medium"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["menuPost","matMenu"],["mat-menu-item","",3,"click"],["name","create-outline"],["name","trash-outline"],["mat-button","",3,"matMenuTriggerFor"],["focusable","false","width","24","height","24","viewBox","0 0 24 24",1,"NMm5M"],["d","M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],["name","eye-outline"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["target","_blank",3,"href"],[2,"margin","0","padding-left","20px"],[1,"flex","flex-wrap","px-4"],["target","_blank","class","w-24 h-24 relative image-fit mb-5 mr-5 cursor-pointer zoom-in","tooltip","Call","navTooltip","",3,"href","matTooltip",4,"ngFor","ngForOf"],["target","_blank","tooltip","Call","navTooltip","",1,"w-24","h-24","relative","image-fit","mb-5","mr-5","cursor-pointer","zoom-in",3,"href","matTooltip"],["class","rounded-md","alt","Imagen",3,"src",4,"ngIf"],["class","rounded-md","alt","File","src","/assets/img/document-file-icon.png",4,"ngIf"],["alt","Imagen",1,"rounded-md",3,"src"],["alt","File","src","/assets/img/document-file-icon.png",1,"rounded-md"],[1,"w-full","flex","text-gray-600","text-xs","sm:text-sm","mt-1"],[1,"mr-2","c-pointer",3,"click"],[1,"font-medium"],[1,"w-full","flex","items-center","mt-3"],[1,"w-8","h-8","flex-none","image-fit","mr-3"],[1,"flex-1","relative","text-gray-700"],["type","text",1,"form-control","form-control-rounded","border-transparent","bg-gray-200","pr-10","placeholder-theme-13",3,"disabled","ngModel","placeholder","ngModelChange","keyup.enter"],["name","send-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",3,"matTooltip","click",4,"ngIf"],["name","cloud-upload-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",4,"ngIf"],["name","send-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0",3,"matTooltip","click"],["name","cloud-upload-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0"]],template:function(e,t){1&e&&(y.gc(0,"ion-grid"),y.gc(1,"ion-row",0),y.gc(2,"ion-col",1),y.cd(3,Cc,7,3,"ion-grid",2),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.Ac("ngIf",t.course))},directives:[r.A,r.gb,r.t,n.t,n.s,ac,r.m,r.o,r.q,r.p,r.C,r.n,r.Kb,a.g,r.H,I.e,I.b,O.b,I.d,r.k,P.a,o.c,o.r,o.u],pipes:[M.d],styles:[""]}),Ic),Pc=i("uD9u");function Mc(e,t){1&e&&y.bc(0,"mat-progress-bar",9)}function Tc(e,t){if(1&e&&(y.gc(0,"ion-segment-button",10),y.ed(1),y.fc()),2&e){var i=t.$implicit;y.Ac("value",i.uuid),y.Lb(1),y.gd(" ",i.name," ")}}function Fc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-col",11),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc().themeSelected=e.uuid})),y.gc(1,"a",12),y.gc(2,"div",13),y.bc(3,"img",14),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=y.sc();y.Lb(1),y.Ac("ngClass",n.themeSelected==c.uuid?"theme-selected":""),y.Lb(2),y.Bc("src",c.theme_url,y.Vc)}}var zc,Dc=((zc=function(){function e(t,i,c,n){_classCallCheck(this,e),this.courseService=t,this.navParams=i,this.modalCtrl=c,this.controlErroresService=n,this.loading=!1,this.menus=[],this.themes=[],this.segment=null,this.course_id=null,this.themeSelected=null,this.scrollbarStyle=_.a.scrollbarStyle,this.course_id=this.navParams.data.course_id}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadTypes()}},{key:"loadTypes",value:function(){var e=this;this.loading=!0,this.courseService.getTypesTheme().subscribe((function(t){e.loading=!1,e.menus=t.data,e.menus.length>0&&(e.segment=e.menus[0].uuid)}),(function(t){e.loading=!1,e.modalCtrl.dismiss(),e.controlErroresService.control(t)}))}},{key:"changeThemes",value:function(){var e=this;this.themes=[],this.loading=!0,this.courseService.getThemeByType(this.segment).subscribe((function(t){e.loading=!1,e.themes=t.data}),(function(t){e.loading=!1,e.controlErroresService.control(t)}))}},{key:"dismiss",value:function(e){this.modalCtrl.dismiss()}},{key:"updateThemeCourse",value:function(){var e=this,t=this.themes.find((function(t){return t.uuid==e.themeSelected}));null!=t&&(this.loading=!0,this.courseService.update({theme:t.route,default_null:1},this.course_id).subscribe((function(i){e.loading=!1,e.modalCtrl.dismiss({theme:t.route,theme_url:t.theme_url})}),(function(t){e.loading=!1,e.controlErroresService.control(t)})))}}]),e}()).\u0275fac=function(e){return new(e||zc)(y.ac(d.a),y.ac(r.Fb),y.ac(r.Db),y.ac(u.a))},zc.\u0275cmp=y.Ub({type:zc,selectors:[["app-select-themes"]],decls:23,vars:15,consts:[["translucent","true"],["slot","start"],["mode","indeterminate",4,"ngIf"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["fullscreen","true",3,"scrollbar"],["size","12","size-sm","12","size-md","6","size-xl","4",3,"click",4,"ngFor","ngForOf"],["size","small",3,"disabled","click"],["size","small","color","light",3,"click"],["mode","indeterminate"],[3,"value"],["size","12","size-sm","12","size-md","6","size-xl","4",3,"click"],["href","javascript:;",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md",3,"ngClass"],[1,"pos__ticket__item-name","truncate","mr-1"],[3,"src"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-buttons",1),y.bc(3,"ion-menu-button"),y.fc(),y.gc(4,"ion-title"),y.ed(5),y.tc(6,"translate"),y.fc(),y.fc(),y.cd(7,Mc,1,0,"mat-progress-bar",2),y.gc(8,"ion-toolbar"),y.gc(9,"ion-segment",3),y.oc("ngModelChange",(function(e){return t.segment=e}))("ionChange",(function(){return t.changeThemes()})),y.cd(10,Tc,2,2,"ion-segment-button",4),y.fc(),y.fc(),y.fc(),y.gc(11,"ion-content",5),y.gc(12,"ion-grid"),y.gc(13,"ion-row"),y.cd(14,Fc,4,2,"ion-col",6),y.fc(),y.fc(),y.fc(),y.gc(15,"ion-footer",0),y.gc(16,"ion-toolbar"),y.gc(17,"ion-button",7),y.oc("click",(function(){return t.updateThemeCourse()})),y.ed(18),y.tc(19,"translate"),y.fc(),y.gc(20,"ion-button",8),y.oc("click",(function(){return t.dismiss()})),y.ed(21),y.tc(22,"translate"),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(5),y.fd(y.uc(6,9,"pages.course.gallery")),y.Lb(2),y.Ac("ngIf",t.loading),y.Lb(2),y.Ac("ngModel",t.segment),y.Lb(1),y.Ac("ngForOf",t.menus),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(3),y.Ac("ngForOf",t.themes),y.Lb(3),y.Ac("disabled",null==t.themeSelected),y.Lb(1),y.fd(y.uc(19,11,"buttons.save")),y.Lb(3),y.fd(y.uc(22,13,"buttons.cancel")))},directives:[r.B,r.zb,r.l,r.R,r.xb,n.t,r.ib,r.Lb,o.r,o.u,n.s,r.u,w.b,r.A,r.gb,r.z,r.k,A.a,r.jb,r.t,n.q],pipes:[M.d],styles:[".item-img-theme[_ngcontent-%COMP%]{min-width:300px;max-width:300px;max-height:130px;min-height:130px}.item-img-theme[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;overflow:hidden}.fl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.theme-selected[_ngcontent-%COMP%]{background-color:#a1d0ff}"]}),zc),qc=i("pyb/"),Ec=["theLastReferencePost"];function Rc(e,t){if(1&e&&(y.gc(0,"ion-button",20),y.ed(1),y.tc(2,"translate"),y.bc(3,"ion-icon",21),y.fc()),2&e){y.sc();var i=y.Oc(8);y.Ac("matMenuTriggerFor",i),y.Lb(1),y.gd("",y.uc(2,2,"buttons.personalize")," ")}}function $c(e,t){if(1&e&&(y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-subtitle",22),y.gc(3,"a",23),y.bc(4,"ion-icon",24),y.gc(5,"span",25),y.ed(6),y.tc(7,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(3),y.Bc("href",i.course.reference_url,y.Vc),y.Lb(3),y.fd(y.uc(7,2,"pages.course.virtual_class"))}}function jc(e,t){if(1&e&&(y.gc(0,"button",32),y.rc(),y.gc(1,"svg",33),y.bc(2,"path",34),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(8);y.Ac("matMenuTriggerFor",i)}}function Bc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card-title"),y.gc(1,"ion-button",35),y.oc("click",(function(){return y.Sc(i),y.sc(3).updateCode({code:1})})),y.ed(2),y.tc(3,"translate"),y.fc(),y.fc()}2&e&&(y.Lb(2),y.fd(y.uc(3,1,"buttons.generate_code")))}function Qc(e,t){if(1&e&&(y.gc(0,"ion-card-title"),y.gc(1,"h2"),y.gc(2,"strong"),y.ed(3),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc(3);y.Lb(3),y.fd(i.course?i.course.code:"-")}}function Vc(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-subtitle",22),y.gc(3,"ion-label"),y.ed(4),y.tc(5,"translate"),y.fc(),y.cd(6,jc,3,1,"button",26),y.gc(7,"mat-menu",null,27),y.gc(9,"button",8),y.oc("click",(function(){y.Sc(i);var e=y.sc(2);return e.copyLink(e.course.code)})),y.bc(10,"ion-icon",28),y.ed(11),y.tc(12,"translate"),y.fc(),y.gc(13,"button",8),y.oc("click",(function(){y.Sc(i);var e=y.sc(2);return e.copyCode(e.course.code)})),y.bc(14,"ion-icon",29),y.ed(15),y.tc(16,"translate"),y.fc(),y.gc(17,"button",8),y.oc("click",(function(){return y.Sc(i),y.sc(2).updateCode({code:1})})),y.bc(18,"ion-icon",30),y.ed(19),y.tc(20,"translate"),y.fc(),y.gc(21,"button",8),y.oc("click",(function(){return y.Sc(i),y.sc(2).updateCode({destroy_code:1})})),y.bc(22,"ion-icon",31),y.ed(23),y.tc(24,"translate"),y.fc(),y.fc(),y.fc(),y.cd(25,Bc,4,3,"ion-card-title",2),y.cd(26,Qc,4,1,"ion-card-title",2),y.fc(),y.bc(27,"ion-card-content"),y.fc()}if(2&e){var c=y.sc(2);y.Lb(4),y.gd(" ",y.uc(5,8,"pages.course.class_code")," "),y.Lb(2),y.Ac("ngIf",null!=c.course.code),y.Lb(5),y.gd(" ",y.uc(12,10,"pages.course.copy_link_class")," "),y.Lb(4),y.gd(" ",y.uc(16,12,"pages.course.copy_code_class")," "),y.Lb(4),y.gd(" ",y.uc(20,14,"pages.course.change_code_class")," "),y.Lb(4),y.gd("",y.uc(24,16,"pages.course.desactive")," "),y.Lb(2),y.Ac("ngIf",null==c.course.code),y.Lb(1),y.Ac("ngIf",null!=c.course.code)}}function Hc(e,t){1&e&&y.bc(0,"ion-card-content")}function Nc(e,t){1&e&&(y.gc(0,"ion-card-content"),y.gc(1,"p"),y.ed(2),y.tc(3,"translate"),y.fc(),y.fc()),2&e&&(y.Lb(2),y.fd(y.uc(3,1,"pages.course.no_last_works")))}function Uc(e,t){if(1&e){var i=y.hc();y.gc(0,"add-post",36),y.oc("uuidCreate",(function(e){return y.Sc(i),y.sc(2).findOneAndPusPost(e)})),y.fc()}if(2&e){var c=y.sc(2);y.Ac("course_id",c.course_id)}}function Jc(e,t){1&e&&(y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title",37),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-card-subtitle"),y.bc(6,"ion-icon",38),y.ed(7),y.tc(8,"translate"),y.fc(),y.gc(9,"ion-card-subtitle"),y.bc(10,"ion-icon",39),y.ed(11),y.tc(12,"translate"),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.gd("",y.uc(4,3,"pages.course.post_welcome")," "),y.Lb(4),y.gd(" ",y.uc(8,5,"pages.course.create_and_programing")," "),y.Lb(4),y.gd(" ",y.uc(12,7,"pages.course.response_post")," "))}function Yc(e,t){1&e&&y.bc(0,"span",null,55)}function Wc(e,t){if(1&e&&(y.gc(0,"div",56),y.gc(1,"span",57),y.ed(2),y.tc(3,"translate"),y.fc(),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(2),y.gd(" ",y.uc(3,1,"statuses."+i.status)," ")}}function Gc(e,t){if(1&e&&(y.gc(0,"button",32),y.rc(),y.gc(1,"svg",33),y.bc(2,"path",34),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(13);y.Ac("matMenuTriggerFor",i)}}function Kc(e,t){if(1&e&&(y.gc(0,"div",61),y.gc(1,"a",62),y.gc(2,"div",63),y.gc(3,"a",64),y.ed(4),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit;y.Lb(3),y.Bc("href",i.text,y.Vc),y.Lb(1),y.fd(i.text)}}function Xc(e,t){if(1&e&&(y.gc(0,"div",58),y.gc(1,"h3",59),y.ed(2),y.tc(3,"translate"),y.fc(),y.cd(4,Kc,5,2,"div",60),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(2),y.fd(y.uc(3,2,"pages.course.links_externals")),y.Lb(2),y.Ac("ngForOf",i.links)}}function Zc(e,t){if(1&e&&y.bc(0,"img",71),2&e){var i=y.sc().$implicit;y.Bc("src",i.file_url,y.Vc)}}function en(e,t){1&e&&y.bc(0,"img",72)}function tn(e,t){if(1&e&&(y.gc(0,"a",68),y.cd(1,Zc,1,1,"img",69),y.cd(2,en,1,0,"img",70),y.fc()),2&e){var i=t.$implicit;y.Bc("href",i.file_url,y.Vc),y.Ac("matTooltip",i.name),y.Lb(1),y.Ac("ngIf",i.is_image),y.Lb(1),y.Ac("ngIf",!i.is_image)}}function cn(e,t){if(1&e&&(y.gc(0,"div",58),y.gc(1,"h3",65),y.ed(2),y.tc(3,"translate"),y.fc(),y.gc(4,"div",66),y.cd(5,tn,3,4,"a",67),y.fc(),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(2),y.fd(y.uc(3,2,"pages.course.files")),y.Lb(3),y.Ac("ngForOf",i.images)}}function nn(e,t){if(1&e){var i=y.hc();y.gc(0,"div",73),y.gc(1,"div",74),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).loadComments(e)})),y.ed(2),y.tc(3,"translate"),y.gc(4,"span",75),y.ed(5),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit;y.Lb(2),y.gd(" ",y.uc(3,2,"pages.course.comments"),": "),y.Lb(3),y.fd(c.total_comments||0)}}function on(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",82),y.oc("click",(function(){y.Sc(i);var e=y.sc(2).$implicit;return y.sc(2).submitComment(e)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function rn(e,t){1&e&&y.bc(0,"ion-icon",83)}function an(e,t){if(1&e){var i=y.hc();y.gc(0,"div",76),y.gc(1,"div",77),y.bc(2,"img",43),y.fc(),y.gc(3,"div",78),y.gc(4,"input",79),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().$implicit.comment_input=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(2).submitComment(e)})),y.tc(5,"translate"),y.fc(),y.cd(6,on,2,3,"ion-icon",80),y.cd(7,rn,1,0,"ion-icon",81),y.fc(),y.fc()}if(2&e){var c=y.sc().$implicit,n=y.sc(2);y.Lb(2),y.Bc("src",n.user_profile,y.Vc),y.Lb(2),y.Bc("placeholder",y.uc(5,6,"pages.course.please_comment")),y.Ac("disabled",c.comment_upload)("ngModel",c.comment_input),y.Lb(2),y.Ac("ngIf",!c.comment_upload),y.Lb(1),y.Ac("ngIf",c.comment_upload)}}function sn(e,t){if(1&e){var i=y.hc();y.gc(0,"div",87),y.oc("click",(function(){y.Sc(i);var e=y.sc(2).$implicit;return y.sc(2).loadComments(e)})),y.gc(1,"span",75),y.ed(2),y.tc(3,"translate"),y.fc(),y.fc()}2&e&&(y.Lb(2),y.fd(y.uc(3,1,"pages.course.loadmorecomments")))}function ln(e,t){if(1&e&&(y.gc(0,"button",32),y.rc(),y.gc(1,"svg",33),y.bc(2,"path",34),y.fc(),y.fc()),2&e){y.sc();var i=y.Oc(11);y.Ac("matMenuTriggerFor",i)}}function un(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-icon",82),y.oc("click",(function(){y.Sc(i);var e=y.sc(2).$implicit;return y.sc(4).updateComment(e)})),y.tc(1,"translate"),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"buttons.publish"))}function dn(e,t){1&e&&y.bc(0,"ion-icon",83)}function fn(e,t){if(1&e){var i=y.hc();y.gc(0,"div",78),y.gc(1,"input",79),y.oc("ngModelChange",(function(e){return y.Sc(i),y.sc().$implicit.aux_text=e}))("keyup.enter",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(4).updateComment(e)})),y.tc(2,"translate"),y.fc(),y.cd(3,un,2,3,"ion-icon",80),y.cd(4,dn,1,0,"ion-icon",81),y.fc()}if(2&e){var c=y.sc().$implicit;y.Lb(1),y.Bc("placeholder",y.uc(2,5,"pages.course.please_comment")),y.Ac("disabled",c.comment_upload)("ngModel",c.aux_text),y.Lb(2),y.Ac("ngIf",!c.comment_upload),y.Lb(1),y.Ac("ngIf",c.comment_upload)}}function gn(e,t){if(1&e&&y.bc(0,"p",50),2&e){var i=y.sc().$implicit;y.Ac("innerHTML",i.text,y.Tc)}}function mn(e,t){if(1&e){var i=y.hc();y.gc(0,"div",88),y.gc(1,"div",22),y.gc(2,"div",89),y.bc(3,"img",90),y.fc(),y.gc(4,"div",91),y.gc(5,"div",92),y.gc(6,"span",75),y.ed(7),y.fc(),y.gc(8,"span",93),y.cd(9,ln,3,1,"button",26),y.fc(),y.gc(10,"mat-menu",null,94),y.gc(12,"button",8),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).enableModeEdit(e)})),y.bc(13,"ion-icon",49),y.ed(14),y.tc(15,"translate"),y.fc(),y.gc(16,"button",8),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index,n=y.sc(2).$implicit;return y.sc(2).removeComment(n,e,c)})),y.bc(17,"ion-icon",31),y.ed(18),y.tc(19,"translate"),y.fc(),y.fc(),y.fc(),y.gc(20,"div",95),y.ed(21),y.fc(),y.gc(22,"div",40),y.gc(23,"div",76),y.cd(24,fn,5,7,"div",96),y.fc(),y.cd(25,gn,1,1,"p",97),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=y.sc(4);y.Lb(3),y.Ac("alt",null!=c.user_create?c.user_create.name:"-")("src",null!=c.user_create&&null!=c.user_create.information?c.user_create.information.image_url:n.profile_img_route,y.Vc),y.Lb(4),y.fd(null!=c.user_create?c.user_create.name:"-"),y.Lb(2),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(15,9,"buttons.edit")," "),y.Lb(4),y.gd(" ",y.uc(19,11,"buttons.delete")," "),y.Lb(3),y.gd("",n.moment(c.date_created).fromNow()," "),y.Lb(3),y.Ac("ngIf",c.edit_mode),y.Lb(1),y.Ac("ngIf",!c.edit_mode)}}function pn(e,t){if(1&e&&(y.gc(0,"div",84),y.cd(1,sn,4,3,"div",85),y.cd(2,mn,26,13,"div",86),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngIf",i.comment_here_page<=i.comment_last_page),y.Lb(1),y.Ac("ngForOf",i.comments)}}function hn(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card",40),y.gc(1,"ion-item",41),y.cd(2,Yc,2,0,"span",2),y.gc(3,"div",42),y.bc(4,"img",43),y.fc(),y.gc(5,"div",44),y.gc(6,"a",45),y.ed(7),y.fc(),y.gc(8,"div",46),y.ed(9),y.fc(),y.fc(),y.cd(10,Wc,4,3,"div",47),y.cd(11,Gc,3,1,"button",26),y.gc(12,"mat-menu",null,48),y.gc(14,"button",8),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(2).editPost(e)})),y.bc(15,"ion-icon",49),y.ed(16),y.tc(17,"translate"),y.fc(),y.gc(18,"button",8),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index;return y.sc(2).removePost(e,c)})),y.bc(19,"ion-icon",31),y.ed(20),y.tc(21,"translate"),y.fc(),y.fc(),y.fc(),y.gc(22,"ion-card-content"),y.bc(23,"p",50),y.cd(24,Xc,5,4,"div",51),y.cd(25,cn,6,4,"div",51),y.cd(26,nn,6,4,"div",52),y.cd(27,an,8,8,"div",53),y.cd(28,pn,3,2,"div",54),y.fc(),y.fc()}if(2&e){var c=t.$implicit,n=t.index,o=y.sc(2);y.Lb(1),y.Ac("id","post-resource-item-"+c.uuid),y.Lb(1),y.Ac("ngIf",o.posts.length==n+1),y.Lb(2),y.Ac("src",null!=c.user_create&&null!=c.user_create.information?c.user_create.information.image_url:o.profile_img_route,y.Vc),y.Lb(3),y.gd("",null!=c.user_create?c.user_create.name:"-"," "),y.Lb(2),y.gd(" ",o.moment(c.date_created).fromNow(),""),y.Lb(1),y.Ac("ngIf","draft"==c.status),y.Lb(1),y.Ac("ngIf",c.is_my),y.Lb(5),y.gd(" ",y.uc(17,15,"buttons.edit")," "),y.Lb(4),y.gd(" ",y.uc(21,17,"buttons.delete")," "),y.Lb(3),y.Ac("innerHTML",c.text,y.Tc),y.Lb(1),y.Ac("ngIf",c.links&&c.links.length>0),y.Lb(1),y.Ac("ngIf",c.images&&c.images.length>0),y.Lb(1),y.Ac("ngIf","1"==c.can_comment),y.Lb(1),y.Ac("ngIf","1"==c.can_comment),y.Lb(1),y.Ac("ngIf",o.is_array(c.comments))}}var vn=function(e){return{backgroundImage:e,backgroundSize:"100% 100%"}};function bn(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-grid"),y.gc(1,"ion-row"),y.gc(2,"ion-col",3),y.gc(3,"ion-card"),y.gc(4,"ion-card-content",4),y.gc(5,"div",5),y.cd(6,Rc,4,4,"ion-button",6),y.gc(7,"mat-menu",null,7),y.gc(9,"button",8),y.oc("click",(function(){return y.Sc(i),y.sc().openModalThemes()})),y.bc(10,"ion-icon",9),y.ed(11),y.tc(12,"translate"),y.fc(),y.gc(13,"button",10),y.gc(14,"label",11),y.bc(15,"ion-icon",12),y.gc(16,"span"),y.ed(17),y.tc(18,"translate"),y.fc(),y.fc(),y.gc(19,"input",13),y.oc("change",(function(e){return y.Sc(i),y.sc().changeFile(e)})),y.fc(),y.fc(),y.fc(),y.gc(20,"h1",14),y.ed(21),y.gc(22,"span"),y.ed(23),y.fc(),y.ed(24),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(25,"ion-col",15),y.cd(26,$c,8,4,"ion-card",2),y.cd(27,Vc,28,18,"ion-card",2),y.gc(28,"ion-card"),y.gc(29,"ion-card-header"),y.gc(30,"ion-card-subtitle"),y.ed(31),y.tc(32,"translate"),y.fc(),y.fc(),y.cd(33,Hc,1,0,"ion-card-content",2),y.cd(34,Nc,4,3,"ion-card-content",2),y.fc(),y.fc(),y.gc(35,"ion-col",16),y.cd(36,Uc,1,1,"add-post",17),y.gc(37,"div",18),y.cd(38,Jc,13,9,"ion-card",2),y.cd(39,hn,29,19,"ion-card",19),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(4),y.Ac("ngStyle",y.Fc(21,vn,"url("+(c.course?c.course.theme_url:"")+")")),y.Lb(2),y.Ac("ngIf",c.course.is_my),y.Lb(5),y.gd(" ",y.uc(12,15,"pages.course.select_theme")," "),y.Lb(6),y.fd(y.uc(18,17,"pages.course.upload_picture")),y.Lb(4),y.gd("",c.course?c.course.name:"-"," "),y.Lb(2),y.gd("",c.course.section," "),y.Lb(1),y.gd("| ",c.course?c.course.subject:"-",""),y.Lb(2),y.Ac("ngIf",c.course.reference_url),y.Lb(1),y.Ac("ngIf",c.course.is_my),y.Lb(4),y.fd(y.uc(32,19,"pages.course.next_works")),y.Lb(2),y.Ac("ngIf",c.last_works.length>=0),y.Lb(1),y.Ac("ngIf",0==c.last_works.length),y.Lb(2),y.Ac("ngIf","all"==c.course.post_by||"me"==c.course.post_by&&c.course.is_my),y.Lb(2),y.Ac("ngIf",0==c.posts.length),y.Lb(1),y.Ac("ngForOf",c.posts)}}var _n,yn=Ti.c.Clipboard,kn=((_n=function(){function e(t,i,c,n,o,r,a,s,l,u,d){var f=this;_classCallCheck(this,e),this.courseService=t,this.activeRoute=i,this.controlErroresService=c,this.toastService=n,this.loadingService=o,this.tourService=r,this.userData=a,this.routerOutlet=s,this.alertCtrl=l,this.modalCtrl=u,this.updateCourseEventService=d,this.totalPages=0,this.this_page=1,this.posts=[],this.profile_img_route="/assets/images/profile-8.jpg",this.user_profile="/assets/images/profile-8.jpg",this.moment=g,this.course=null,this.loading=!1,this.course_id=0,this.last_works=[],this.moment.locale("es"),g.locale("es"),this.course_id=i.snapshot.params.uuid,i.snapshot.queryParams&&i.snapshot.queryParams.ref&&i.snapshot.queryParams.ref&&(this.timerIdServer=i.snapshot.queryParams.ref),this.rxjsGlobal=d.get$().subscribe((function(e){e&&(f.course=e)}))}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getCourse(),this.intersectionObserver(),e.next=3,this.userData.getUser();case 3:(t=e.sent)&&t.information&&(this.user_profile=t.information.image_url);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ngAfterViewInit",value:function(){var e=this;this.theLastReferencePost.changes.subscribe((function(t){t.last&&e.observer.observe(t.last.nativeElement)}))}},{key:"getCourse",value:function(){var e=this;this.loading=!0,this.courseService.course(this.course_id).subscribe((function(t){e.loading=!1,e.course=t.data,e.loadPosts(),("all"==e.course.post_by||"me"==e.course.post_by&&e.course.is_my)&&setTimeout((function(){e.tourService.tour("form_post_welcome")}),500)}),(function(t){e.loading=!1,e.controlErroresService.control(t)}))}},{key:"intersectionObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&e.totalPages>=e.this_page&&e.loadPosts()}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"copyCode",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yn.write({string:e});case 2:this.toastService.showToast("C\xf3digo copiado");case 3:case"end":return t.stop()}}),t,this)})))}},{key:"copyLink",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yn.write({string:location.origin+"/"+m.h.one_course+this.course_id+"?code="+e});case 2:this.toastService.showToast("Link copiado");case 3:case"end":return t.stop()}}),t,this)})))}},{key:"updateCode",value:function(e){var t=this;this.loadingService.change(!0),this.courseService.update(e,this.course_id).subscribe((function(e){t.loadingService.change(!1),t.course.code=e.data.code}),(function(e){t.loadingService.change(!1),t.controlErroresService.control(e)}))}},{key:"findOneAndPusPost",value:function(e){var t=this;this.courseService.getOnePost(e).subscribe((function(e){e.data&&t.posts.unshift(e.data)}),(function(e){}))}},{key:"loadPosts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.posts=[],this.this_page=1),this.loadingService.change(!0),this.courseService.getPostsByCourse(this.course_id,"post",this.this_page,this.timerIdServer).subscribe((function(t){e.posts=e.posts.concat(t.data),e.totalPages=t.last_page,e.loadingService.change(!1),e.this_page++}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"submitComment",value:function(e){var t=this;e.comment_input?(e.comment_upload=!0,this.courseService.commentPost(e.uuid,{text:e.comment_input}).subscribe((function(t){e.comment_input="",isNaN(e.total_comments)?e.total_comments=1:e.total_comments++,e.comment_upload=!1,Array.isArray(e.comments)&&e.comments.unshift(t.data)}),(function(i){e.comment_upload=!1,t.controlErroresService.control(i)}))):this.toastService.presentToast("\xa1Agregue un comentario para poder publicarlo!","warning")}},{key:"loadComments",value:function(e){var t=this;Array.isArray(e.comments)||(e.comments=[]),e.comment_here_page||(e.comment_here_page=0),e.comment_here_page++,this.courseService.getCommentPost(e.uuid,e.comment_here_page||1).subscribe((function(t){e.comments=e.comments.concat(t.data),e.comment_here_page=t.here,e.comment_last_page=t.last_page,e.number_paginate=t.number_paginate}),(function(e){t.controlErroresService.control(e)}))}},{key:"is_array",value:function(e){return Array.isArray(e)}},{key:"openModalThemes",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:Dc,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{course_id:this.course_id}});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.onWillDismiss();case 7:i=e.sent,(c=i.data)&&(console.log(c),c.theme&&(this.course.theme=c.theme),c.theme_url&&(this.course.theme_url=c.theme_url));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"changeFile",value:function(e){var t=this;if(e.target.files&&e.target.files[0]){var i=new FileReader;if(e.target.files[0].size>1e6*_.a.max_size_img)return void this.toastService.presentToast("Peso m\xe1ximo "+_.a.max_size_img+"MB","warning");this.loadingService.change(!0),this.courseService.uploadTheme(Object(m.c)({image:e.target.files[0],default_null:1}),this.course_id).subscribe((function(e){t.loadingService.change(!1),t.course.theme_url=e.data.theme_url}),(function(e){t.loadingService.change(!1),t.controlErroresService.control(e)})),i.readAsDataURL(e.target.files[0])}}},{key:"removePost",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c,n=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertCtrl.create({header:"Eliminar",message:"\xbfDesea eliminar este post?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){n.loadingService.change(!0),n.courseService.deletePost(e.uuid).subscribe((function(e){n.loadingService.change(!1),n.posts.splice(t,1),n.toastService.presentToast(e.message,e.status)}),(function(e){n.loadingService.change(!1),n.controlErroresService.control(e)}))}}]});case 2:return c=i.sent,i.next=5,c.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"removeComment",value:function(e,t,i){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var n,o=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.alertCtrl.create({header:"Eliminar",message:"\xbfDesea eliminar este comentario?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:function(){o.loadingService.change(!0),o.courseService.deleteCommentPost(t.uuid).subscribe((function(t){o.loadingService.change(!1),e.comments.splice(i,1),isNaN(e.total_comments)||e.total_comments--,o.toastService.presentToast(t.message,t.status)}),(function(e){o.loadingService.change(!1),o.controlErroresService.control(e)}))}}]});case 2:return n=c.sent,c.next=5,n.present();case 5:case"end":return c.stop()}}),c,this)})))}},{key:"updateComment",value:function(e){var t=this;e.aux_text&&(e.comment_upload=!0,this.courseService.updateCommentPost(e.uuid,{text:e.aux_text}).subscribe((function(i){e.comment_upload=!1,e.text=e.aux_text,t.toastService.presentToast(i.message,i.status),e.edit_mode=!1}),(function(i){e.comment_upload=!1,t.controlErroresService.control(i)})))}},{key:"enableModeEdit",value:function(e){e.aux_text=e.text,e.edit_mode=!0}},{key:"editPost",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:Dt,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{post_id:e.uuid}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.next=7,i.onWillDismiss();case 7:c=t.sent,n=c.data,console.log(n),n&&(e.text=n.text,e.date_created=n.date_created,e.can_comment=n.can_comment,e.images=n.images,e.status=n.status,e.total_comments=n.total_comments,e.links=n.links,e.type=n.type);case 10:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||_n)(y.ac(d.a),y.ac(a.a),y.ac(u.a),y.ac(b.a),y.ac(f.a),y.ac(h.a),y.ac(v.a),y.ac(r.fb),y.ac(r.b),y.ac(r.Db),y.ac(qc.a))},_n.\u0275cmp=y.Ub({type:_n,selectors:[["app-course-posts"]],viewQuery:function(e,t){var i;1&e&&y.ld(Ec,!0,y.o),2&e&&y.Nc(i=y.pc())&&(t.theLastReferencePost=i)},decls:4,vars:1,consts:[[1,"flex","flex-center"],["size","12","size-sm","11","size-md","10","size-xl","9"],[4,"ngIf"],["size","12"],[3,"ngStyle"],[1,"overflow-hidden","mxh-240px","relative","font-image-bck-theme"],["size","small","color","light",3,"matMenuTriggerFor",4,"ngIf"],["menu_personalize","matMenu"],["mat-menu-item","",3,"click"],["name","color-palette-outline"],["mat-menu-item",""],["for","input-file-course-item-upload",2,"color","var(--ion-color-dark)"],["name","cloud-upload-outline"],["type","file","accept","image/*","id","input-file-course-item-upload",1,"d-none","hidden",3,"change"],[1,"bold-w-9","text-white","abs-bottom-left",2,"font-size","3em"],["size","12","size-sm","4","size-md","4","size-xl","3"],["size","12","size-sm","8","size-md","8","size-xl","9",1,"container-add-post"],[3,"course_id","uuidCreate",4,"ngIf"],[1,"all-postss","container-add-post-show-posts"],["class","mt-2",4,"ngFor","ngForOf"],["size","small","color","light",3,"matMenuTriggerFor"],["name","caret-down-outline"],[1,"flex"],["target","_blank",1,"p-3","cursor-pointer","transition","duration-300","ease-in-out","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md",3,"href"],["name","laptop-outline"],[2,"margin-left","10px"],["mat-button","",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["name","link-outline"],["name","copy-outline"],["name","refresh-outline"],["name","trash-outline"],["mat-button","",3,"matMenuTriggerFor"],["focusable","false","width","24","height","24","viewBox","0 0 24 24",1,"NMm5M"],["d","M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],[3,"click"],[3,"course_id","uuidCreate"],[2,"color","var(--ion-color-primary)"],["name","chatbox-outline"],["name","chatbox-ellipses-outline"],[1,"mt-2"],[3,"id"],[1,"w-10","h-10","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"ml-3","mr-auto"],["href","javascript:void(0)",1,"font-medium"],[1,"flex","text-gray-600","truncate","text-xs","mt-0.5"],["class"," h-10 flex-none",4,"ngIf"],["menuPost","matMenu"],["name","create-outline"],[3,"innerHTML"],["class","border-2 border-dashed dark:border-dark-5 rounded-md pt-4","style","margin-top: 10px;",4,"ngIf"],["class","w-full flex text-gray-600 text-xs sm:text-sm mt-1",4,"ngIf"],["class","w-full flex items-center mt-3",4,"ngIf"],["class","intro-y mt-5 pb-10",4,"ngIf"],["theLastReferencePost",""],[1,"h-10","flex-none"],[1,"badge","badge-warning"],[1,"border-2","border-dashed","dark:border-dark-5","rounded-md","pt-4",2,"margin-top","10px"],[1,"ml-1",2,"margin","0","padding-left","20px"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],[1,"pos__ticket","box","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","items-center","p-3","cursor-pointer","transition","duration-300","ease-in-out","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["target","_blank",3,"href"],[2,"margin","0","padding-left","20px"],[1,"flex","flex-wrap","px-4"],["target","_blank","class","w-24 h-24 relative image-fit mb-5 mr-5 cursor-pointer zoom-in","tooltip","Call","navTooltip","",3,"href","matTooltip",4,"ngFor","ngForOf"],["target","_blank","tooltip","Call","navTooltip","",1,"w-24","h-24","relative","image-fit","mb-5","mr-5","cursor-pointer","zoom-in",3,"href","matTooltip"],["class","rounded-md","alt","Imagen",3,"src",4,"ngIf"],["class","rounded-md","alt","File","src","/assets/img/document-file-icon.png",4,"ngIf"],["alt","Imagen",1,"rounded-md",3,"src"],["alt","File","src","/assets/img/document-file-icon.png",1,"rounded-md"],[1,"w-full","flex","text-gray-600","text-xs","sm:text-sm","mt-1"],[1,"mr-2","c-pointer",3,"click"],[1,"font-medium"],[1,"w-full","flex","items-center","mt-3"],[1,"w-8","h-8","flex-none","image-fit","mr-3"],[1,"flex-1","relative","text-gray-700"],["type","text",1,"form-control","form-control-rounded","border-transparent","bg-gray-200","pr-10","placeholder-theme-13",3,"disabled","ngModel","placeholder","ngModelChange","keyup.enter"],["name","send-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",3,"matTooltip","click",4,"ngIf"],["name","cloud-upload-outline","class","c-pointer absolute my-auto inset-y-0 mr-3 right-0","fill","outline",4,"ngIf"],["name","send-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0",3,"matTooltip","click"],["name","cloud-upload-outline","fill","outline",1,"c-pointer","absolute","my-auto","inset-y-0","mr-3","right-0"],[1,"intro-y","mt-5","pb-10"],["class","flex items-center c-pointer",3,"click",4,"ngIf"],["class","pt-5",4,"ngFor","ngForOf"],[1,"flex","items-center","c-pointer",3,"click"],[1,"pt-5"],[1,"w-10","h-10","sm:w-12","sm:h-12","flex-none","image-fit"],[1,"rounded-full",3,"alt","src"],[1,"ml-3","flex-1"],[1,"flex","items-center"],["href","",1,"ml-auto","text-xs","text-gray-600"],["menuCommentPost","matMenu"],[1,"text-gray-600","text-xs","sm:text-sm"],["class","flex-1 relative text-gray-700",4,"ngIf"],[3,"innerHTML",4,"ngIf"]],template:function(e,t){1&e&&(y.gc(0,"ion-grid"),y.gc(1,"ion-row",0),y.gc(2,"ion-col",1),y.cd(3,bn,40,23,"ion-grid",2),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.Ac("ngIf",t.course))},directives:[r.A,r.gb,r.t,n.t,r.m,r.n,n.w,I.e,I.b,r.C,r.o,r.p,n.s,r.k,I.d,r.N,O.b,r.q,ac,r.H,P.a,o.c,o.r,o.u],pipes:[M.d],styles:["[type=radio][_ngcontent-%COMP%]{position:absolute;opacity:0;width:0;height:0}[type=radio][_ngcontent-%COMP%] + img[_ngcontent-%COMP%]{cursor:pointer}[type=radio][_ngcontent-%COMP%]:checked + img[_ngcontent-%COMP%]{outline:2px solid red}"]}),_n),xn=i("OMi/"),Ln=i("Iab2");function wn(e,t){if(1&e&&(y.ec(0),y.gc(1,"th",9),y.gc(2,"ion-label",10),y.ed(3),y.fc(),y.fc(),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("colSpan",i.span),y.Lb(2),y.fd(i.title)}}function An(e,t){if(1&e&&(y.ec(0),y.cd(1,wn,4,2,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0&&i.blocks&&i.blocks.length>0)}}function Sn(e,t){if(1&e&&(y.ec(0),y.gc(1,"th",9),y.gc(2,"p",10),y.ed(3),y.fc(),y.fc(),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("colSpan",i.span),y.Lb(2),y.fd(i.title)}}function Cn(e,t){if(1&e&&(y.ec(0),y.cd(1,Sn,4,2,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0)}}function In(e,t){if(1&e&&(y.ec(0),y.cd(1,Cn,2,1,"ng-container",7),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngForOf",i.blocks)}}function On(e,t){if(1&e&&(y.ec(0),y.cd(1,In,2,1,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0&&i.blocks&&i.blocks.length>0)}}function Pn(e,t){if(1&e&&(y.ec(0),y.gc(1,"th",11),y.gc(2,"p",10),y.ed(3),y.fc(),y.fc(),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("colSpan",i.span),y.Lb(2),y.fd(i.title)}}function Mn(e,t){if(1&e&&(y.ec(0),y.cd(1,Pn,4,2,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0)}}function Tn(e,t){if(1&e&&(y.ec(0),y.cd(1,Mn,2,1,"ng-container",7),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngForOf",i.themes_activity)}}function Fn(e,t){if(1&e&&(y.ec(0),y.cd(1,Tn,2,1,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0&&i.themes_activity&&i.themes_activity.length>0)}}function zn(e,t){if(1&e&&(y.ec(0),y.cd(1,Fn,2,1,"ng-container",7),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngForOf",i.blocks)}}function Dn(e,t){if(1&e&&(y.ec(0),y.cd(1,zn,2,1,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0&&i.blocks&&i.blocks.length>0)}}function qn(e,t){if(1&e&&(y.ec(0),y.gc(1,"th"),y.gc(2,"a",12),y.ed(3),y.fc(),y.fc(),y.dc()),2&e){var i=t.$implicit,c=y.sc(9);y.Lb(2),y.Ac("routerLink",c.route_activity+i.uuid),y.Lb(1),y.fd(i.title)}}function En(e,t){if(1&e&&(y.ec(0),y.cd(1,qn,4,2,"ng-container",7),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngForOf",i.activities)}}function Rn(e,t){if(1&e&&(y.ec(0),y.cd(1,En,2,1,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0&&i.activities&&i.activities.length>0)}}function $n(e,t){if(1&e&&(y.ec(0),y.cd(1,Rn,2,1,"ng-container",7),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngForOf",i.themes_activity)}}function jn(e,t){if(1&e&&(y.ec(0),y.cd(1,$n,2,1,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.themes_activity&&i.themes_activity.length>0)}}function Bn(e,t){if(1&e&&(y.ec(0),y.cd(1,jn,2,1,"ng-container",7),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("ngForOf",i.blocks)}}function Qn(e,t){if(1&e&&(y.ec(0),y.cd(1,Bn,2,1,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.blocks&&i.blocks.length>0)}}function Vn(e,t){if(1&e&&(y.gc(0,"tr"),y.cd(1,Qn,2,1,"ng-container",7),y.fc()),2&e){var i=y.sc(2);y.Lb(1),y.Ac("ngForOf",i.dataHeader)}}function Hn(e,t){if(1&e){var i=y.hc();y.ec(0),y.gc(1,"td",18),y.gc(2,"div",19),y.gc(3,"ion-label",20),y.ed(4),y.fc(),y.rc(),y.gc(5,"svg",21),y.bc(6,"path",22),y.fc(),y.qc(),y.gc(7,"mat-menu",null,23),y.gc(9,"button",24),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(6).openInNewWindow(e.activity_uuid,e.uuid)})),y.bc(10,"ion-icon",25),y.ed(11),y.tc(12,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.dc()}if(2&e){var c=y.Oc(8),n=y.sc().$implicit;y.Lb(4),y.fd(n.qualification),y.Lb(1),y.Ac("matMenuTriggerFor",c),y.Lb(6),y.gd(" ",y.uc(12,3,"buttons.show_delivered")," ")}}function Nn(e,t){1&e&&(y.ec(0),y.gc(1,"td",18),y.gc(2,"div",19),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.dc()),2&e&&(y.Lb(3),y.gd(" ",y.uc(4,1,"pages.course.not_assigned")," "))}function Un(e,t){if(1&e&&(y.ec(0),y.cd(1,Hn,13,5,"ng-container",8),y.cd(2,Nn,5,3,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",null!=i),y.Lb(1),y.Ac("ngIf",null==i)}}function Jn(e,t){if(1&e&&(y.ec(0),y.cd(1,Un,3,2,"ng-container",7),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngForOf",i.assignments)}}function Yn(e,t){if(1&e&&(y.ec(0),y.cd(1,Jn,2,1,"ng-container",7),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngForOf",i.list_themes)}}function Wn(e,t){if(1&e&&(y.ec(0),y.cd(1,Yn,2,1,"ng-container",7),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngForOf",i.blocks)}}function Gn(e,t){if(1&e&&(y.gc(0,"tr"),y.gc(1,"td",13),y.gc(2,"ion-item"),y.gc(3,"div",14),y.bc(4,"img",15),y.fc(),y.gc(5,"div",16),y.gc(6,"a",17),y.ed(7),y.fc(),y.fc(),y.fc(),y.fc(),y.cd(8,Wn,2,1,"ng-container",7),y.fc()),2&e){var i=t.$implicit,c=y.sc(2);y.Lb(4),y.Ac("src",null!=i&&null!=i.information?i.information.image_url:c.profile_img_route,y.Vc),y.Lb(3),y.hd("",i.last_name," ",i.first_name," "),y.Lb(1),y.Ac("ngForOf",i.semesters)}}function Kn(e,t){if(1&e&&(y.gc(0,"table",4),y.gc(1,"thead"),y.gc(2,"tr"),y.gc(3,"th",5),y.gc(4,"p",6),y.ed(5),y.tc(6,"translate"),y.fc(),y.fc(),y.cd(7,An,2,1,"ng-container",7),y.fc(),y.gc(8,"tr"),y.cd(9,On,2,1,"ng-container",7),y.fc(),y.gc(10,"tr"),y.cd(11,Dn,2,1,"ng-container",7),y.fc(),y.cd(12,Vn,2,1,"tr",8),y.fc(),y.gc(13,"tbody"),y.cd(14,Gn,9,4,"tr",7),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(5),y.fd(y.uc(6,6,"pages.course.students")),y.Lb(2),y.Ac("ngForOf",i.dataHeader),y.Lb(2),y.Ac("ngForOf",i.dataHeader),y.Lb(2),y.Ac("ngForOf",i.dataHeader),y.Lb(1),y.Ac("ngIf",i.show_activities),y.Lb(2),y.Ac("ngForOf",i.dataBody)}}function Xn(e,t){if(1&e&&(y.ec(0),y.gc(1,"th",11),y.gc(2,"p",10),y.ed(3),y.fc(),y.fc(),y.dc()),2&e){var i=y.sc().$implicit;y.Lb(1),y.Ac("colSpan",i.span),y.Lb(2),y.fd(i.title)}}function Zn(e,t){if(1&e&&(y.ec(0),y.cd(1,Xn,4,2,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.span>0)}}function eo(e,t){if(1&e&&(y.ec(0),y.gc(1,"th"),y.gc(2,"a",12),y.ed(3),y.fc(),y.fc(),y.dc()),2&e){var i=t.$implicit,c=y.sc(3);y.Lb(2),y.Ac("routerLink",c.route_activity+i.uuid),y.Lb(1),y.fd(i.title)}}function to(e,t){if(1&e&&(y.ec(0),y.cd(1,eo,4,2,"ng-container",7),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngForOf",i.activities)}}function io(e,t){if(1&e){var i=y.hc();y.ec(0),y.gc(1,"td",18),y.gc(2,"div",19),y.gc(3,"ion-label",20),y.ed(4),y.fc(),y.rc(),y.gc(5,"svg",21),y.bc(6,"path",22),y.fc(),y.qc(),y.gc(7,"mat-menu",null,23),y.gc(9,"button",24),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit;return y.sc(4).openInNewWindow(e.activity_uuid,e.uuid)})),y.bc(10,"ion-icon",25),y.ed(11),y.tc(12,"translate"),y.fc(),y.fc(),y.fc(),y.fc(),y.dc()}if(2&e){var c=y.Oc(8),n=y.sc().$implicit;y.Lb(4),y.fd(n.qualification),y.Lb(1),y.Ac("matMenuTriggerFor",c),y.Lb(6),y.gd(" ",y.uc(12,3,"buttons.show_delivered")," ")}}function co(e,t){1&e&&(y.ec(0),y.gc(1,"td",18),y.gc(2,"div",19),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.dc()),2&e&&(y.Lb(3),y.gd(" ",y.uc(4,1,"pages.course.not_assigned")," "))}function no(e,t){if(1&e&&(y.ec(0),y.cd(1,io,13,5,"ng-container",8),y.cd(2,co,5,3,"ng-container",8),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",null!=i),y.Lb(1),y.Ac("ngIf",null==i)}}function oo(e,t){if(1&e&&(y.ec(0),y.cd(1,no,3,2,"ng-container",7),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngForOf",i.assignments)}}function ro(e,t){if(1&e&&(y.gc(0,"tr"),y.gc(1,"td",13),y.gc(2,"ion-item"),y.gc(3,"div",14),y.bc(4,"img",15),y.fc(),y.gc(5,"div",16),y.gc(6,"a",17),y.ed(7),y.fc(),y.fc(),y.fc(),y.fc(),y.cd(8,oo,2,1,"ng-container",7),y.fc()),2&e){var i=t.$implicit,c=y.sc(2);y.Lb(4),y.Ac("src",null!=i&&null!=i.information?i.information.image_url:c.profile_img_route,y.Vc),y.Lb(3),y.hd("",i.last_name," ",i.first_name," "),y.Lb(1),y.Ac("ngForOf",i.list_themes)}}function ao(e,t){if(1&e&&(y.gc(0,"table",4),y.gc(1,"thead"),y.gc(2,"tr"),y.gc(3,"th",26),y.gc(4,"p",6),y.ed(5),y.tc(6,"translate"),y.fc(),y.fc(),y.cd(7,Zn,2,1,"ng-container",7),y.fc(),y.gc(8,"tr"),y.cd(9,to,2,1,"ng-container",7),y.fc(),y.fc(),y.gc(10,"tbody"),y.cd(11,ro,9,4,"tr",7),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(5),y.fd(y.uc(6,4,"pages.course.students")),y.Lb(2),y.Ac("ngForOf",i.dataHeader),y.Lb(2),y.Ac("ngForOf",i.dataHeader),y.Lb(2),y.Ac("ngForOf",i.dataBody)}}var so,lo=((so=function(){function e(t,i,c,n,o,r){_classCallCheck(this,e),this.activeRoute=t,this.activitiesService=i,this.controlErroresService=c,this.loadingService=n,this.router=o,this.sizePanelService=r,this.displayedColumns=["position","name","weight","symbol","symbol_1","symbol_2","symbol_3","symbol_4","symbol_5","other","other2","other3","other4"],this.dataSource=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"DJADJDAJ ADJDAJ",symbol_1:"DJADJDAJ ADJDAJ",symbol_2:"DJADJDAJ ADJDAJ",symbol_3:"DJADJDAJ ADJDAJ",symbol_4:"DJADJDAJ ADJDAJ",symbol_5:"DJADJDAJ ADJDAJ",other:"DJADJDAJ ADJDAJ",other2:"DJADJDAJ ADJDAJ",other3:"DJADJDAJ ADJDAJ",other4:"DJADJDAJ ADJDAJ"}],this.show_activities=!0,this.route_activity=m.h.show_activity,this.course_id=null,this.dataHeader=[],this.dataBody=[],this.modeShowQualifications="no_loaded",this.loading=!1,this.profile_img_route="/assets/images/profile-8.jpg",this.course_id=t.snapshot.params.uuid,this.route_activity=this.route_activity.replace(":id",""+this.course_id).replace(":id",""+this.course_id),this.sizePanelService.changeSizePanel("2000px"),t.snapshot.queryParams&&t.snapshot.queryParams.ref&&t.snapshot.queryParams.ref&&(this.timerIdServer=t.snapshot.queryParams.ref)}return _createClass(e,[{key:"ngOnInit",value:function(){this.getQualifications()}},{key:"ngOnDestroy",value:function(){this.sizePanelService.changeSizePanel("lg")}},{key:"getQualifications",value:function(){var e=this;this.loadingService.change(!0),this.loading=!1,this.activitiesService.getQualifications(this.course_id,this.timerIdServer).subscribe((function(t){e.modeShowQualifications=t.mode,e.dataHeader=t.headers,e.dataBody=t.integrants,e.loading=!1,e.loadingService.change(!1)}),(function(t){e.controlErroresService.control(t),e.loadingService.change(!1),e.loading=!1}))}},{key:"exportQualifications",value:function(){var e=this;this.loadingService.change(!0),this.loading=!1,this.activitiesService.exportQualifications(this.course_id).subscribe((function(t){e.loading=!1,e.loadingService.change(!1);var i=new Blob([t],{type:t.type}),c=e.toExportFileName("Calificaciones","xlsx");Object(Ln.saveAs)(i,c)}),(function(t){e.controlErroresService.control(t),e.loadingService.change(!1),e.loading=!1}))}},{key:"toExportFileName",value:function(e,t){return"".concat(e,"_").concat((new Date).getTime(),".").concat(t)}},{key:"openInNewWindow",value:function(e,t){var i=this.router.serializeUrl(this.router.createUrlTree(["/app/main/course/".concat(this.course_id,"/").concat(this.course_id,"/activities/details/").concat(e,"/").concat(t)]));window.open(i,"_blank")}}]),e}()).\u0275fac=function(e){return new(e||so)(y.ac(a.a),y.ac(l.a),y.ac(u.a),y.ac(f.a),y.ac(a.f),y.ac(xn.a))},so.\u0275cmp=y.Ub({type:so,selectors:[["app-course-qualifications"]],decls:8,vars:5,consts:[[2,"width","100%","overflow-x","auto"],["class","table table-bordered","border","1",4,"ngIf"],["size","small","color","success",3,"click"],["name","download-outline"],["border","1",1,"table","table-bordered"],["rowspan","4",1,"sticky-col"],[1,"flex","flex-center","m-0","p-0"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","col",1,"text-center",3,"colSpan"],[1,"m-0","p-0"],[1,"text-center",3,"colSpan"],["href","javascript:void(0)",3,"routerLink"],[1,"p-0","sticky-col"],[1,"w-10","h-10","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"ml-3",2,"min-width","200px"],["href","javascript:void(0)",1,"font-medium"],[1,"p-0"],[1,"m-auto","flex","flex-center"],[1,"text-center"],["mat-button","","focusable","false","width","24","height","24","viewBox","0 0 24 24",1,"NMm5M","c-pointer",3,"matMenuTriggerFor"],["d","M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"],["menuPost","matMenu"],["mat-menu-item","",3,"click"],["name","create-outline"],["rowspan","2",1,"sticky-col"]],template:function(e,t){1&e&&(y.gc(0,"div",0),y.cd(1,Kn,15,8,"table",1),y.fc(),y.gc(2,"div",0),y.cd(3,ao,12,6,"table",1),y.gc(4,"ion-button",2),y.oc("click",(function(){return t.exportQualifications()})),y.bc(5,"ion-icon",3),y.ed(6),y.tc(7,"translate"),y.fc(),y.fc()),2&e&&(y.Lb(1),y.Ac("ngIf","semesters"==t.modeShowQualifications&&!t.loading),y.Lb(2),y.Ac("ngIf","themes"==t.modeShowQualifications&&!t.loading),y.Lb(3),y.gd(" ",y.uc(7,3,"buttons.export"),""))},directives:[n.t,r.k,r.C,n.s,r.N,a.i,r.Kb,r.H,I.d,I.e,I.b],pipes:[M.d],styles:[".table[_ngcontent-%COMP%]{color:var(--color)!important}.c-pointer[_ngcontent-%COMP%]{cursor:pointer}.sticky-col[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;background-color:#fff}"]}),so),uo=i("3WHO"),fo=i("YTC1"),go=i("g31X");function mo(e,t){1&e&&(y.ec(0),y.ed(1," PROHIBIDO\n"),y.dc())}var po=function(e){return{height:e}};function ho(e,t){if(1&e&&(y.gc(0,"td",20),y.gc(1,"div",21),y.bc(2,"div",22),y.gc(3,"div",23),y.tc(4,"formatTimeStr"),y.ed(5," ."),y.fc(),y.gc(6,"p",24),y.ed(7),y.fc(),y.gc(8,"p",24),y.ed(9),y.tc(10,"formatTimeStr"),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit,c=y.sc().$implicit,n=y.sc(3);y.Lb(2),y.Ac("ngStyle",y.Fc(10,po,300-i.avg_height)),y.Lb(1),y.Ac("ngStyle",y.Fc(12,po,i.avg_height+"px"))("matTooltip",y.uc(4,5,i.time_avg)),y.Lb(4),y.fd("month"==c.mode?n.moment(i.date,"YYYY-MM").format("MMM-YYYY"):i.day_of_weeK),y.Lb(2),y.fd(y.vc(10,7,i.time_avg,"minimal"))}}function vo(e,t){if(1&e&&(y.ec(0),y.gc(1,"ion-col",15),y.gc(2,"ion-card"),y.gc(3,"ion-card-content",16),y.gc(4,"h3",17),y.ed(5),y.fc(),y.gc(6,"ion-grid"),y.gc(7,"ion-row"),y.gc(8,"ion-col",18),y.gc(9,"p"),y.ed(10),y.tc(11,"translate"),y.gc(12,"strong"),y.ed(13),y.fc(),y.ed(14,": "),y.gc(15,"strong"),y.ed(16),y.tc(17,"formatTimeStr"),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(18,"table",3),y.gc(19,"tr"),y.cd(20,ho,11,14,"td",19),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("size",i.sizes?i.sizes.size:"12")("sizeSm",i.sizes?i.sizes.sm:"12")("sizeMd",i.sizes?i.sizes.md:"12")("sizeLg",i.sizes?i.sizes.lg:"12"),y.Lb(4),y.fd(i.title),y.Lb(5),y.gd("",y.uc(11,9,"pages.reports.avg_this_year")," "),y.Lb(3),y.fd(i.this_year),y.Lb(3),y.fd(y.uc(17,11,i.avg_time)),y.Lb(4),y.Ac("ngForOf",i.time_week)}}function bo(e,t){if(1&e&&(y.gc(0,"ion-grid"),y.gc(1,"ion-row"),y.cd(2,vo,21,13,"ng-container",14),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.Ac("ngForOf",i.timerGraph.items)}}function _o(e,t){1&e&&y.bc(0,"card-load-animation",25),2&e&&y.Ac("count",1)("all_width",!0)}function yo(e,t){1&e&&y.bc(0,"card-load-animation",25),2&e&&y.Ac("count",1)("all_width",!0)}function ko(e,t){1&e&&y.bc(0,"card-load-animation",25),2&e&&y.Ac("count",1)("all_width",!0)}function xo(e,t){1&e&&(y.gc(0,"h2",17),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.fd(y.uc(2,1,"forms.no_data")))}function Lo(e,t){if(1&e&&(y.gc(0,"ion-col",28),y.gc(1,"ion-card",7),y.gc(2,"ion-card-header"),y.gc(3,"ion-card-title"),y.ed(4),y.tc(5,"translate"),y.fc(),y.fc(),y.gc(6,"ion-card-content",8),y.cd(7,ko,1,2,"card-load-animation",9),y.gc(8,"div",10),y.gc(9,"canvas",11),y.ed(10),y.fc(),y.fc(),y.cd(11,xo,3,3,"h2",29),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit,c=y.sc(3);y.Lb(4),y.gd(" ",y.uc(5,6,i.title)," "),y.Lb(3),y.Ac("ngIf",c.loading||c.loadingChartsSecond&&null==i.chart_graph),y.Lb(1),y.Ac("ngClass",c.loading||null==i.chart_graph||0==i.data.length?"d-none":""),y.Lb(1),y.Ac("id",i._id),y.Lb(1),y.fd(i.chart_graph),y.Lb(1),y.Ac("ngIf",0==i.data.length)}}function wo(e,t){if(1&e&&(y.gc(0,"ion-row"),y.gc(1,"ion-col",18),y.gc(2,"h3",26),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.cd(5,Lo,12,8,"ion-col",27),y.fc()),2&e){var i=t.$implicit;y.Lb(3),y.fd(y.uc(4,2,i.title)),y.Lb(2),y.Ac("ngForOf",i.items)}}function Ao(e,t){if(1&e&&(y.ec(0),y.cd(1,bo,3,1,"ion-grid",0),y.gc(2,"mat-expansion-panel",1),y.gc(3,"mat-expansion-panel-header",2),y.gc(4,"mat-panel-title"),y.gc(5,"ion-item",3),y.bc(6,"ion-icon",4),y.ed(7),y.tc(8,"translate"),y.tc(9,"translate"),y.fc(),y.fc(),y.fc(),y.gc(10,"ion-grid"),y.gc(11,"ion-row"),y.gc(12,"ion-col"),y.bc(13,"filters-course",5),y.fc(),y.fc(),y.gc(14,"ion-row"),y.gc(15,"ion-col",6),y.gc(16,"ion-card",7),y.gc(17,"ion-card-header"),y.gc(18,"ion-card-title"),y.ed(19),y.tc(20,"translate"),y.fc(),y.fc(),y.gc(21,"ion-card-content",8),y.cd(22,_o,1,2,"card-load-animation",9),y.gc(23,"div",10),y.gc(24,"canvas",11),y.ed(25),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(26,"ion-col",6),y.gc(27,"ion-card",7),y.gc(28,"ion-card-header"),y.gc(29,"ion-card-title"),y.ed(30),y.tc(31,"translate"),y.fc(),y.fc(),y.gc(32,"ion-card-content",8),y.cd(33,yo,1,2,"card-load-animation",9),y.gc(34,"div",10),y.gc(35,"canvas",11),y.ed(36),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(37,"mat-expansion-panel",1),y.gc(38,"mat-expansion-panel-header",2),y.gc(39,"mat-panel-title"),y.gc(40,"ion-item",3),y.bc(41,"ion-icon",12),y.ed(42),y.tc(43,"translate"),y.fc(),y.fc(),y.fc(),y.gc(44,"div"),y.bc(45,"filters-course",13),y.gc(46,"ion-grid"),y.cd(47,wo,6,4,"ion-row",14),y.fc(),y.fc(),y.fc(),y.dc()),2&e){var i=y.sc();y.Lb(1),y.Ac("ngIf",i.timerGraph&&i.timerGraph.items),y.Lb(6),y.hd(" ",y.uc(8,21,"pages.reports.title_evolution_time")," ",y.uc(9,23,"pages.reports.of_the_course")," "),y.Lb(6),y.Ac("required",i.allowFilters)("course_id",i.course_id)("buttons",i.buttons_all),y.Lb(6),y.gd(" ",y.uc(20,25,"pages.reports.activities_qualificated")," "),y.Lb(3),y.Ac("ngIf",i.loading||i.loadingCharts&&null==i.charts.course_qualificated),y.Lb(1),y.Ac("ngClass",i.loading||null==i.charts.course_qualificated?"d-none":""),y.Lb(1),y.Ac("id","chart_course_qualificated"),y.Lb(1),y.fd(i.charts.course_qualificated),y.Lb(5),y.gd(" ",y.uc(31,27,"pages.reports.activities_unqualified")," "),y.Lb(3),y.Ac("ngIf",i.loading||i.loadingCharts&&null==i.charts.course_unqualified),y.Lb(1),y.Ac("ngClass",i.loading||null==i.charts.course_unqualified?"d-none":""),y.Lb(1),y.Ac("id","chart_course_unqualified"),y.Lb(1),y.fd(i.charts.course_unqualified),y.Lb(6),y.gd(" ",y.uc(43,29,"pages.reports.group_by_qualification")," "),y.Lb(3),y.Ac("course_id",i.course_id)("required",i.allowFilters)("buttons",i.buttons_filters_teacher),y.Lb(2),y.Ac("ngForOf",i.graphsCircles.teacher)}}var So,Co=((So=function(){function e(t,i,c,n,o){var r;_classCallCheck(this,e),this.courseService=t,this.controlErroresService=i,this.applyFiltersModeService=c,this.loadingService=n,this.activeRoute=o,this.systemStatus=0,this.moment=g,this.chartsGroup=[],this.charts={course_qualificated:null,course_unqualified:null},this.loadingCharts=!1,this.loadingChartsSecond=!1,this.button_search_teacher={color:"warning",size:"small",mode:"search-teacher",disabled:!1,title:"buttons.search",icon:"search-outline"},this.button_search_all={color:"warning",size:"small",mode:"search",disabled:!1,title:"buttons.search",icon:"search-outline"},this.button_download_teacher={color:"danger",size:"small",mode:"download-teacher",icon:"cloud-download-outline",disabled:!1,title:"buttons.download"},this.button_export_teacher={color:"success",size:"small",mode:"export-teacher",icon:"download-outline",disabled:!1,title:"buttons.export"},this.button_download_all={color:"danger",size:"small",mode:"download",icon:"cloud-download-outline",disabled:!1,title:"buttons.download"},this.button_export_all={color:"success",size:"small",mode:"export",icon:"download-outline",disabled:!1,title:"buttons.export"},this.buttons_filters_teacher=[this.button_search_teacher,this.button_download_teacher,this.button_export_teacher],this.buttons_all=[this.button_search_all,this.button_download_all,this.button_export_all],this.graphsCircles={holguin:[],teacher:[]},this.loading=!1,this.rxjsFilter=null,(r=uo.a).register.apply(r,_toConsumableArray(uo.b)),g.locale("es"),this.course_id=o.snapshot.params.uuid,this.allowFilters={end_date:1,start_date:1,theme:1,block:1,semester:1}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.getTimers(),this.getDataQualifications(),this.rxjsFilter=this.applyFiltersModeService.get$().subscribe((function(t){e.applyFilters(t)})),this.getAvgGroupQualifications("teacher",{})}},{key:"ngOnDestroy",value:function(){this.rxjsFilter.unsubscribe()}},{key:"applyFilters",value:function(e){if(!e)return!1;if(!e.mode||!e.filters)return!1;switch(e.mode){case"search":this.getDataQualifications(e.filters);break;case"download":this.downloadData(this.courseService.downloadAvgSeries(this.course_id,e.filters),"Serie de tiempo de la evoluci\xf3n del aprendizaje");break;case"export":this.exportData(this.courseService.exportAvgSeries(this.course_id,e.filters),"Serie de tiempo de la evoluci\xf3n del aprendizaje");break;case"download-teacher":this.downloadData(this.courseService.downloadAvgGroupQualifications(this.course_id,e.filters)," Agrupado por calificaciones ");break;case"export-teacher":this.exportData(this.courseService.exportAvgGroupQualifications(this.course_id,e.filters)," Agrupado por calificaciones ");break;case"search-teacher":this.getAvgGroupQualifications("teacher",e.filters)}}},{key:"exportData",value:function(e,t){var i=this;this.loadingService.change(!0),e.subscribe((function(e){i.loadingService.change(!1);var c=new Blob([e],{type:e.type}),n=i.toExportFileName(t,"xlsx");Object(Ln.saveAs)(c,n)}),(function(e){i.controlErroresService.control(e),i.loadingService.change(!1)}))}},{key:"downloadData",value:function(e,t){var i=this;this.loadingService.change(!0),e.subscribe((function(e){i.loadingService.change(!1);var c=new Blob([e],{type:e.type}),n=i.toExportFileName(t,"pdf");Object(Ln.saveAs)(c,n)}),(function(e){i.controlErroresService.control(e),i.loadingService.change(!1)}))}},{key:"toExportFileName",value:function(e,t){return"".concat(e,"_").concat((new Date).getTime(),".").concat(t)}},{key:"getCourse",value:function(){var e=this;this.loadingService.change(!0),this.courseService.course(this.course_id).subscribe((function(t){e.course=t.data,e.loadingService.change(!1)}),(function(t){e.controlErroresService.control(t),e.loadingService.change(!1)}))}},{key:"getTimers",value:function(){var e=this;this.loadingService.change(!0),this.courseService.getTimeData(this.course_id).subscribe((function(t){e.systemStatus=t.status,e.timerGraph=t.data,e.loadingService.change(!1)}),(function(t){e.controlErroresService.control(t),e.systemStatus=t.error.code,e.loadingService.change(!1)}))}},{key:"getDataQualifications",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loadingService.change(!0),this.courseService.geAvgSeries(this.course_id,t).subscribe((function(t){e.loadingService.change(!1),e.loadingCharts=!0,setTimeout((function(){var i,c=_createForOfIteratorHelper(t.data);try{for(c.s();!(i=c.n()).done;){var n=i.value;e.loadGraficoGeneral(n._el,n.data.map((function(e){return e.date_format})),n.data.map((function(e){return e.avg})),n.title,n._id)}}catch(o){c.e(o)}finally{c.f()}e.loadingCharts=!1}),1e3),e.loadingService.change(!1)}),(function(t){e.loadingService.change(!1),e.controlErroresService.control(t)}))}},{key:"getAvgGroupQualifications",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loadingService.change(!0),this.loadingChartsSecond=!0,this.courseService.getAvgGroupQualifications(this.course_id,i).subscribe((function(i){t.graphsCircles[e]=i.data,t.loadingChartsSecond=!0,setTimeout((function(){var i,c=_createForOfIteratorHelper(t.graphsCircles[e]);try{for(c.s();!(i=c.n()).done;){var n,o=_createForOfIteratorHelper(i.value.items);try{for(o.s();!(n=o.n()).done;){var r=n.value;try{t.loadGraficoGeneralPie(r,r.data.map((function(e){return e.qualification_range})),r.data.map((function(e){return e.count})),r.data.map((function(e){return e.color})))}catch(a){}}}catch(s){o.e(s)}finally{o.f()}}}catch(s){c.e(s)}finally{c.f()}t.loadingChartsSecond=!1}),2e3),t.loadingService.change(!1)}),(function(e){t.loadingService.change(!1),t.controlErroresService.control(e)}))}},{key:"loadGraficoGeneral",value:function(e,t,i,c,n){null!=this.charts[e]&&this.charts[e].destroy(),this.charts[e]=new uo.a(n,{type:"line",data:{labels:t,datasets:[{label:c,data:i,backgroundColor:"rgba(0, 156, 224, 1)",borderColor:"rgba(0, 156, 224, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}),this.charts[e].update()}},{key:"loadGraficoGeneralPie",value:function(e,t,i,c){null!=e.chart_graph&&e.chart_graph.destroy(),e.chart_graph=new uo.a(e._id,{type:"pie",data:{labels:t,datasets:[{label:e.title,data:i,backgroundColor:c,borderColor:"rgba(0, 156, 224, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){return e.parsed+""}}}}}}),e.chart_graph.update()}}]),e}()).\u0275fac=function(e){return new(e||So)(y.ac(d.a),y.ac(u.a),y.ac(ci.a),y.ac(f.a),y.ac(a.a))},So.\u0275cmp=y.Ub({type:So,selectors:[["app-dashboard-course"]],decls:2,vars:2,consts:[[4,"ngIf"],["hideToggle","","expanded","true"],[2,"padding","0"],[2,"width","100%"],["name","bar-chart-outline"],[3,"required","course_id","buttons"],["size","12","size-sm","6"],[1,"mt-2","no-padding-small-500"],[1,"padding-small-sm"],[3,"count","all_width",4,"ngIf"],[3,"ngClass"],[3,"id"],["name","pie-chart-outline"],[3,"course_id","required","buttons"],[4,"ngFor","ngForOf"],[3,"size","sizeSm","sizeMd","sizeLg"],[1,"padding-small-sm","overflow-auto"],[1,"text-center"],["size","12"],["class","col-item-linebar",4,"ngFor","ngForOf"],[1,"col-item-linebar"],[1,"col-line-fx","flex-fend-axis-y","flex-y",2,"margin","0 15px"],[3,"ngStyle"],[1,"col-line-fx-inter",3,"ngStyle","matTooltip"],[2,"text-align","center","margin","0 auto"],[3,"count","all_width"],[1,"text-center","bold"],["size","12","size-sm","6","size-md","4","size-xl","3",4,"ngFor","ngForOf"],["size","12","size-sm","6","size-md","4","size-xl","3"],["class","text-center",4,"ngIf"]],template:function(e,t){1&e&&(y.cd(0,mo,2,0,"ng-container",0),y.cd(1,Ao,48,31,"ng-container",0)),2&e&&(y.Ac("ngIf",403==t.systemStatus),y.Lb(1),y.Ac("ngIf",200==t.systemStatus))},directives:[n.t,C.c,C.g,C.h,r.H,r.C,r.A,r.gb,r.t,ni.a,r.m,r.o,r.q,r.n,n.q,n.s,n.w,P.a,fo.a],pipes:[M.d,go.a],styles:['@media (max-width:575px){.text-center-small[_ngcontent-%COMP%]{text-align:center}}.col-line-fx[_ngcontent-%COMP%]{min-width:2.5EM;height:300px}.col-item-linebar[_ngcontent-%COMP%]{height:300px}.col-line-fx-inter[_ngcontent-%COMP%]{width:10px;border-radius:5px;background:var(--ion-color-primary);text-align:"center";margin:auto auto 0}.flex-fend-axis-y[_ngcontent-%COMP%]{align-items:flex-end;display:flex}']}),So),Io=i("8BQX"),Oo=i("dZ1v"),Po=i("ZOsW");function Mo(e,t){if(1&e&&(y.gc(0,"ng-option",13),y.ed(1),y.fc()),2&e){var i=t.$implicit;y.Ac("value",i.uuid),y.Lb(1),y.fd(i.title)}}var To,Fo=((To=function(){function e(t,i,c,n,o){_classCallCheck(this,e),this.modalCtrl=t,this.navParams=i,this.courseService=c,this.toastService=n,this.controlErroresService=o,this.blocks=[],this.mode="create",this.item=this.navParams.data.item,this.course_id=this.navParams.data.course_id,null!=this.item&&(this.title=this.item.title,this.item.block&&(this.block_id=this.item.block.uuid),this.mode="edit"),this.blocks=this.navParams.data.block||[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"dismiss",value:function(e){this.modalCtrl.dismiss(e)}},{key:"save",value:function(){var e=this;switch(this.mode){case"create":this.courseService.storeActivityTheme({title:this.title,block_id:this.block_id},this.course_id).subscribe((function(t){e.dismiss(t.data)}),(function(t){e.controlErroresService.control(t)}));break;case"edit":this.courseService.updateActivityTheme({title:this.title,block_id:this.block_id},this.item.uuid).subscribe((function(t){e.dismiss(t.data)}),(function(t){e.controlErroresService.control(t)}))}}}]),e}()).\u0275fac=function(e){return new(e||To)(y.ac(r.Db),y.ac(r.Fb),y.ac(d.a),y.ac(b.a),y.ac(u.a))},To.\u0275cmp=y.Ub({type:To,selectors:[["add-activity-theme"]],decls:26,vars:18,consts:[["translucent","true"],["slot","end"],[3,"click"],["name","close-outline"],["fullscreen","true"],[1,"m-2",3,"submit"],[1,"intro-x","mt-2","text-gray-700","xl:hidden","text-center"],[1,"flex","flex-center","mt-1"],["type","text","name","title",1,"intro-x","login__input","form-control","py-3","px-4","border-gray-300","block",3,"ngModel","placeholder","ngModelChange"],[1,"mt-3"],["name","block_id",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","submit","size","small"],[3,"value"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-buttons",1),y.gc(6,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(7,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.fc(),y.gc(8,"ion-content",4),y.gc(9,"form",5),y.oc("submit",(function(){return t.save()})),y.gc(10,"h3",6),y.ed(11),y.tc(12,"translate"),y.fc(),y.gc(13,"div",7),y.gc(14,"input",8),y.oc("ngModelChange",(function(e){return t.title=e})),y.tc(15,"translate"),y.fc(),y.fc(),y.gc(16,"div",9),y.gc(17,"h3",6),y.ed(18),y.tc(19,"translate"),y.fc(),y.gc(20,"ng-select",10),y.oc("ngModelChange",(function(e){return t.block_id=e})),y.cd(21,Mo,2,2,"ng-option",11),y.fc(),y.fc(),y.gc(22,"div",7),y.gc(23,"ion-button",12),y.ed(24),y.tc(25,"translate"),y.fc(),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.gd(" ",y.uc(4,8,"pages.course.themes")," "),y.Lb(8),y.fd(y.uc(12,10,"forms.title")),y.Lb(3),y.Bc("placeholder",y.uc(15,12,"forms.title")),y.Ac("ngModel",t.title),y.Lb(4),y.fd(y.uc(19,14,"pages.course.block")),y.Lb(2),y.Ac("ngModel",t.block_id),y.Lb(1),y.Ac("ngForOf",t.blocks),y.Lb(3),y.fd(y.uc(25,16,"buttons.save")))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,r.u,o.H,o.s,o.t,o.c,o.r,o.u,Po.a,n.s,Po.o],pipes:[M.d],styles:[""]}),To);function zo(e,t){1&e&&y.bc(0,"mat-progress-bar",7)}function Do(e,t){1&e&&(y.gc(0,"small"),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.gd(" : ",y.uc(2,1,"pages.course.no_last_works")," "))}function qo(e,t){if(1&e&&(y.gc(0,"ion-card-header"),y.gc(1,"ion-card-subtitle"),y.ed(2),y.tc(3,"translate"),y.tc(4,"translate"),y.cd(5,Do,3,3,"small",6),y.fc(),y.fc()),2&e){var i=y.sc(2);y.Lb(2),y.hd("",y.uc(3,3,"pages.course.semesters")," - ",y.uc(4,5,"pages.course.blocks")," "),y.Lb(3),y.Ac("ngIf",!i.course.semesters||0==i.course.semesters.length)}}function Eo(e,t){1&e&&(y.gc(0,"small"),y.ed(1),y.tc(2,"translate"),y.fc()),2&e&&(y.Lb(1),y.gd(" : ",y.uc(2,1,"pages.course.no_last_works")," "))}function Ro(e,t){if(1&e){var i=y.hc();y.gc(0,"div",21),y.gc(1,"a",12),y.gc(2,"div",13),y.ed(3),y.fc(),y.gc(4,"div"),y.gc(5,"ion-button",14),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(4).editItem("Actualizar parcial","block",e)})),y.bc(6,"ion-icon",15),y.fc(),y.gc(7,"ion-button",16),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index,n=y.sc().index;return y.sc(3).deleteItem("block",e.uuid,c,n)})),y.bc(8,"ion-icon",17),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.fd(c.title)}}function $o(e,t){if(1&e){var i=y.hc();y.gc(0,"div",11),y.gc(1,"a",12),y.gc(2,"div",13),y.ed(3),y.fc(),y.gc(4,"div"),y.gc(5,"ion-button",14),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(3).editItem("Actualizar semestre","semester",e)})),y.bc(6,"ion-icon",15),y.fc(),y.gc(7,"ion-button",16),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index;return y.sc(3).deleteItem("semester",e.uuid,c,0)})),y.bc(8,"ion-icon",17),y.fc(),y.fc(),y.fc(),y.gc(9,"div",18),y.gc(10,"small"),y.ed(11),y.tc(12,"translate"),y.fc(),y.cd(13,Eo,3,3,"small",6),y.fc(),y.cd(14,Ro,9,1,"div",19),y.gc(15,"ion-list"),y.gc(16,"ion-item"),y.gc(17,"ion-button",20),y.oc("click",(function(){y.Sc(i);var e=t.index,c=t.$implicit,n=y.sc(3);return n.addItemCtg("Agregar Parcial","block",n.course.uuid,{position:e,semester_id:c.uuid})})),y.ed(18),y.tc(19,"translate"),y.tc(20,"translate"),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.fd(c.title),y.Lb(8),y.fd(y.uc(12,6,"pages.course.blocks")),y.Lb(2),y.Ac("ngIf",!c.blocks||0==c.blocks.length),y.Lb(1),y.Ac("ngForOf",c.blocks),y.Lb(4),y.hd("",y.uc(19,8,"buttons.add")," ",y.uc(20,10,"buttons.block"),"")}}function jo(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card-content"),y.cd(1,$o,21,12,"div",9),y.gc(2,"ion-button",10),y.oc("click",(function(){y.Sc(i);var e=y.sc(2);return e.addItemCtg("Agregar Semestre","semester",e.course.uuid,{})})),y.ed(3),y.tc(4,"translate"),y.tc(5,"translate"),y.fc(),y.fc()}if(2&e){var c=y.sc(2);y.Lb(1),y.Ac("ngForOf",c.course.semesters),y.Lb(2),y.hd("",y.uc(4,3,"buttons.add")," ",y.uc(5,5,"buttons.semester"),"")}}function Bo(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title"),y.gc(3,"ion-list"),y.gc(4,"ion-item"),y.gc(5,"ion-label"),y.ed(6),y.tc(7,"translate"),y.fc(),y.gc(8,"ion-toggle",8),y.oc("ionChange",(function(){return y.Sc(i),y.sc().updateModePartial()}))("ngModelChange",(function(e){return y.Sc(i),y.sc().course.active_mode_partials=e})),y.fc(),y.fc(),y.fc(),y.fc(),y.fc(),y.cd(9,qo,6,7,"ion-card-header",6),y.cd(10,jo,6,7,"ion-card-content",6),y.fc()}if(2&e){var c=y.sc();y.Lb(6),y.fd(y.uc(7,4,"buttons.enable_or_disabled")),y.Lb(2),y.Ac("ngModel",c.course.active_mode_partials),y.Lb(1),y.Ac("ngIf",c.course.active_mode_partials),y.Lb(1),y.Ac("ngIf",c.course.active_mode_partials)}}function Qo(e,t){if(1&e&&(y.gc(0,"span"),y.ed(1),y.fc()),2&e){var i=y.sc(2).$implicit;y.Lb(1),y.gd(" - ",i.block.semester.title," ")}}function Vo(e,t){if(1&e&&(y.gc(0,"div"),y.bc(1,"hr"),y.gc(2,"span"),y.ed(3),y.fc(),y.cd(4,Qo,2,1,"span",6),y.fc()),2&e){var i=y.sc().$implicit;y.Lb(3),y.gd("",i.block.title," "),y.Lb(1),y.Ac("ngIf",i.block.semester)}}function Ho(e,t){if(1&e){var i=y.hc();y.gc(0,"div",11),y.gc(1,"a",12),y.gc(2,"div",13),y.ed(3),y.cd(4,Vo,5,2,"div",6),y.fc(),y.gc(5,"div"),y.gc(6,"ion-button",14),y.oc("click",(function(){y.Sc(i);var e=t.$implicit;return y.sc(2).addOrEditTheme(e)})),y.bc(7,"ion-icon",15),y.fc(),y.gc(8,"ion-button",16),y.oc("click",(function(){y.Sc(i);var e=t.$implicit,c=t.index;return y.sc(2).deleteItem("theme",e.uuid,c,0)})),y.bc(9,"ion-icon",17),y.fc(),y.fc(),y.fc(),y.fc()}if(2&e){var c=t.$implicit;y.Lb(3),y.gd(" ",c.title," "),y.Lb(1),y.Ac("ngIf",c.block)}}function No(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.fc(),y.gc(5,"ion-card-content",22),y.cd(6,Ho,10,2,"div",9),y.gc(7,"ion-button",10),y.oc("click",(function(){return y.Sc(i),y.sc().addOrEditTheme()})),y.ed(8),y.tc(9,"translate"),y.fc(),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(3),y.fd(y.uc(4,3,"pages.course.themes")),y.Lb(3),y.Ac("ngForOf",c.course.themes_course),y.Lb(2),y.fd(y.uc(9,5,"buttons.add"))}}var Uo,Jo=((Uo=function(){function e(t,i,c,n,o,r){_classCallCheck(this,e),this.courseService=t,this.navParams=i,this.modalCtrl=c,this.controlErroresService=n,this.alertController=o,this.toastService=r,this.enableSemester=!1,this.course=null,this.course_id=0,this.loading=!0,this.scrollbarStyle=_.a.scrollbarStyle,this.saving=!1,this.code_option=1,this.link_class=location.origin+"/"+m.h.one_course+this.course_id+"?code=",this.course_id=this.navParams.data.course_id}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCourse()}},{key:"getCourse",value:function(){var e=this;this.loading=!0,this.courseService.course(this.course_id,"?show_partials=1&show_themes=1").subscribe((function(t){e.loading=!1,e.course=t.data}),(function(t){e.loading=!1,e.controlErroresService.control(t),e.dismiss()}))}},{key:"updateModePartial",value:function(){var e=this;this.saving=!0,this.courseService.updateModePartial({mode_p:this.course.active_mode_partials?"si":"no"},this.course_id).subscribe((function(t){e.toastService.presentToast(t.message,t.status),e.saving=!1}),(function(t){e.saving=!1,e.course.active_mode_partials=!e.course.active_mode_partials,e.controlErroresService.control(t)}))}},{key:"dismiss",value:function(e){this.modalCtrl.dismiss()}},{key:"addItemCtg",value:function(e,t,i,c){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"",header:e,inputs:[{name:"title",value:"",type:"text",placeholder:"T\xedtulo"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"A\xf1adir",handler:function(e){switch(t){case"semester":r.saving=!0,r.courseService.storeSemester({title:e.title},i).subscribe((function(e){e.data&&(r.course.semesters.push(e.data),r.saving=!1)}),(function(e){r.controlErroresService.control(e),r.saving=!1}));break;case"block":r.saving=!0,r.courseService.storeBlock({title:e.title,semester_id:c.semester_id},i).subscribe((function(e){e.data&&r.course.semesters[c.position].blocks.push(e.data),r.saving=!1}),(function(e){r.controlErroresService.control(e),r.saving=!1}))}}}]});case 2:return o=n.sent,n.next=5,o.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"deleteItem",value:function(e,t,i,c){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Eliminar",message:"\xbfEst\xe1 seguro de eliminar este elemento?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Eliminar",role:"delete",handler:function(){switch(e){case"semester":r.saving=!0,r.courseService.deleteSemester(t).subscribe((function(e){r.toastService.presentToast(e.message,"success"),r.course.semesters.splice(i,1),r.saving=!1}),(function(e){r.controlErroresService.control(e),r.saving=!1}));break;case"block":r.saving=!0,r.courseService.deleteBlock(t).subscribe((function(e){r.toastService.presentToast(e.message,"success"),r.course.semesters[c].blocks.splice(i,1),r.saving=!1}),(function(e){r.controlErroresService.control(e),r.saving=!1}));break;case"theme":r.saving=!0,r.courseService.deleteActivityTheme(t).subscribe((function(e){r.toastService.presentToast(e.message,"success"),r.course.themes_course.splice(i,1),r.saving=!1}),(function(e){r.controlErroresService.control(e),r.saving=!1}))}}}]});case 2:return o=n.sent,n.next=5,o.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"editItem",value:function(e,t,i){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function c(){var n,o=this;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.alertController.create({cssClass:"",header:e,inputs:[{name:"title",value:i.title,type:"text",placeholder:"T\xedtulo"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"Guardar",handler:function(e){switch(t){case"semester":o.saving=!0,o.courseService.updateSemester({title:e.title},i.uuid).subscribe((function(t){i.title=e.title,o.saving=!1}),(function(e){o.controlErroresService.control(e),o.saving=!1}));break;case"block":o.saving=!0,o.courseService.updateBlock({title:e.title},i.uuid).subscribe((function(t){i.title=e.title,o.saving=!1}),(function(e){o.controlErroresService.control(e),o.saving=!1}))}}}]});case 2:return n=c.sent,c.next=5,n.present();case 5:case"end":return c.stop()}}),c,this)})))}},{key:"addOrEditTheme",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c,n,o,r,a,s,l,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],c=_createForOfIteratorHelper(this.course.semesters);try{for(c.s();!(n=c.n()).done;){o=n.value,r=_createForOfIteratorHelper(o.blocks);try{for(r.s();!(a=r.n()).done;)s=a.value,(s=JSON.parse(JSON.stringify(s))).title+=" - "+o.title,i.push(s)}catch(f){r.e(f)}finally{r.f()}}}catch(f){c.e(f)}finally{c.f()}return t.next=5,this.modalCtrl.create({component:Fo,cssClass:"modal-fullscreen",swipeToClose:!0,componentProps:{item:e,course_id:this.course_id,blocks:i}});case 5:return l=t.sent,t.next=8,l.present();case 8:return t.next=10,l.onWillDismiss();case 10:u=t.sent,(d=u.data)&&(null!=e?(e.block=d.block,e.title=d.title):this.course.themes_course.push(d),console.log(d));case 13:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Uo)(y.ac(d.a),y.ac(r.Fb),y.ac(r.Db),y.ac(u.a),y.ac(r.b),y.ac(b.a))},Uo.\u0275cmp=y.Ub({type:Uo,selectors:[["modal-edit-mode-qualification"]],decls:12,vars:8,consts:[["translucent","true"],["slot","end"],[3,"disabled","click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],[3,"scrollbar"],[4,"ngIf"],["mode","indeterminate"],[3,"ngModel","ionChange","ngModelChange"],["class","border-2 border-dashed dark:border-dark-5 pos__ticket p-2",4,"ngFor","ngForOf"],["size","small",3,"click"],[1,"border-2","border-dashed","dark:border-dark-5","pos__ticket","p-2"],["href","javascript:;","data-toggle","modal","data-target","#add-item-modal",1,"flex","space-btw","p-3","cursor-pointer","transition","duration-300","ease-in-out","bg-white","dark:bg-dark-3","hover:bg-gray-200","dark:hover:bg-dark-1","rounded-md"],[1,"pos__ticket__item-name","truncate","mr-1"],["size","small","color","success","shape","round",3,"click"],["name","create-outline"],["size","small","color","danger","shape","round",3,"click"],["name","trash-outline"],[1,"ml-3"],["class","pos__ticket box p-2",4,"ngFor","ngForOf"],["slot","end","size","small","color","warning",3,"click"],[1,"pos__ticket","box","p-2"],[2,"margin-left","10px","margin-right","10px"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-buttons",1),y.gc(6,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(7,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.cd(8,zo,1,0,"mat-progress-bar",4),y.fc(),y.gc(9,"ion-content",5),y.cd(10,Bo,11,6,"ion-card",6),y.cd(11,No,10,7,"ion-card",6),y.fc()),2&e&&(y.Lb(3),y.gd(" ",y.uc(4,6,"pages.course.setting_qualification")," "),y.Lb(3),y.Ac("disabled",t.saving),y.Lb(2),y.Ac("ngIf",t.loading||t.saving),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf",t.course),y.Lb(1),y.Ac("ngIf",t.course))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,n.t,r.u,w.b,A.a,r.m,r.o,r.q,r.O,r.H,r.N,r.yb,r.c,o.r,o.u,r.p,r.n,n.s],pipes:[M.d],styles:[".bg-color-active[_ngcontent-%COMP%]{background-color:rgba(237,242,247,var(--tw-bg-opacity))}.text-color-no-active[_ngcontent-%COMP%]{color:var(--ion-color-medium)}"]}),Uo),Yo=i("Jcxb"),Wo=["theLastReferencePost"];function Go(e,t){1&e&&y.bc(0,"mat-progress-bar",7)}function Ko(e,t){if(1&e&&y.bc(0,"panel-instructions-activity",17),2&e){var i=t.$implicit,c=y.sc(2);y.Ac("activity",i)("show_button_open",!1)("expanded_panel",!1)("route_activity",c.route_activity)("force_show_qualification",!0)("show_details_assignments",!0)}}function Xo(e,t){1&e&&(y.gc(0,"ion-card"),y.gc(1,"ion-card-header"),y.gc(2,"ion-card-title",18),y.ed(3),y.tc(4,"translate"),y.fc(),y.gc(5,"ion-card-subtitle"),y.bc(6,"ion-icon",19),y.ed(7),y.tc(8,"translate"),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.fd(y.uc(4,2,"pages.course.activities_crate_welcome_student")),y.Lb(4),y.gd(" ",y.uc(8,4,"pages.course.response_activities_post")," "))}function Zo(e,t){if(1&e&&(y.gc(0,"ion-grid",8),y.gc(1,"ion-row",9),y.gc(2,"ion-col",10),y.bc(3,"filters-course",11),y.fc(),y.gc(4,"ion-col",12),y.gc(5,"ion-grid"),y.gc(6,"ion-col",13),y.cd(7,Ko,1,6,"panel-instructions-activity",14),y.bc(8,"span",null,15),y.cd(10,Xo,9,6,"ion-card",16),y.fc(),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=y.sc();y.Lb(3),y.Ac("required",i.allowFilters)("course_id",i.course.uuid)("buttons",i.buttons_all),y.Lb(4),y.Ac("ngForOf",i.activities),y.Lb(3),y.Ac("ngIf",0==i.activities.length)}}var er,tr=((er=function(){function e(t,i,c,n,o){var r=this;_classCallCheck(this,e),this.modalCtrl=t,this.navParams=i,this.courseService=c,this.controlErroresService=n,this.applyFiltersModeService=o,this.scrollbarStyle=_.a.scrollbarStyle,this.loading=!1,this.activities=[],this.totalPages=0,this.this_page=1,this.button_search_all={color:"warning",size:"small",mode:"search-act",disabled:!1,title:"buttons.search",icon:"search-outline"},this.buttons_all=[this.button_search_all],this.rxjsFilter=null,this.allowFilters={start_publish_at:1,end_publish_at:1,end_created_at:1,start_created_at:1,theme:1,block:1,title:1,semester:1,min_qualification_percentage:1,max_qualification_percentage:1},this.rxjsFilter=this.applyFiltersModeService.get$().subscribe((function(e){r.applyFilters(e)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.rxjsFilter.unsubscribe()}},{key:"applyFilters",value:function(e){if(!e)return!1;if(!e.mode||!e.filters)return!1;switch(e.mode){case"search-act":this.getActivitesCourseByUser(!0,e.filters)}}},{key:"ngOnInit",value:function(){this.getActivitesCourseByUser(!0)}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){e.intersectionObserver(),e.theLastReferencePost.changes.subscribe((function(t){t.last&&e.observer.observe(t.last.nativeElement)}))}))}},{key:"intersectionObserver",value:function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&e.totalPages>=e.this_page&&e.getActivitesCourseByUser(!1,e.paramsFilters)}),{root:null,rootMargin:"0px",threshold:.5})}},{key:"getActivitesCourseByUser",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(this.activities=[],this.this_page=1),this.loading=!0,this.courseService.getActivitesCourseByUser(this.user.uuid,this.course.uuid,i).subscribe((function(t){e.activities=e.activities.concat(t.data),e.totalPages=t.last_page,e.loading=!1,e.this_page++}),(function(t){e.loading=!1}))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||er)(y.ac(r.Db),y.ac(r.Fb),y.ac(d.a),y.ac(u.a),y.ac(ci.a))},er.\u0275cmp=y.Ub({type:er,selectors:[["app-show-activities"]],viewQuery:function(e,t){var i;1&e&&y.ld(Wo,!0,y.o),2&e&&y.Nc(i=y.pc())&&(t.theLastReferencePost=i)},decls:12,vars:9,consts:[["translucent","true"],["slot","end"],[3,"click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],["class","w-100 flex flex-center",4,"ngIf"],["mode","indeterminate"],[1,"w-100","flex","flex-center"],[1,"w-100"],["size","12","size-sm","12"],[3,"required","course_id","buttons"],["size","12","size-sm","12",1,"all-activities-panel"],["size","12"],[3,"activity","show_button_open","expanded_panel","route_activity","force_show_qualification","show_details_assignments",4,"ngFor","ngForOf"],["theLastReferencePost",""],[4,"ngIf"],[3,"activity","show_button_open","expanded_panel","route_activity","force_show_qualification","show_details_assignments"],[2,"color","var(--ion-color-primary)"],["name","chatbox-ellipses-outline"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.tc(5,"translate"),y.fc(),y.gc(6,"ion-buttons",1),y.gc(7,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(8,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.cd(9,Go,1,0,"mat-progress-bar",4),y.fc(),y.gc(10,"ion-content",5),y.cd(11,Zo,11,5,"ion-grid",6),y.fc()),2&e&&(y.Lb(3),y.hd("",t.user?t.user.name:y.uc(4,5,"loading")," - ",null!=t.course?t.course.name:y.uc(5,7,"loading"),""),y.Lb(6),y.Ac("ngIf",t.loading),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(1),y.Ac("ngIf",t.course))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,n.t,r.u,w.b,A.a,r.A,r.gb,r.t,ni.a,n.s,S.a,r.m,r.o,r.q,r.p],pipes:[M.d],styles:[""]}),er),ir=i("w0c1");function cr(e,t){1&e&&y.bc(0,"mat-progress-bar",9)}function nr(e,t){if(1&e&&(y.gc(0,"ion-item"),y.gc(1,"div",10),y.bc(2,"img",11),y.fc(),y.gc(3,"div",12),y.gc(4,"a",13),y.ed(5),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit,c=y.sc();y.Lb(2),y.Ac("src",i.image_url||c.user_profile,y.Vc),y.Lb(3),y.hd("",i.last_name," ",i.first_name," ")}}function or(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-col",17),y.gc(1,"ion-button",18),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit,t=y.sc();return t.showDataGraph(t.course,e)})),y.bc(2,"ion-icon",19),y.fc(),y.gc(3,"ion-button",20),y.oc("click",(function(){y.Sc(i);var e=y.sc().$implicit,t=y.sc();return t.showActivities(t.course,e)})),y.bc(4,"ion-icon",21),y.fc(),y.fc()}}function rr(e,t){if(1&e&&(y.gc(0,"ion-item"),y.gc(1,"div",10),y.bc(2,"img",11),y.fc(),y.gc(3,"div",14),y.gc(4,"ion-grid"),y.gc(5,"ion-row"),y.gc(6,"ion-col",15),y.gc(7,"a",13),y.ed(8),y.fc(),y.fc(),y.cd(9,or,5,0,"ion-col",16),y.fc(),y.fc(),y.fc(),y.fc()),2&e){var i=t.$implicit,c=y.sc();y.Lb(2),y.Ac("src",i.image_url||c.user_profile,y.Vc),y.Lb(4),y.Ac("size",c.course.is_my?8:12)("sizeMd",c.course.is_my?10:12),y.Lb(2),y.hd("",i.last_name," ",i.first_name," "),y.Lb(1),y.Ac("ngIf",c.course.is_my)}}var ar,sr=((ar=function(){function e(t,i,c,n){_classCallCheck(this,e),this.navParams=t,this.courseService=i,this.controlErroresService=c,this.modalCtrl=n,this.course_id=null,this.scrollbarStyle=_.a.scrollbarStyle,this.loading=!1,this.intengrants={principals:[],students:[]},this.user_profile="/assets/images/profile-8.jpg",this.course_id=this.navParams.data.course_id}return _createClass(e,[{key:"ngOnInit",value:function(){this.getIntegrants()}},{key:"getIntegrants",value:function(){var e=this;this.loading=!0,this.courseService.getStudents(this.course_id).subscribe((function(t){e.loading=!1,e.intengrants.students=t.data,e.intengrants.principals=t.principals,e.course=t.course}),(function(t){e.loading=!1,e.controlErroresService.control(t)}))}},{key:"showDataGraph",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalCtrl.create({component:ir.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:{course:e,user:t}});case 2:return c=i.sent,i.next=5,c.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"showActivities",value:function(e,t){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalCtrl.create({component:tr,cssClass:"modal-fullscreen-100",swipeToClose:!0,componentProps:{course:e,user:t}});case 2:return c=i.sent,i.next=5,c.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||ar)(y.ac(r.Fb),y.ac(d.a),y.ac(u.a),y.ac(r.Db))},ar.\u0275cmp=y.Ub({type:ar,selectors:[["app-integrants"]],decls:27,vars:16,consts:[["translucent","true"],["slot","end"],[3,"click"],["name","close-outline"],["mode","indeterminate",4,"ngIf"],["fullscreen","true",3,"scrollbar"],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"no-padding-small-500"],["mode","indeterminate"],[1,"w-10","h-10","flex-none","image-fit"],["alt","--",1,"rounded-full",3,"src"],[1,"ml-3","mr-auto"],["href","javascript:void(0)",1,"font-medium"],[1,"ml-3","w-100","mr-auto"],[3,"size","sizeMd"],["size","4","size-sm","2",4,"ngIf"],["size","4","size-sm","2"],["color","danger","size","small",3,"click"],["name","stats-chart-outline"],["color","warning","size","small",3,"click"],["name","albums-outline"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-title"),y.ed(3),y.tc(4,"translate"),y.tc(5,"translate"),y.fc(),y.gc(6,"ion-buttons",1),y.gc(7,"ion-button",2),y.oc("click",(function(){return t.dismiss()})),y.bc(8,"ion-icon",3),y.fc(),y.fc(),y.fc(),y.cd(9,cr,1,0,"mat-progress-bar",4),y.fc(),y.gc(10,"ion-content",5),y.gc(11,"ion-card",6),y.gc(12,"ion-card-header"),y.gc(13,"ion-card-subtitle"),y.ed(14),y.tc(15,"translate"),y.fc(),y.fc(),y.gc(16,"ion-card-content"),y.gc(17,"ion-list"),y.cd(18,nr,6,3,"ion-item",7),y.fc(),y.fc(),y.fc(),y.gc(19,"ion-card",6),y.gc(20,"ion-card-header"),y.gc(21,"ion-card-subtitle"),y.ed(22),y.tc(23,"translate"),y.fc(),y.fc(),y.gc(24,"ion-card-content",8),y.gc(25,"ion-list"),y.cd(26,rr,10,6,"ion-item",7),y.fc(),y.fc(),y.fc(),y.fc()),2&e&&(y.Lb(3),y.hd("",y.uc(4,8,"pages.course.integrants")," - ",null!=t.course?t.course.name:y.uc(5,10,"loading"),""),y.Lb(6),y.Ac("ngIf",t.loading),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle),y.Lb(4),y.fd(y.uc(15,12,"pages.course.teachers")),y.Lb(4),y.Ac("ngForOf",t.intengrants.principals),y.Lb(4),y.fd(y.uc(23,14,"pages.course.students")),y.Lb(4),y.Ac("ngForOf",t.intengrants.students))},directives:[r.B,r.zb,r.xb,r.l,r.k,r.C,n.t,r.u,w.b,r.m,r.o,r.p,r.n,r.O,n.s,A.a,r.H,r.A,r.gb,r.t],pipes:[M.d],styles:[""]}),ar),lr=i("5Uy/"),ur=i("wZkO"),dr=["content"];function fr(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",5),y.oc("click",(function(){return y.Sc(i),y.sc().editModeQ()})),y.tc(1,"translate"),y.bc(2,"ion-icon",12),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"pages.course.setting_qualification"))}function gr(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-button",5),y.oc("click",(function(){return y.Sc(i),y.sc().edit()})),y.tc(1,"translate"),y.bc(2,"ion-icon",13),y.fc()}2&e&&y.Ac("matTooltip",y.uc(1,1,"forms.edit_course"))}function mr(e,t){1&e&&y.bc(0,"mat-progress-bar",14)}function pr(e,t){if(1&e&&(y.ec(0),y.bc(1,"mat-tab",17),y.tc(2,"translate"),y.dc()),2&e){var i=y.sc().$implicit,c=y.sc(2);y.Lb(1),y.Ac("active",i.index==c.indexRoute.value)("routerLink",i.route)("label",y.uc(2,3,i.title))}}function hr(e,t){if(1&e&&(y.ec(0),y.cd(1,pr,3,5,"ng-container",9),y.dc()),2&e){var i=t.$implicit;y.Lb(1),y.Ac("ngIf",i.show)}}function vr(e,t){if(1&e){var i=y.hc();y.gc(0,"ion-toolbar"),y.gc(1,"mat-tab-group",15),y.oc("selectedIndexChange",(function(e){return y.Sc(i),y.sc().navigateUrl(e)})),y.cd(2,hr,2,1,"ng-container",16),y.fc(),y.fc()}if(2&e){var c=y.sc();y.Lb(1),y.Ac("selectedIndex",c.indexRoute.value),y.Lb(1),y.Ac("ngForOf",c.navLinks)}}var br,_r,yr=function(){return{v:"1.1"}},kr=[{path:"calendar",component:yt},{path:":uuid",component:(br=function(){function e(t,i,c,n,r,a,s,l,u,d,f,g){_classCallCheck(this,e),this.router=t,this.cdRef=i,this.modalCtrl=c,this.activeRoute=n,this.routerOutlet=r,this.courseService=a,this.alertController=s,this.loadingService=l,this.profileService=u,this.scrolBottomService=d,this.controlErroresService=f,this.updateCourseEventService=g,this.loading=!1,this.scrollbarStyle=_.a.scrollbarStyle,this.indexRoute=new o.g(0),this.navLinks=[{index:1,title:"pages.course.posts",route:"posts",key:"posts",show:!0},{index:2,title:"pages.course.activities",route:"activities",key:"activities",show:!0},{index:3,title:"pages.course.my_books",route:"my_books",key:"my_books",show:!0},{index:4,title:"pages.course.library",route:"library",key:"library",show:!0},{index:5,title:"pages.course.foro",route:"foro",key:"foro",show:!0},{index:6,title:"pages.course.qualifications",route:"qualifications",key:"qualifications",show:!0}],this.loadMenus=!1,this.parentRoute=m.h.course,this.route_active="",this.course_id=0,this.course=null,this.code=null,this.timerIdServer=null,this.course_id=n.snapshot.params.uuid,this.code=n.snapshot.queryParams.code,this.getCourse(),this.sendTimerToServer()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.router.url.split("?")[0].split("/");this.route_active=t[t.length-1],this.loading$=this.loadingService.get$(),this.loading$.subscribe((function(t){e.loading=t})),this.scrolBottomService.get$().subscribe((function(t){e.scrollToBottom(t)})),$("mat-tooltip-component").remove()}},{key:"sendTimerToServer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.profileService.initTimer({action:"course",context:"course",resource_uuid:this.course_id}).subscribe((function(t){t.uuid&&(e.timerIdServer=t.uuid,ref_cc_id=e.timerIdServer)}),(function(i){(t+=1)<=3&&e.sendTimerToServer(t)}))}},{key:"navigateUrl",value:function(e){this.router.navigate([m.h.one_course+this.course_id+"/"+this.course_id+"/"+this.navLinks[e].route],{queryParams:{ref:this.timerIdServer}})}},{key:"getCourse",value:function(){var e=this;this.loading=!0,this.courseService.course(this.course_id).subscribe((function(t){e.loading=!1,e.course=t.data,e.course.is_my&&e.navLinks.unshift({index:0,title:"pages.course.dashboard",route:"dashboard",key:"dashboard",show:!0});var i=e.navLinks.findIndex((function(t){return t.key==e.route_active}));console.log(i,"index"),i>=0&&i<e.navLinks.length&&e.indexRoute.setValue(i),e.updateCourseEventService.sendData(t.data),e.loadMenus=!0}),(function(t){null==e.code?(e.loading=!1,e.controlErroresService.control(t),e.router.navigate([m.h.course])):e.courseService.prepareJoin({code:e.code,no_join:1}).subscribe((function(t){return Object(s.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data){e.next=2;break}return e.abrupt("return",(this.loading=!1,void this.openFormJoinClass(t.data)));case 2:case"end":return e.stop()}}),e,this)})))}),(function(t){e.loading=!1,e.controlErroresService.control(t),e.router.navigate([m.h.course])}))}))}},{key:"openFormJoinClass",value:function(e){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"",header:"Unirme a esta clase: "+e.name+" - "+(e.subject||"|"),buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(){c.router.navigate([m.h.course])}},{text:"Registrarme",handler:function(t){return Object(s.b)(c,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.modalCtrl.create({component:lr.a,cssClass:"modal-fullscreen-100",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{course:e}});case 3:return i=t.sent,t.next=6,i.present();case 6:case"end":return t.stop()}}),t,this)})))}}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"edit",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:Yo.a,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{course_id:this.course_id}});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.onWillDismiss();case 7:i=e.sent,(c=i.data)&&(console.log(c),this.getCourse());case 10:case"end":return e.stop()}}),e,this)})))}},{key:"editModeQ",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:Jo,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{course_id:this.course_id}});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"openModalInterants",value:function(){return Object(s.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:sr,cssClass:"modal-fullscreen",swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{course_id:this.course_id}});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"scrollToBottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;this.content.scrollToBottom(e)}}]),e}(),br.\u0275fac=function(e){return new(e||br)(y.ac(a.f),y.ac(y.i),y.ac(r.Db),y.ac(a.a),y.ac(r.fb),y.ac(d.a),y.ac(r.b),y.ac(f.a),y.ac(Io.a),y.ac(Oo.a),y.ac(u.a),y.ac(qc.a))},br.\u0275cmp=y.Ub({type:br,selectors:[["app-course-panel"]],viewQuery:function(e,t){var i;1&e&&y.ld(dr,!0),2&e&&y.Nc(i=y.pc())&&(t.content=i.first)},decls:20,vars:15,consts:[["translucent","true"],["slot","start"],[3,"disabled","routerLink","queryParams"],["name","arrow-back-outline"],["slot","end"],[3,"matTooltip","click"],["name","people-outline"],[3,"matTooltip","click",4,"ngIf"],["mode","indeterminate",4,"ngIf"],[4,"ngIf"],["fullscreen","true",3,"scrollbar"],["content",""],["name","document-attach-outline"],["name","settings-outline"],["mode","indeterminate"],["mat-align-tabs","center",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],[3,"active","routerLink","label"]],template:function(e,t){1&e&&(y.gc(0,"ion-header",0),y.gc(1,"ion-toolbar"),y.gc(2,"ion-buttons",1),y.bc(3,"ion-menu-button"),y.gc(4,"ion-button",2),y.bc(5,"ion-icon",3),y.fc(),y.fc(),y.gc(6,"ion-title"),y.ed(7),y.tc(8,"translate"),y.fc(),y.gc(9,"ion-buttons",4),y.gc(10,"ion-button",5),y.oc("click",(function(){return t.openModalInterants()})),y.tc(11,"translate"),y.bc(12,"ion-icon",6),y.fc(),y.cd(13,fr,3,3,"ion-button",7),y.cd(14,gr,3,3,"ion-button",7),y.fc(),y.fc(),y.cd(15,mr,1,0,"mat-progress-bar",8),y.cd(16,vr,3,2,"ion-toolbar",9),y.fc(),y.gc(17,"ion-content",10,11),y.bc(19,"router-outlet"),y.fc()),2&e&&(y.Lb(4),y.Ac("disabled",t.loading)("routerLink",t.parentRoute)("queryParams",y.Ec(14,yr)),y.Lb(3),y.fd(null!=t.course?t.course.name+" - "+(t.course.subject||"|"):y.uc(8,10,"menu.courses")),y.Lb(3),y.Ac("matTooltip",y.uc(11,12,"pages.course.integrants")),y.Lb(3),y.Ac("ngIf",!!t.course&&t.course.is_my),y.Lb(1),y.Ac("ngIf",!!t.course&&t.course.is_my),y.Lb(1),y.Ac("ngIf",t.loading),y.Lb(1),y.Ac("ngIf",t.loadMenus),y.Lb(1),y.Bc("scrollbar",t.scrollbarStyle))},directives:[r.B,r.zb,r.l,r.R,r.k,r.Kb,a.g,r.C,r.xb,P.a,n.t,r.u,w.b,a.k,A.a,ur.c,n.s,ur.a],pipes:[M.d],styles:["[_nghost-%COMP%]     .mat-tab-label{height:3rem!important;min-width:8rem!important}[_nghost-%COMP%]     .mat-tab-label.mat-tab-label-active{border-bottom:4px solid var(--ion-color-primary);box-sizing:border-box;border-radius:2px}[_nghost-%COMP%]     .mat-ink-bar{display:none!important}"]}),br),children:[{path:":uuid/dashboard",component:Co,runGuardsAndResolvers:"always"},{path:":uuid/posts",component:kn},{path:":uuid/activities",component:Pi},{path:":uuid/my_books",component:Mi.a},{path:":uuid/library",component:Pc.a},{path:":uuid/foro",component:Oc},{path:":uuid/qualifications",component:lo},{path:":uuid/:type/post/:post_id",component:ti},{path:":uuid/activities/create/form/:type_form",component:kt.a},{path:":uuid/activities/create/form/:type_form/:activity_id",component:kt.a},{path:":uuid/activities/details/:activity_id",component:nt},{path:":uuid/activities/details/:activity_id/:assignment_id",component:nt}]}],xr=((_r=function e(){_classCallCheck(this,e)}).\u0275mod=y.Yb({type:_r}),_r.\u0275inj=y.Xb({factory:function(e){return new(e||_r)},imports:[[a.j.forChild(kr)],a.j]}),_r),Lr=i("H5xr"),wr=i("oOf3"),Ar=i("vvyD"),Sr=i("zwmB"),Cr=i("WehO"),Ir=i("2Yyj"),Or=i.n(Ir),Pr=i("FKr1"),Mr=i("1yaQ");function Tr(){return Object(Cr.a)(g)}Object(n.L)(Or.a);var Fr,zr=((Fr=function e(){_classCallCheck(this,e)}).\u0275mod=y.Yb({type:Fr}),Fr.\u0275inj=y.Xb({factory:function(e){return new(e||Fr)},providers:[{provide:Pr.f,useValue:"es-EC"},{provide:Pr.e,useValue:Mr.b}],imports:[[n.c,o.B,o.l,r.Bb,M.c,w.a,Lr.a,wr.a,Ar.a,xr,ae.b,Po.c,st.b.forRoot({provide:st.f,useFactory:Tr}),Sr.b]]}),Fr)},"1yaQ":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return l}));var c=i("fXoL"),n=i("FKr1"),o=i("wd/R"),r=i.n(o).a||o,a=new c.u("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function s(e,t){for(var i=Array(e),c=0;c<e;c++)i[c]=t(c);return i}var l=function(){var e=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,c){var n;return _classCallCheck(this,i),(n=t.call(this))._options=c,n.setLocale(e||r.locale()),n}return _createClass(i,[{key:"setLocale",value:function(e){var t=this;_get(_getPrototypeOf(i.prototype),"setLocale",this).call(this,e);var c=r.localeData(e);this._localeData={firstDayOfWeek:c.firstDayOfWeek(),longMonths:c.months(),shortMonths:c.monthsShort(),dates:s(31,(function(e){return t.createDate(2017,0,e+1).format("D")})),longDaysOfWeek:c.weekdays(),shortDaysOfWeek:c.weekdaysShort(),narrowDaysOfWeek:c.weekdaysMin()}}},{key:"getYear",value:function(e){return this.clone(e).year()}},{key:"getMonth",value:function(e){return this.clone(e).month()}},{key:"getDate",value:function(e){return this.clone(e).date()}},{key:"getDayOfWeek",value:function(e){return this.clone(e).day()}},{key:"getMonthNames",value:function(e){return"long"==e?this._localeData.longMonths:this._localeData.shortMonths}},{key:"getDateNames",value:function(){return this._localeData.dates}},{key:"getDayOfWeekNames",value:function(e){return"long"==e?this._localeData.longDaysOfWeek:"short"==e?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}},{key:"getYearName",value:function(e){return this.clone(e).format("YYYY")}},{key:"getFirstDayOfWeek",value:function(){return this._localeData.firstDayOfWeek}},{key:"getNumDaysInMonth",value:function(e){return this.clone(e).daysInMonth()}},{key:"clone",value:function(e){return e.clone().locale(this.locale)}},{key:"createDate",value:function(e,t,i){if(t<0||t>11)throw Error('Invalid month index "'.concat(t,'". Month index has to be between 0 and 11.'));if(i<1)throw Error('Invalid date "'.concat(i,'". Date has to be greater than 0.'));var c=this._createMoment({year:e,month:t,date:i}).locale(this.locale);if(!c.isValid())throw Error('Invalid date "'.concat(i,'" for month with index "').concat(t,'".'));return c}},{key:"today",value:function(){return this._createMoment().locale(this.locale)}},{key:"parse",value:function(e,t){return e&&"string"==typeof e?this._createMoment(e,t,this.locale):e?this._createMoment(e).locale(this.locale):null}},{key:"format",value:function(e,t){if(e=this.clone(e),!this.isValid(e))throw Error("MomentDateAdapter: Cannot format invalid date.");return e.format(t)}},{key:"addCalendarYears",value:function(e,t){return this.clone(e).add({years:t})}},{key:"addCalendarMonths",value:function(e,t){return this.clone(e).add({months:t})}},{key:"addCalendarDays",value:function(e,t){return this.clone(e).add({days:t})}},{key:"toIso8601",value:function(e){return this.clone(e).format()}},{key:"deserialize",value:function(e){var t;if(e instanceof Date)t=this._createMoment(e).locale(this.locale);else if(this.isDateInstance(e))return this.clone(e);if("string"==typeof e){if(!e)return null;t=this._createMoment(e,r.ISO_8601).locale(this.locale)}return t&&this.isValid(t)?this._createMoment(t).locale(this.locale):_get(_getPrototypeOf(i.prototype),"deserialize",this).call(this,e)}},{key:"isDateInstance",value:function(e){return r.isMoment(e)}},{key:"isValid",value:function(e){return this.clone(e).isValid()}},{key:"invalid",value:function(){return r.invalid()}},{key:"_createMoment",value:function(e,t,i){var c=this._options||{},n=c.strict;return c.useUtc?r.utc(e,t,i,n):r(e,t,i,n)}}]),i}(n.c);return e.\u0275fac=function(t){return new(t||e)(c.kc(n.f,8),c.kc(a,8))},e.\u0275prov=c.Wb({token:e,factory:e.\u0275fac}),e}(),u={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},"2Yyj":function(e,t,i){var c,n,o;!function(r){if("object"==typeof e.exports){var a=r(0,t);void 0!==a&&(e.exports=a)}else n=[i,t],void 0===(o="function"==typeof(c=r)?c.apply(t,n):c)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0;t.default=["es",[["a.\xa0m.","p.\xa0m."],i,i],i,[["D","L","M","X","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],i,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],i,[["a. C.","d. C."],i,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",i,"{1}, {0}",i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[i,"$"],BRL:[i,"R$"],CNY:[i,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[i,"\xa3"],HKD:[i,"$"],ILS:[i,"\u20aa"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NZD:[i,"$"],RON:[i,"L"],THB:["\u0e3f"],TWD:[i,"NT$"],USD:["US$","$"],XAF:[],XCD:[i,"$"],XOF:[]},"ltr",function(e){return 1===e?1:5}]}))}}]);